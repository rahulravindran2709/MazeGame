/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/data/config.js":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,texture:{path:"./assets/textures/",imageFiles:[{name:"grass",image:"football_grass.png"},{name:"ball",image:"ball.png"},{name:"wall",image:"logo.png"}]},fog:{color:16777215,near:8e-4},camera:{fov:60,near:2,far:1e3,aspect:window.innerWidth/window.innerHeight,posX:1,posY:1,posZ:5},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:10,maxDistance:6e3,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!1,color:4210752},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.5,distance:10,decay:3,x:1,y:1,z:1.3},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0},physics:{world:{gravity:{x:0,y:0,z:0}},ball:{mass:1,radius:.25,initialPosition:{x:1,y:1,z:.25}}}}},"./src/css/app.scss":(e,t,r)=>{"use strict";r.r(t)},"./src/js/app.ts":(e,t,r)=>{"use strict";r.r(t);var n=r("./src/js/utils/detector.ts"),o=r("./src/js/app/main.ts");r("./src/css/app.scss");!function(){if(n.default.webgl){var e=document.getElementById("appContainer");new o.default(e)}else n.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");const i=function(){function e(e){var t=this,r=e.domElement.width,i=e.domElement.height;this.threeCamera=new n.PerspectiveCamera(o.default.camera.fov,r/i,o.default.camera.near,o.default.camera.far),this.threeCamera.position.set(o.default.camera.posX,o.default.camera.posY,o.default.camera.posZ),this.updateSize(e),window.addEventListener("resize",(function(){return t.updateSize(e)}),!1)}return e.prototype.updateSize=function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()},e}()},"./src/js/app/components/controls.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});r("./src/js/utils/orbitControls.ts");var n=r("./src/js/data/config.js");const o=function(){function e(e,t){}return e.prototype.init=function(){this.threeControls.target.set(n.default.controls.target.x,n.default.controls.target.y,n.default.controls.target.z),this.threeControls.autoRotate=n.default.controls.autoRotate,this.threeControls.autoRotateSpeed=n.default.controls.autoRotateSpeed,this.threeControls.rotateSpeed=n.default.controls.rotateSpeed,this.threeControls.zoomSpeed=n.default.controls.zoomSpeed,this.threeControls.minDistance=n.default.controls.minDistance,this.threeControls.maxDistance=n.default.controls.maxDistance,this.threeControls.minPolarAngle=n.default.controls.minPolarAngle,this.threeControls.maxPolarAngle=n.default.controls.maxPolarAngle,this.threeControls.enableDamping=n.default.controls.enableDamping,this.threeControls.enableZoom=n.default.controls.enableZoom,this.threeControls.dampingFactor=n.default.controls.dampingFactor},e}()},"./src/js/app/components/geometry.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/utils/bufferGeometryUtils.ts");const i=function(){function e(e,t){this.scene=e,this.geo=null,this.dimension=t}return e.prototype.makeSphere=function(e,t,r){void 0===t&&(t=32),void 0===r&&(r=32),this.geo=new n.SphereGeometry(e,t,r)},e.prototype.makePlane=function(e,t,r,o){void 0===r&&(r=1),void 0===o&&(o=1),this.geo=new n.PlaneGeometry(e,t,r,o)},e.prototype.makeBox=function(e,t,r,o,i,a){this.geo=new n.BoxGeometry(e,t,r,o,i,a)},e.prototype.makeBall=function(){return this.makeSphere(.25,32,16),this.geo},e.prototype.makeGround=function(){return this.makePlane(10*this.dimension,10*this.dimension,this.dimension,this.dimension),this.geo},e.prototype.makeWalls=function(e){for(var t=new n.Object3D,r=new n.Object3D,i=[],a=0;a<e.length;a++)for(var s=0;s<e.length;s++)if(!0===e[a][s]){var l=new n.BoxGeometry(1,1,1,1,1,1);r.position.x=a,r.position.y=s,r.position.z=0,r.add(t),t.updateWorldMatrix(!0,!1),l.applyMatrix4(t.matrixWorld),i.push(l)}return o.BufferGeometryUtils.mergeBufferGeometries(i)},e}()},"./src/js/app/components/light.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");const i=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){this.pointLight=new n.PointLight(o.default.pointLight.color,o.default.pointLight.intensity,o.default.pointLight.distance,o.default.pointLight.decay),this.pointLight.position.set(o.default.pointLight.x,o.default.pointLight.y,o.default.pointLight.z),this.pointLight.visible=o.default.pointLight.enabled,this.ambientLight=new n.AmbientLight(o.default.ambientLight.color),this.ambientLight.visible=o.default.ambientLight.enabled},e.prototype.place=function(e){switch(e){case"point":this.scene.add(this.pointLight);break;case"ambient":this.scene.add(this.ambientLight)}},e}()},"./src/js/app/components/material.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r("./node_modules/three/build/three.module.js");const o=function(){function e(){}return e.prototype.makePhongMaterial=function(e){return new n.MeshPhongMaterial({map:e})},e}()},"./src/js/app/components/physics.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{Physics:()=>i});var n=r("./node_modules/cannon-es/dist/cannon-es.js"),o=r("./src/js/data/config.js"),i=function(){function e(){this.force=500,this.dt=1/60,this.fixedTimeStep=1/60,this.maxSubSteps=3}return e.prototype.setupWorld=function(e){this.createZeroGravityWorld(),this.createFrictionSurfaces(),this.createGround(),this.createBall(),this.createWall(e)},e.prototype.createZeroGravityWorld=function(){var e=o.default.physics.world.gravity,t=e.x,r=e.y,i=e.z;this.world=new n.World({gravity:new n.Vec3(t,r,i),broadphase:new n.NaiveBroadphase})},e.prototype.createFrictionSurfaces=function(){this.ballMaterial=new n.Material("ballMaterial"),this.groundMaterial=new n.Material("groundMaterial"),this.wallMaterial=new n.Material("wallMaterial");var e=new n.ContactMaterial(this.groundMaterial,this.groundMaterial,{friction:1,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3,frictionEquationStiffness:1e8});this.world.addContactMaterial(e);var t=new n.ContactMaterial(this.groundMaterial,this.ballMaterial,{friction:1,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3});this.world.addContactMaterial(t);var r=new n.ContactMaterial(this.ballMaterial,this.wallMaterial,{friction:.6,restitution:.7,contactEquationStiffness:1e8,contactEquationRelaxation:3});this.world.addContactMaterial(r)},e.prototype.createBall=function(){var e=o.default.physics.ball,t=e.initialPosition,r=e.mass,i=e.radius;this.ball=new n.Body({material:this.ballMaterial,mass:r,collisionFilterGroup:this.GROUP1,collisionFilterMask:this.GROUP2,linearDamping:.5,angularDamping:.5,shape:new n.Sphere(i),type:n.BODY_TYPES.DYNAMIC});var a=t.x,s=void 0===a?0:a,l=t.y,u=void 0===l?0:l,c=t.z,d=void 0===c?0:c;this.ball.position.set(s,u,d),this.world.addBody(this.ball),this.ball.addEventListener("collide",(function(e){console.log("The sphere just collided with the ground!"),console.log("Collided with body:",e.body)}))},e.prototype.createGround=function(){var e=new n.Plane,t=new n.Body({mass:0,material:this.groundMaterial});t.addShape(e),t.position.setZero(),this.world.addBody(t)},e.prototype.createWall=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)if(!0===e[t][r]){var o=new n.Body({type:n.BODY_TYPES.STATIC,material:this.wallMaterial,shape:new n.Box(new n.Vec3(.5,.5,.5)),collisionFilterGroup:this.GROUP2,collisionFilterMask:this.GROUP1});o.position.x=t,o.position.y=r,o.position.z=0,this.world.addBody(o)}},e.prototype.moveBall=function(e){var t,r=new n.Vec3(0,0,.25);switch(e){case"left":t=new n.Vec3(-1,0,0);break;case"right":t=new n.Vec3(1,0,0);break;case"up":t=new n.Vec3(0,1,0);break;case"down":t=new n.Vec3(0,-1,0)}this.ball.applyImpulse(t,r)},e.prototype.updatePhysics=function(e){this.world.step(this.fixedTimeStep,e,this.maxSubSteps)},e}()},"./src/js/app/components/renderer.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var n=r("./node_modules/three/build/three.module.js"),o=r("./src/js/data/config.js");const i=function(){function e(e,t){var r=this;this.scene=e,this.container=t,this.threeRenderer=new n.WebGLRenderer({antialias:!0}),this.threeRenderer.setClearColor(e.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),t.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=n.PCFSoftShadowMap,o.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return r.updateSize()}),!1),window.addEventListener("resize",(function(){return r.updateSize()}),!1)}return e.prototype.updateSize=function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)},e.prototype.render=function(e,t){this.threeRenderer.render(e,t)},e}()},"./src/js/app/main.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var n,o=r("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),i=r("./node_modules/three/build/three.module.js"),a=r("./src/js/data/config.js"),s=r("./src/js/app/components/camera.ts"),l=r("./src/js/app/components/controls.ts"),u=r("./src/js/app/components/geometry.ts"),c=r("./src/js/app/components/light.ts"),d=r("./src/js/app/components/material.ts"),h=r("./src/js/app/components/physics.ts"),m=r("./src/js/app/components/renderer.ts"),p=r("./src/js/app/managers/interaction.ts"),f=r("./src/js/app/model/texture.ts");const g=function(){function e(e){var t=this;this.path=[],this.container=e,this.clock=new i.Clock,this.mazeDimension=11,this.scene=new i.Scene,this.scene.fog=new i.FogExp2(a.default.fog.color,a.default.fog.near),this.material=new d.default,this.geometry=new u.default(this.scene,this.mazeDimension),window.devicePixelRatio&&(a.default.dpr=window.devicePixelRatio),this.renderer=new m.default(this.scene,e),this.camera=new s.default(this.renderer.threeRenderer),this.controls=new l.default(this.camera.threeCamera,e),this.lights=new c.default(this.scene),this.texture=new f.default,this.physics=new h.Physics,this.maze=this.generateSquareMaze(this.mazeDimension),this.maze[this.mazeDimension-1][this.mazeDimension-2]=!1,this.setupPhysics(),this.texture.load().then((function(){t.setupRenderWorld(),new p.default(t.renderer.threeRenderer,t.scene,t.camera.threeCamera,t.controls.threeControls,t.moveBall.bind(t))})),this.gameState="initialize",this.render(Date.now())}return e.prototype.moveBall=function(e){this.physics.moveBall(e)},e.prototype.setupRenderWorld=function(){this.scene.add(this.camera.threeCamera),this.lights.place("ambient"),this.lights.place("point");var e=this.geometry.makeBall(),t=this.geometry.makeGround(),r=this.geometry.makeWalls(this.maze),n=this.texture.textures,o=n.grass,a=n.ball,s=n.wall,l=this.material.makePhongMaterial(a);this.ballMesh=new i.Mesh(e,l),this.ballMesh.position.set(1,1,.25),this.scene.add(this.ballMesh);var u=this.material.makePhongMaterial(s),c=new i.Mesh(r,u);c.position.z=.5,this.scene.add(c),o.wrapS=i.RepeatWrapping,o.wrapT=i.RepeatWrapping,o.repeat.set(5*this.mazeDimension,5*this.mazeDimension);var d=this.material.makePhongMaterial(o),h=new i.Mesh(t,d);h.position.set((this.mazeDimension-1)/2,(this.mazeDimension-1)/2,0),h.rotation.set(0,0,0),this.scene.add(h)},e.prototype.updateRenderWorld=function(){this.ballMesh.position.copy(this.physics.ball.position),this.ballMesh.quaternion.copy(this.physics.ball.quaternion),this.lights.pointLight.position.copy(new i.Vector3(this.physics.ball.position.x,this.physics.ball.position.y,a.default.pointLight.z)),this.camera.threeCamera.position.x+=.1*(this.ballMesh.position.x-this.camera.threeCamera.position.x),this.camera.threeCamera.position.y+=.1*(this.ballMesh.position.y-this.camera.threeCamera.position.y)},e.prototype.setupPhysics=function(){this.physics.setupWorld(this.maze)},e.prototype.generateSquareMaze=function(e){for(var t=new Array(e),r=0;r<e;r++){t[r]=new Array(e);for(var o=0;o<e;o++)t[r][o]=!0}return t=function t(r,o,i){for(r[o][i]=!1;;){if(n=[],o>1&&1==r[o-2][i]&&n.push([-1,0]),o<e-2&&1==r[o+2][i]&&n.push([1,0]),i>1&&1==r[o][i-2]&&n.push([0,-1]),i<e-2&&1==r[o][i+2]&&n.push([0,1]),0==n.length)return r;var a=n[Math.floor(Math.random()*n.length)];r[o+a[0]][i+a[1]]=!1,r=t(r,o+2*a[0],i+2*a[1])}}(t,1,1)},e.prototype.render=function(e){switch(o.default.update(),this.gameState){case"initialize":this.gameState="fade in",this.lights.pointLight.intensity=0;case"fade in":var t=this.lights.pointLight.intensity;this.lights.pointLight.intensity+=.1*(1-t),this.renderer.render(this.scene,this.camera.threeCamera),Math.abs(t-1)<.05&&(this.lights.pointLight.intensity=1,this.gameState="play");break;case"play":this.physics.updatePhysics(e),this.updateRenderWorld();var r=Math.floor(this.ballMesh.position.x+.5),n=Math.floor(this.ballMesh.position.y+.5);if(0===this.path.length)this.path.push([r,n]);else if(this.path[this.path.length-1]){var i=this.path[this.path.length-1],a=i[0],s=i[1];a===r&&s===n||this.path.push([r,n])}r==this.mazeDimension&&n==this.mazeDimension-2&&(document.getElementById("maze_solution").value=JSON.stringify(this.path),this.gameState="fade out",setTimeout((function(){document.forms[0].submit()}),300)),this.renderer.render(this.scene,this.camera.threeCamera);break;case"fade out":this.lights.pointLight.intensity+=.1*(0-this.lights.pointLight.intensity),this.renderer.render(this.scene,this.camera.threeCamera),Math.abs(this.lights.pointLight.intensity-0)<.1&&(this.lights.pointLight.intensity=0,this.renderer.render(this.scene,this.camera.threeCamera))}requestAnimationFrame(this.render.bind(this))},e}()},"./src/js/app/managers/interaction.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r("./src/js/data/config.js"),o=r("./src/js/utils/helpers.ts"),i=r("./src/js/utils/keyboard.ts");const a=function(){function e(e,t,r,n,a){var s=this;this.renderer=e,this.scene=t,this.camera=r,this.controls=n,this.timeout=null,this.keyboard=new i.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return o.default.throttle((function(){return s.onMouseMove(e)}),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return s.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return s.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||(s.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed"),s.keyboard.eventMatches(e,"left")&&(console.log("Left pressed"),a("left")),s.keyboard.eventMatches(e,"right")&&(console.log("Right pressed"),a("right")),s.keyboard.eventMatches(e,"down")&&(console.log("Down pressed"),a("down")),s.keyboard.eventMatches(e,"up")&&(console.log("Up pressed"),a("up")))}))}return e.prototype.onMouseOver=function(e){e.preventDefault(),n.default.isMouseOver=!0},e.prototype.onMouseLeave=function(e){e.preventDefault(),n.default.isMouseOver=!1},e.prototype.onMouseMove=function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){n.default.isMouseMoving=!1}),200),n.default.isMouseMoving=!0},e}()},"./src/js/app/model/texture.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r("./node_modules/three/build/three.module.js"),o=r("./node_modules/es6-promise/dist/es6-promise.js"),i=r("./src/js/utils/helpers.ts"),a=r("./src/js/data/config.js");const s=function(){function e(){this.textures={}}return e.prototype.load=function(){var e=this,t=new n.TextureLoader,r=a.default.maxAnisotropy,s=a.default.texture.imageFiles,l=[];return t.setPath(a.default.texture.path),s.forEach((function(e){l.push(new o.Promise((function(o,a){t.load(e.image,(function(t){t.anisotropy=r;var i={};i[e.name]=t,i[e.name]instanceof n.Texture&&o(i)}),i.default.logProgress(),(function(t){return a(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),o.Promise.all(l).then((function(t){for(var r=0;r<t.length;r++)e.textures[Object.keys(t[r])[0]]=t[r][Object.keys(t[r])[0]]}),(function(e){return console.log(e)}))},e}()},"./src/js/utils/bufferGeometryUtils.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{BufferGeometryUtils:()=>o});var n=r("./node_modules/THREE/build/three.module.js"),o=function(){function e(){}return e.computeTangents=function(e){e.computeTangents(),console.warn("THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.")},e.mergeBufferGeometries=function(e,t){void 0===t&&(t=!1);for(var r=null!==e[0].index,o=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},s={},l=e[0].morphTargetsRelative,u=new n.BufferGeometry,c=0,d=0;d<e.length;++d){var h=e[d],m=0;if(r!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var p in h.attributes){if(!o.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[p]&&(a[p]=[]),a[p].push(h.attributes[p]),m++}if(m!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var f in h.morphAttributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[f]&&(s[f]=[]),s[f].push(h.morphAttributes[f])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(h.userData),t){var g=void 0;if(r)g=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;g=h.attributes.position.count}u.addGroup(c,g,d),c+=g}}if(r){var b=0,y=[];for(d=0;d<e.length;++d){for(var v=e[d].index,w=0;w<v.count;++w)y.push(v.getX(w)+b);b+=e[d].attributes.position.count}u.setIndex(y)}for(var E in a){var M=this.mergeBufferAttributes(a[E]);if(!M)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+E+" attribute."),null;u.setAttribute(E,M)}for(var A in s){var T=s[A][0].length;if(0===T)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[A]=[];for(d=0;d<T;++d){var x=[];for(w=0;w<s[A].length;++w)x.push(s[A][w][d]);var j=this.mergeBufferAttributes(x);if(!j)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+A+" morphAttribute."),null;u.morphAttributes[A].push(j)}}return u},e.mergeBufferAttributes=function(e){for(var t,r,o,i=0,a=0;a<e.length;++a){var s=e[a];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===r&&(r=s.itemSize),r!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===o&&(o=s.normalized),o!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=s.array.length}var l=new t(i),u=0;for(a=0;a<e.length;++a)l.set(e[a].array,u),u+=e[a].array.length;return new n.BufferAttribute(l,r,o)},e.interleaveAttributes=function(e){for(var t,r=0,o=0,i=0,a=e.length;i<a;++i){var s=e[i];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;r+=s.array.length,o+=s.itemSize}var l=new n.InterleavedBuffer(new t(r),o),u=0,c=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],m=0;for(a=e.length;m<a;m++){var p=(s=e[m]).itemSize,f=s.count,g=new n.InterleavedBufferAttribute(l,p,u,s.normalized);c.push(g),u+=p;for(var b=0;b<f;b++)for(var y=0;y<p;y++)g[h[y]](b,s[d[y]](b))}return c},e.estimateBytesUsed=function(e){var t=0;for(var r in e.attributes){var n=e.getAttribute(r);t+=n.count*n.itemSize*n.array.BYTES_PER_ELEMENT}var o=e.getIndex();return t+=o?o.count*o.itemSize*o.array.BYTES_PER_ELEMENT:0},e.mergeVertices=function(e,t){void 0===t&&(t=1e-4),t=Math.max(t,Number.EPSILON);for(var r={},o=e.getIndex(),i=e.getAttribute("position"),a=o?o.count:i.count,s=0,l=Object.keys(e.attributes),u={},c={},d=[],h=["getX","getY","getZ","getW"],m=0,p=l.length;m<p;m++){var f=l[m];u[f]=[],(j=e.morphAttributes[f])&&(c[f]=new Array(j.length).fill().map((function(){return[]})))}var g=Math.log10(1/t),b=Math.pow(10,g);for(m=0;m<a;m++){var y=o?o.getX(m):m,v="",w=0;for(p=l.length;w<p;w++)for(var E=l[w],M=(x=e.getAttribute(E)).itemSize,A=0;A<M;A++)v+=~~(x[h[A]](y)*b)+",";if(v in r)d.push(r[v]);else{for(w=0,p=l.length;w<p;w++){var T=l[w],x=e.getAttribute(T),j=e.morphAttributes[T],L=(M=x.itemSize,u[T]),O=c[T];for(A=0;A<M;A++){var S=h[A];if(L.push(x[S](y)),j)for(var C=0,P=j.length;C<P;C++)O[C].push(j[C][S](y))}}r[v]=s,d.push(s),s++}}var k=e.clone();for(m=0,p=l.length;m<p;m++){var R=l[m],B=e.getAttribute(R),z=new B.array.constructor(u[R]);x=new n.BufferAttribute(z,B.itemSize,B.normalized);if(k.setAttribute(R,x),R in c)for(w=0;w<c[R].length;w++){var D=e.morphAttributes[R][w],G=new D.array.constructor(c[R][w]),U=new n.BufferAttribute(G,D.itemSize,D.normalized);k.morphAttributes[R][w]=U}}return k.setIndex(d),k},e.toTrianglesDrawMode=function(e,t){if(t===n.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===n.TriangleFanDrawMode||t===n.TriangleStripDrawMode){var r=e.getIndex();if(null===r){var o=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)o.push(a);e.setIndex(o),r=e.getIndex()}var s=r.count-2,l=[];if(t===n.TriangleFanDrawMode)for(a=1;a<=s;a++)l.push(r.getX(0)),l.push(r.getX(a)),l.push(r.getX(a+1));else for(a=0;a<s;a++)a%2==0?(l.push(r.getX(a)),l.push(r.getX(a+1)),l.push(r.getX(a+2))):(l.push(r.getX(a+2)),l.push(r.getX(a+1)),l.push(r.getX(a)));l.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u.clearGroups(),u}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e},e.computeMorphedAttributes=function(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;var t=new n.Vector3,r=new n.Vector3,o=new n.Vector3,i=new n.Vector3,a=new n.Vector3,s=new n.Vector3,l=new n.Vector3,u=new n.Vector3,c=new n.Vector3;function d(e,n,d,h,m,p,f,g,b){t.fromBufferAttribute(d,p),r.fromBufferAttribute(d,f),o.fromBufferAttribute(d,g);var y=e.morphTargetInfluences;if(n.morphTargets&&h&&y){l.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var v=0,w=h.length;v<w;v++){var E=y[v],M=h[v];0!==E&&(i.fromBufferAttribute(M,p),a.fromBufferAttribute(M,f),s.fromBufferAttribute(M,g),m?(l.addScaledVector(i,E),u.addScaledVector(a,E),c.addScaledVector(s,E)):(l.addScaledVector(i.sub(t),E),u.addScaledVector(a.sub(r),E),c.addScaledVector(s.sub(o),E)))}t.add(l),r.add(u),o.add(c)}e.isSkinnedMesh&&(e.boneTransform(p,t),e.boneTransform(f,r),e.boneTransform(g,o)),b[3*p+0]=t.x,b[3*p+1]=t.y,b[3*p+2]=t.z,b[3*f+0]=r.x,b[3*f+1]=r.y,b[3*f+2]=r.z,b[3*g+0]=o.x,b[3*g+1]=o.y,b[3*g+2]=o.z}var h,m,p,f,g,b,y,v,w,E=e.geometry,M=e.material,A=E.index,T=E.attributes.position,x=E.morphAttributes.position,j=E.morphTargetsRelative,L=E.attributes.normal,O=E.morphAttributes.position,S=E.groups,C=E.drawRange,P=new Float32Array(T.count*T.itemSize),k=new Float32Array(L.count*L.itemSize);if(null!==A)if(Array.isArray(M))for(f=0,b=S.length;f<b;f++)for(w=M[(v=S[f]).materialIndex],g=Math.max(v.start,C.start),y=Math.min(v.start+v.count,C.start+C.count);g<y;g+=3)d(e,w,T,x,j,h=A.getX(g),m=A.getX(g+1),p=A.getX(g+2),P),d(e,w,L,O,j,h,m,p,k);else for(f=Math.max(0,C.start),b=Math.min(A.count,C.start+C.count);f<b;f+=3)d(e,M,T,x,j,h=A.getX(f),m=A.getX(f+1),p=A.getX(f+2),P),d(e,M,L,O,j,h,m,p,k);else if(void 0!==T)if(Array.isArray(M))for(f=0,b=S.length;f<b;f++)for(w=M[(v=S[f]).materialIndex],g=Math.max(v.start,C.start),y=Math.min(v.start+v.count,C.start+C.count);g<y;g+=3)d(e,w,T,x,j,h=g,m=g+1,p=g+2,P),d(e,w,L,O,j,h,m,p,k);else for(f=Math.max(0,C.start),b=Math.min(T.count,C.start+C.count);f<b;f+=3)d(e,M,T,x,j,h=f,m=f+1,p=f+2,P),d(e,M,L,O,j,h,m,p,k);return{positionAttribute:T,normalAttribute:L,morphedPositionAttribute:new n.Float32BufferAttribute(P,3),morphedNormalAttribute:new n.Float32BufferAttribute(k,3)}},e}()},"./src/js/utils/detector.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});const n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,r,n;t=void 0!==(null==e?void 0:e.parentElement)?e.parentElement:document.body,r=void 0!==(null==e?void 0:e.id)?e.id:"oldie",(n=this.getWebGLErrorMessage()).id=r,t.appendChild(n)}}},"./src/js/utils/helpers.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var n=r("./node_modules/three/build/three.module.js");const o=function(){function e(){}return e.throttle=function(e,t,r){var n,o;return t||(t=250),function(){var i=r||this,a=+new Date,s=arguments;n&&a<n+t?(clearTimeout(o),o=setTimeout((function(){n=a,e.apply(i,s)}),t)):(n=a,e.apply(i,s))}},e.logProgress=function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t)+"% downloaded")}}},e.logError=function(){return function(e){console.error(e)}},e.handleColorChange=function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(parseInt(t,12))}},e.update=function(e){this.needsUpdate(e.material,e.geometry)},e.needsUpdate=function(e,t){return function(){e instanceof n.Material&&(e.side=+e.side,e.needsUpdate=!0),t.attributes.position.needsUpdate=!0,t.attributes.normals.needsUpdate=!0,t.attributes.colors.needsUpdate=!0}},e.updateTexture=function(e,t,r){return function(n){e[t]=r[n],e.needsUpdate=!0}},e}()},"./src/js/utils/keyboard.ts":(e,t,r)=>{"use strict";r.r(t),r.d(t,{ALIAS:()=>n,default:()=>o});var n={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27};const o=function(){function e(e){var t=this;this.domElement=e||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return t.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return t.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return t.onBlur}),!1)}return e.prototype.destroy=function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)},e.prototype.onBlur=function(){for(var e in this.keyCodes)this.keyCodes[e]=!1},e.prototype.onKeyChange=function(e){console;var t=e.keyCode;this.keyCodes[t]="keydown"===e.type},e.prototype.pressed=function(e){for(var t=e.split("+"),r=0;r<t.length;r++){var o=t[r];if(!(-1!=Object.keys(n).indexOf(o)?this.keyCodes[n[o]]:this.keyCodes[o.toUpperCase().charCodeAt(0)]))return!1}return!0},e.prototype.eventMatches=function(e,t){for(var r=n,o=Object.keys(r),i=-1!=t.indexOf("+")?t.split("+"):[t],a=0;a<i.length;a++){var s=i[a],l=!1;if("shift"===s?l=!!e.shiftKey:"ctrl"===s?l=!!e.ctrlKey:"alt"===s?l=!!e.altKey:"meta"===s?l=!!e.metaKey:-1!==o.indexOf(s)?l=e.keyCode===r[s]:e.keyCode===s.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0},e}()},"./src/js/utils/orbitControls.ts":(e,t,r)=>{"use strict";r.r(t);var n,o,i,a,s,l,u=r("./node_modules/three/build/three.module.js"),c=(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});o={type:"change"},i={type:"start"},a={type:"end"},s=function(e){function t(t,r){var n,s,l,c,d,h,m=e.call(this)||this;void 0===r&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),r===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),m.object=t,m.domElement=r,m.enabled=!0,m.target=new u.Vector3,m.minDistance=0,m.maxDistance=1/0,m.minZoom=0,m.maxZoom=1/0,m.minPolarAngle=0,m.maxPolarAngle=Math.PI,m.minAzimuthAngle=-1/0,m.maxAzimuthAngle=1/0,m.enableDamping=!1,m.dampingFactor=.05,m.enableZoom=!0,m.zoomSpeed=1,m.enableRotate=!0,m.rotateSpeed=1,m.enablePan=!0,m.panSpeed=1,m.screenSpacePanning=!0,m.keyPanSpeed=7,m.autoRotate=!1,m.autoRotateSpeed=2,m.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},m.mouseButtons={LEFT:u.MOUSE.ROTATE,MIDDLE:u.MOUSE.DOLLY,RIGHT:u.MOUSE.PAN},m.touches={ONE:u.TOUCH.ROTATE,TWO:u.TOUCH.DOLLY_PAN},m.target0=m.target.clone(),m.position0=m.object.position.clone(),m.zoom0=m.object.zoom,m._domElementKeyEvents=null,m.getPolarAngle=function(){return y.phi},m.getAzimuthalAngle=function(){return y.theta},m.listenToKeyEvents=function(e){e.addEventListener("keydown",$),this._domElementKeyEvents=e},m.saveState=function(){p.target0.copy(p.target),p.position0.copy(p.object.position),p.zoom0=p.object.zoom},m.reset=function(){p.target.copy(p.target0),p.object.position.copy(p.position0),p.object.zoom=p.zoom0,p.object.updateProjectionMatrix(),p.dispatchEvent(o),p.update(),g=f.NONE},m.update=(n=new u.Vector3,s=(new u.Quaternion).setFromUnitVectors(t.up,new u.Vector3(0,1,0)),l=s.clone().invert(),c=new u.Vector3,d=new u.Quaternion,h=2*Math.PI,function(){var e=p.object.position;n.copy(e).sub(p.target),n.applyQuaternion(s),y.setFromVector3(n),p.autoRotate&&g===f.NONE&&R(2*Math.PI/60/60*p.autoRotateSpeed),p.enableDamping?(y.theta+=v.theta*p.dampingFactor,y.phi+=v.phi*p.dampingFactor):(y.theta+=v.theta,y.phi+=v.phi);var t=p.minAzimuthAngle,r=p.maxAzimuthAngle;return isFinite(t)&&isFinite(r)&&(t<-Math.PI?t+=h:t>Math.PI&&(t-=h),r<-Math.PI?r+=h:r>Math.PI&&(r-=h),y.theta=t<=r?Math.max(t,Math.min(r,y.theta)):y.theta>(t+r)/2?Math.max(t,y.theta):Math.min(r,y.theta)),y.phi=Math.max(p.minPolarAngle,Math.min(p.maxPolarAngle,y.phi)),y.makeSafe(),y.radius*=w,y.radius=Math.max(p.minDistance,Math.min(p.maxDistance,y.radius)),!0===p.enableDamping?p.target.addScaledVector(E,p.dampingFactor):p.target.add(E),n.setFromSpherical(y),n.applyQuaternion(l),e.copy(p.target).add(n),p.object.lookAt(p.target),!0===p.enableDamping?(v.theta*=1-p.dampingFactor,v.phi*=1-p.dampingFactor,E.multiplyScalar(1-p.dampingFactor)):(v.set(0,0,0),E.set(0,0,0)),w=1,!!(M||c.distanceToSquared(p.object.position)>b||8*(1-d.dot(p.object.quaternion))>b)&&(p.dispatchEvent(o),c.copy(p.object.position),d.copy(p.object.quaternion),M=!1,!0)}),m.dispose=function(){p.domElement.removeEventListener("contextmenu",ne),p.domElement.removeEventListener("pointerdown",K),p.domElement.removeEventListener("wheel",J),p.domElement.removeEventListener("touchstart",ee),p.domElement.removeEventListener("touchend",re),p.domElement.removeEventListener("touchmove",te),p.domElement.ownerDocument.removeEventListener("pointermove",q),p.domElement.ownerDocument.removeEventListener("pointerup",Q),null!==p._domElementKeyEvents&&p._domElementKeyEvents.removeEventListener("keydown",$)};var p=m,f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},g=f.NONE,b=1e-6,y=new u.Spherical,v=new u.Spherical,w=1,E=new u.Vector3,M=!1,A=new u.Vector2,T=new u.Vector2,x=new u.Vector2,j=new u.Vector2,L=new u.Vector2,O=new u.Vector2,S=new u.Vector2,C=new u.Vector2,P=new u.Vector2;function k(){return Math.pow(.95,p.zoomSpeed)}function R(e){v.theta-=e}function B(e){v.phi-=e}var z,D=(z=new u.Vector3,function(e,t){z.setFromMatrixColumn(t,0),z.multiplyScalar(-e),E.add(z)}),G=function(){var e=new u.Vector3;return function(t,r){!0===p.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(p.object.up,e)),e.multiplyScalar(t),E.add(e)}}(),U=function(){var e=new u.Vector3;return function(t,r){var n=p.domElement;if(p.object.isPerspectiveCamera){var o=p.object.position;e.copy(o).sub(p.target);var i=e.length();i*=Math.tan(p.object.fov/2*Math.PI/180),D(2*t*i/n.clientHeight,p.object.matrix),G(2*r*i/n.clientHeight,p.object.matrix)}else p.object.isOrthographicCamera?(D(t*(p.object.right-p.object.left)/p.object.zoom/n.clientWidth,p.object.matrix),G(r*(p.object.top-p.object.bottom)/p.object.zoom/n.clientHeight,p.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),p.enablePan=!1)}}();function _(e){p.object.isPerspectiveCamera?w/=e:p.object.isOrthographicCamera?(p.object.zoom=Math.max(p.minZoom,Math.min(p.maxZoom,p.object.zoom*e)),p.object.updateProjectionMatrix(),M=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),p.enableZoom=!1)}function N(e){p.object.isPerspectiveCamera?w*=e:p.object.isOrthographicCamera?(p.object.zoom=Math.max(p.minZoom,Math.min(p.maxZoom,p.object.zoom/e)),p.object.updateProjectionMatrix(),M=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),p.enableZoom=!1)}function H(e){A.set(e.clientX,e.clientY)}function Y(e){j.set(e.clientX,e.clientY)}function I(e){if(1==e.touches.length)A.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);A.set(t,r)}}function V(e){if(1==e.touches.length)j.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);j.set(t,r)}}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);S.set(0,n)}function X(e){if(1==e.touches.length)T.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);T.set(t,r)}x.subVectors(T,A).multiplyScalar(p.rotateSpeed);var n=p.domElement;R(2*Math.PI*x.x/n.clientHeight),B(2*Math.PI*x.y/n.clientHeight),A.copy(T)}function W(e){if(1==e.touches.length)L.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);L.set(t,r)}O.subVectors(L,j).multiplyScalar(p.panSpeed),U(O.x,O.y),j.copy(L)}function Z(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);C.set(0,n),P.set(0,Math.pow(C.y/S.y,p.zoomSpeed)),_(P.y),S.copy(C)}function K(e){if(!1!==p.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),p.domElement.focus?p.domElement.focus():window.focus(),e.button){case 0:t=p.mouseButtons.LEFT;break;case 1:t=p.mouseButtons.MIDDLE;break;case 2:t=p.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u.MOUSE.DOLLY:if(!1===p.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),g=f.DOLLY;break;case u.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===p.enablePan)return;Y(e),g=f.PAN}else{if(!1===p.enableRotate)return;H(e),g=f.ROTATE}break;case u.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===p.enableRotate)return;H(e),g=f.ROTATE}else{if(!1===p.enablePan)return;Y(e),g=f.PAN}break;default:g=f.NONE}g!==f.NONE&&(p.domElement.ownerDocument.addEventListener("pointermove",q),p.domElement.ownerDocument.addEventListener("pointerup",Q),p.dispatchEvent(i))}(e)}}function q(e){if(!1!==p.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1!==p.enabled)switch(e.preventDefault(),g){case f.ROTATE:if(!1===p.enableRotate)return;!function(e){T.set(e.clientX,e.clientY),x.subVectors(T,A).multiplyScalar(p.rotateSpeed);var t=p.domElement;R(2*Math.PI*x.x/t.clientHeight),B(2*Math.PI*x.y/t.clientHeight),A.copy(T),p.update()}(e);break;case f.DOLLY:if(!1===p.enableZoom)return;!function(e){C.set(e.clientX,e.clientY),P.subVectors(C,S),P.y>0?_(k()):P.y<0&&N(k()),S.copy(C),p.update()}(e);break;case f.PAN:if(!1===p.enablePan)return;!function(e){L.set(e.clientX,e.clientY),O.subVectors(L,j).multiplyScalar(p.panSpeed),U(O.x,O.y),j.copy(L),p.update()}(e)}}(e)}}function Q(e){switch(e.pointerType){case"mouse":case"pen":p.domElement.ownerDocument.removeEventListener("pointermove",q),p.domElement.ownerDocument.removeEventListener("pointerup",Q),!1!==p.enabled&&(p.dispatchEvent(a),g=f.NONE)}}function J(e){!1===p.enabled||!1===p.enableZoom||g!==f.NONE&&g!==f.ROTATE||(e.preventDefault(),p.dispatchEvent(i),function(e){e.deltaY<0?N(k()):e.deltaY>0&&_(k()),p.update()}(e),p.dispatchEvent(a))}function $(e){!1!==p.enabled&&!1!==p.enablePan&&function(e){var t=!1;switch(e.code){case p.keys.UP:U(0,p.keyPanSpeed),t=!0;break;case p.keys.BOTTOM:U(0,-p.keyPanSpeed),t=!0;break;case p.keys.LEFT:U(p.keyPanSpeed,0),t=!0;break;case p.keys.RIGHT:U(-p.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),p.update())}(e)}function ee(e){if(!1!==p.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(p.touches.ONE){case u.TOUCH.ROTATE:if(!1===p.enableRotate)return;I(e),g=f.TOUCH_ROTATE;break;case u.TOUCH.PAN:if(!1===p.enablePan)return;V(e),g=f.TOUCH_PAN;break;default:g=f.NONE}break;case 2:switch(p.touches.TWO){case u.TOUCH.DOLLY_PAN:if(!1===p.enableZoom&&!1===p.enablePan)return;!function(e){p.enableZoom&&F(e),p.enablePan&&V(e)}(e),g=f.TOUCH_DOLLY_PAN;break;case u.TOUCH.DOLLY_ROTATE:if(!1===p.enableZoom&&!1===p.enableRotate)return;!function(e){p.enableZoom&&F(e),p.enableRotate&&I(e)}(e),g=f.TOUCH_DOLLY_ROTATE;break;default:g=f.NONE}break;default:g=f.NONE}g!==f.NONE&&p.dispatchEvent(i)}}function te(e){if(!1!==p.enabled)switch(e.preventDefault(),g){case f.TOUCH_ROTATE:if(!1===p.enableRotate)return;X(e),p.update();break;case f.TOUCH_PAN:if(!1===p.enablePan)return;W(e),p.update();break;case f.TOUCH_DOLLY_PAN:if(!1===p.enableZoom&&!1===p.enablePan)return;!function(e){p.enableZoom&&Z(e),p.enablePan&&W(e)}(e),p.update();break;case f.TOUCH_DOLLY_ROTATE:if(!1===p.enableZoom&&!1===p.enableRotate)return;!function(e){p.enableZoom&&Z(e),p.enableRotate&&X(e)}(e),p.update();break;default:g=f.NONE}}function re(e){!1!==p.enabled&&(p.dispatchEvent(a),g=f.NONE)}function ne(e){!1!==p.enabled&&e.preventDefault()}return p.domElement.addEventListener("contextmenu",ne),p.domElement.addEventListener("pointerdown",K),p.domElement.addEventListener("wheel",J,{passive:!1}),p.domElement.addEventListener("touchstart",ee,{passive:!1}),p.domElement.addEventListener("touchend",re),p.domElement.addEventListener("touchmove",te,{passive:!1}),m.update(),m}return c(t,e),t}(u.EventDispatcher),l=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.screenSpacePanning=!1,n.mouseButtons.LEFT=u.MOUSE.PAN,n.mouseButtons.RIGHT=u.MOUSE.ROTATE,n.touches.ONE=u.TOUCH.PAN,n.touches.TWO=u.TOUCH.DOLLY_ROTATE,n}return c(t,e),t}(s),u.MapControls=l,u.OrbitControls=s}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.ts",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2RhdGEvY29uZmlnLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvY2FtZXJhLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvY29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9nZW9tZXRyeS50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2xpZ2h0LnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvbWF0ZXJpYWwudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9waHlzaWNzLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbWFpbi50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYW5hZ2Vycy9pbnRlcmFjdGlvbi50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tb2RlbC90ZXh0dXJlLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvYnVmZmVyR2VvbWV0cnlVdGlscy50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvaGVscGVycy50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2tleWJvYXJkLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvb3JiaXRDb250cm9scy50cyJdLCJuYW1lcyI6WyJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNMb2FkZWQiLCJpc1R3ZWVuaW5nIiwiaXNSb3RhdGluZyIsImlzTW91c2VNb3ZpbmciLCJpc01vdXNlT3ZlciIsIm1heEFuaXNvdHJvcHkiLCJkcHIiLCJlYXNpbmciLCJUV0VFTiIsImR1cmF0aW9uIiwidGV4dHVyZSIsInBhdGgiLCJpbWFnZUZpbGVzIiwibmFtZSIsImltYWdlIiwiZm9nIiwiY29sb3IiLCJuZWFyIiwiY2FtZXJhIiwiZm92IiwiZmFyIiwiYXNwZWN0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicG9zWCIsInBvc1kiLCJwb3NaIiwiY29udHJvbHMiLCJhdXRvUm90YXRlIiwiYXV0b1JvdGF0ZVNwZWVkIiwicm90YXRlU3BlZWQiLCJ6b29tU3BlZWQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwibWluUG9sYXJBbmdsZSIsIk1hdGgiLCJQSSIsIm1heFBvbGFyQW5nbGUiLCJtaW5BemltdXRoQW5nbGUiLCJJbmZpbml0eSIsIm1heEF6aW11dGhBbmdsZSIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwiZW5hYmxlWm9vbSIsInRhcmdldCIsIngiLCJ5IiwieiIsImFtYmllbnRMaWdodCIsImVuYWJsZWQiLCJkaXJlY3Rpb25hbExpZ2h0IiwiaW50ZW5zaXR5Iiwic2hhZG93IiwiaGVscGVyRW5hYmxlZCIsImJpYXMiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsInBvaW50TGlnaHQiLCJkaXN0YW5jZSIsImRlY2F5IiwiaGVtaUxpZ2h0IiwiZ3JvdW5kQ29sb3IiLCJwaHlzaWNzIiwid29ybGQiLCJncmF2aXR5IiwiYmFsbCIsIm1hc3MiLCJyYWRpdXMiLCJpbml0aWFsUG9zaXRpb24iLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5pdCIsInJlbmRlcmVyIiwid2lkdGgiLCJkb21FbGVtZW50IiwiaGVpZ2h0IiwidGhpcyIsInRocmVlQ2FtZXJhIiwicG9zaXRpb24iLCJzZXQiLCJ1cGRhdGVTaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ0aHJlZUNvbnRyb2xzIiwic2NlbmUiLCJtYXplRGltZW5zaW9uIiwiZ2VvIiwiZGltZW5zaW9uIiwibWFrZVNwaGVyZSIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIm1ha2VQbGFuZSIsIm1ha2VCb3giLCJkZXB0aCIsImRlcHRoU2VnbWVudHMiLCJtYWtlQmFsbCIsIm1ha2VHcm91bmQiLCJtYWtlV2FsbHMiLCJtYXplQ29vcmRpbmF0ZXMiLCJvcmlnaW5IZWxwZXIiLCJPYmplY3QzRCIsInBvc2l0aW9uSGVscGVyIiwiZ2VvbWV0cmllcyIsImkiLCJsZW5ndGgiLCJqIiwiYm94R2VvbWV0cnkiLCJhZGQiLCJ1cGRhdGVXb3JsZE1hdHJpeCIsImFwcGx5TWF0cml4NCIsIm1hdHJpeFdvcmxkIiwicHVzaCIsIkJ1ZmZlckdlb21ldHJ5VXRpbHMiLCJ2aXNpYmxlIiwicGxhY2UiLCJsaWdodE5hbWUiLCJtYWtlUGhvbmdNYXRlcmlhbCIsIm1hcCIsImZvcmNlIiwiZHQiLCJmaXhlZFRpbWVTdGVwIiwibWF4U3ViU3RlcHMiLCJzZXR1cFdvcmxkIiwibWF6ZSIsImNyZWF0ZVplcm9HcmF2aXR5V29ybGQiLCJjcmVhdGVGcmljdGlvblN1cmZhY2VzIiwiY3JlYXRlR3JvdW5kIiwiY3JlYXRlQmFsbCIsImNyZWF0ZVdhbGwiLCJicm9hZHBoYXNlIiwiYmFsbE1hdGVyaWFsIiwiZ3JvdW5kTWF0ZXJpYWwiLCJ3YWxsTWF0ZXJpYWwiLCJncm91bmRfZ3JvdW5kX2NtIiwiZnJpY3Rpb24iLCJyZXN0aXR1dGlvbiIsImNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyIsImNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24iLCJmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzIiwiYWRkQ29udGFjdE1hdGVyaWFsIiwic2xpcHBlcnlfZ3JvdW5kX2NtIiwiYmFsbF93YWxsX2NtIiwibWF0ZXJpYWwiLCJjb2xsaXNpb25GaWx0ZXJHcm91cCIsIkdST1VQMSIsImNvbGxpc2lvbkZpbHRlck1hc2siLCJHUk9VUDIiLCJsaW5lYXJEYW1waW5nIiwiYW5ndWxhckRhbXBpbmciLCJzaGFwZSIsInR5cGUiLCJhZGRCb2R5IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiZ3JvdW5kU2hhcGUiLCJncm91bmRCb2R5IiwiYWRkU2hhcGUiLCJzZXRaZXJvIiwid2FsbEJvZHkiLCJtb3ZlQmFsbCIsImRpcmVjdGlvbiIsImRpcmVjdGlvblZlY3RvciIsIm9yaWdpbiIsImFwcGx5SW1wdWxzZSIsInVwZGF0ZVBoeXNpY3MiLCJ0aW1lIiwic3RlcCIsInRocmVlUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJzZXRDbGVhckNvbG9yIiwic2V0UGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJhcHBlbmRDaGlsZCIsInNoYWRvd01hcCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJzZXRTaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyZW5kZXIiLCJkaXJlY3Rpb25zIiwiY2xvY2siLCJnZW9tZXRyeSIsImxpZ2h0cyIsIlBoeXNpY3MiLCJnZW5lcmF0ZVNxdWFyZU1hemUiLCJzZXR1cFBoeXNpY3MiLCJsb2FkIiwidGhlbiIsInNldHVwUmVuZGVyV29ybGQiLCJiaW5kIiwiZ2FtZVN0YXRlIiwiRGF0ZSIsIm5vdyIsImdyb3VuZEdlb21ldHJ5Iiwid2FsbEdlb21ldHJ5IiwidGV4dHVyZXMiLCJncm91bmRUZXh0dXJlIiwiYmFsbFRleHR1cmUiLCJicmlja1RleHR1cmUiLCJiYWxsTWVzaCIsImJveE1hdGVyaWFsIiwibWVyZ2VkTWVzaCIsIndyYXBTIiwid3JhcFQiLCJyZXBlYXQiLCJwbGFuZU1lc2giLCJyb3RhdGlvbiIsInVwZGF0ZVJlbmRlcldvcmxkIiwiY29weSIsInF1YXRlcm5pb24iLCJmaWVsZCIsIkFycmF5IiwiaXRlcmF0ZSIsImRpciIsImZsb29yIiwicmFuZG9tIiwicG9pbnRMaWdodEludGVuc2l0eSIsImFicyIsIm1hemVYIiwibWF6ZVkiLCJsYXN0WCIsImxhc3RZIiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VGltZW91dCIsImZvcm1zIiwic3VibWl0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW92ZUhhbmRsZXIiLCJ0aW1lb3V0Iiwia2V5Ym9hcmQiLCJldmVudCIsIm9uTW91c2VNb3ZlIiwib25Nb3VzZUxlYXZlIiwib25Nb3VzZU92ZXIiLCJldmVudE1hdGNoZXMiLCJwcmV2ZW50RGVmYXVsdCIsImNsZWFyVGltZW91dCIsImxvYWRlciIsInByb21pc2VBcnJheSIsInNldFBhdGgiLCJmb3JFYWNoIiwiaW1hZ2VGaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhbmlzb3Ryb3B5IiwibW9kZWxPQkoiLCJ4aHIiLCJFcnJvciIsIk9iamVjdCIsImtleXMiLCJyZWFzb24iLCJjb21wdXRlVGFuZ2VudHMiLCJ3YXJuIiwibWVyZ2VCdWZmZXJHZW9tZXRyaWVzIiwidXNlR3JvdXBzIiwiaXNJbmRleGVkIiwiaW5kZXgiLCJhdHRyaWJ1dGVzVXNlZCIsIlNldCIsImF0dHJpYnV0ZXMiLCJtb3JwaEF0dHJpYnV0ZXNVc2VkIiwibW9ycGhBdHRyaWJ1dGVzIiwibW9ycGhUYXJnZXRzUmVsYXRpdmUiLCJtZXJnZWRHZW9tZXRyeSIsIkJ1ZmZlckdlb21ldHJ5Iiwib2Zmc2V0IiwiYXR0cmlidXRlc0NvdW50IiwiZXJyb3IiLCJoYXMiLCJ1bmRlZmluZWQiLCJzaXplIiwidXNlckRhdGEiLCJtZXJnZWRVc2VyRGF0YSIsImNvdW50IiwiYWRkR3JvdXAiLCJpbmRleE9mZnNldCIsIm1lcmdlZEluZGV4IiwiZ2V0WCIsInNldEluZGV4IiwibWVyZ2VkQXR0cmlidXRlIiwibWVyZ2VCdWZmZXJBdHRyaWJ1dGVzIiwic2V0QXR0cmlidXRlIiwibnVtTW9ycGhUYXJnZXRzIiwibW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSIsIm1lcmdlZE1vcnBoQXR0cmlidXRlIiwiVHlwZWRBcnJheSIsIml0ZW1TaXplIiwibm9ybWFsaXplZCIsImFycmF5TGVuZ3RoIiwiYXR0cmlidXRlIiwiaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsImFycmF5IiwiY29uc3RydWN0b3IiLCJCdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcmxlYXZlQXR0cmlidXRlcyIsInN0cmlkZSIsImwiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsIkludGVybGVhdmVkQnVmZmVyIiwicmVzIiwiZ2V0dGVycyIsInNldHRlcnMiLCJpYmEiLCJJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsImMiLCJrIiwiZXN0aW1hdGVCeXRlc1VzZWQiLCJtZW0iLCJhdHRyIiwiZ2V0QXR0cmlidXRlIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpbmRpY2VzIiwiZ2V0SW5kZXgiLCJtZXJnZVZlcnRpY2VzIiwidG9sZXJhbmNlIiwibWF4IiwiTnVtYmVyIiwiRVBTSUxPTiIsImhhc2hUb0luZGV4IiwicG9zaXRpb25zIiwidmVydGV4Q291bnQiLCJuZXh0SW5kZXgiLCJhdHRyaWJ1dGVOYW1lcyIsImF0dHJBcnJheXMiLCJtb3JwaEF0dHJzQXJyYXlzIiwibmV3SW5kaWNlcyIsIm1vcnBoQXR0ciIsImZpbGwiLCJkZWNpbWFsU2hpZnQiLCJsb2cxMCIsInNoaWZ0TXVsdGlwbGllciIsInBvdyIsImhhc2giLCJuZXdhcnJheSIsIm5ld01vcnBoQXJyYXlzIiwiZ2V0dGVyRnVuYyIsIm0iLCJtbCIsInJlc3VsdCIsImNsb25lIiwib2xkQXR0cmlidXRlIiwiYnVmZmVyIiwib2xkTW9ycGhBdHRyaWJ1dGUiLCJtb3JwaEF0dHJpYnV0ZSIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJkcmF3TW9kZSIsIlRyaWFuZ2xlc0RyYXdNb2RlIiwiVHJpYW5nbGVGYW5EcmF3TW9kZSIsIlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSIsIm51bWJlck9mVHJpYW5nbGVzIiwibmV3R2VvbWV0cnkiLCJjbGVhckdyb3VwcyIsImNvbXB1dGVNb3JwaGVkQXR0cmlidXRlcyIsIm9iamVjdCIsImlzQnVmZmVyR2VvbWV0cnkiLCJfdkEiLCJWZWN0b3IzIiwiX3ZCIiwiX3ZDIiwiX3RlbXBBIiwiX3RlbXBCIiwiX3RlbXBDIiwiX21vcnBoQSIsIl9tb3JwaEIiLCJfbW9ycGhDIiwiX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhIiwiYSIsImIiLCJtb2RpZmllZEF0dHJpYnV0ZUFycmF5IiwiZnJvbUJ1ZmZlckF0dHJpYnV0ZSIsIm1vcnBoSW5mbHVlbmNlcyIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsIm1vcnBoVGFyZ2V0cyIsImluZmx1ZW5jZSIsIm1vcnBoIiwiYWRkU2NhbGVkVmVjdG9yIiwic3ViIiwiaXNTa2lubmVkTWVzaCIsImJvbmVUcmFuc2Zvcm0iLCJpbCIsImpsIiwiZ3JvdXAiLCJncm91cE1hdGVyaWFsIiwicG9zaXRpb25BdHRyaWJ1dGUiLCJtb3JwaFBvc2l0aW9uIiwibm9ybWFsQXR0cmlidXRlIiwibm9ybWFsIiwibW9ycGhOb3JtYWwiLCJncm91cHMiLCJkcmF3UmFuZ2UiLCJtb2RpZmllZFBvc2l0aW9uIiwiRmxvYXQzMkFycmF5IiwibW9kaWZpZWROb3JtYWwiLCJpc0FycmF5IiwibWF0ZXJpYWxJbmRleCIsInN0YXJ0IiwibWluIiwibW9ycGhlZFBvc2l0aW9uQXR0cmlidXRlIiwiRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZSIsIm1vcnBoZWROb3JtYWxBdHRyaWJ1dGUiLCJjYW52YXMiLCJDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJ3ZWJnbCIsImNyZWF0ZUVsZW1lbnQiLCJXZWJHTFJlbmRlcmluZ0NvbnRleHQiLCJnZXRDb250ZXh0Iiwid29ya2VycyIsIldvcmtlciIsImZpbGVhcGkiLCJGaWxlIiwiRmlsZVJlYWRlciIsIkZpbGVMaXN0IiwiQmxvYiIsImdldFdlYkdMRXJyb3JNZXNzYWdlIiwiZWxlbWVudCIsImlkIiwic3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwiYmFja2dyb3VuZCIsInBhZGRpbmciLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJqb2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyYW1ldGVycyIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJ0aHJvdHRsZSIsImZuIiwidGhyZXNoaG9sZCIsInNjb3BlIiwibGFzdCIsImRlZmVyVGltZXIiLCJjb250ZXh0IiwiYXJncyIsImFyZ3VtZW50cyIsImFwcGx5IiwibG9nUHJvZ3Jlc3MiLCJsZW5ndGhDb21wdXRhYmxlIiwicGVyY2VudENvbXBsZXRlIiwibG9hZGVkIiwidG90YWwiLCJyb3VuZCIsImxvZ0Vycm9yIiwiaGFuZGxlQ29sb3JDaGFuZ2UiLCJyZXBsYWNlIiwic2V0SGV4IiwicGFyc2VJbnQiLCJ1cGRhdGUiLCJtZXNoIiwibmVlZHNVcGRhdGUiLCJNYXRlcmlhbCIsInNpZGUiLCJub3JtYWxzIiwiY29sb3JzIiwidXBkYXRlVGV4dHVyZSIsIm1hdGVyaWFsS2V5Iiwia2V5IiwiQUxJQVMiLCJ1cCIsImRvd24iLCJzcGFjZSIsInRhYiIsImVzY2FwZSIsImtleUNvZGVzIiwib25LZXlDaGFuZ2UiLCJvbkJsdXIiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInByb3AiLCJrZXlDb2RlIiwicHJlc3NlZCIsImtleURlc2MiLCJzcGxpdCIsImluZGV4T2YiLCJ0b1VwcGVyQ2FzZSIsImNoYXJDb2RlQXQiLCJhbGlhc2VzIiwiYWxpYXNLZXlzIiwic2hpZnRLZXkiLCJjdHJsS2V5IiwiYWx0S2V5IiwibWV0YUtleSIsIl9jaGFuZ2VFdmVudCIsIl9zdGFydEV2ZW50IiwiX2VuZEV2ZW50IiwicXVhdCIsInF1YXRJbnZlcnNlIiwibGFzdFBvc2l0aW9uIiwibGFzdFF1YXRlcm5pb24iLCJ0d29QSSIsIm1pblpvb20iLCJtYXhab29tIiwiZW5hYmxlUm90YXRlIiwiZW5hYmxlUGFuIiwicGFuU3BlZWQiLCJzY3JlZW5TcGFjZVBhbm5pbmciLCJrZXlQYW5TcGVlZCIsIkxFRlQiLCJVUCIsIlJJR0hUIiwiQk9UVE9NIiwibW91c2VCdXR0b25zIiwiTUlERExFIiwidG91Y2hlcyIsIk9ORSIsIlRXTyIsInRhcmdldDAiLCJwb3NpdGlvbjAiLCJ6b29tMCIsInpvb20iLCJfZG9tRWxlbWVudEtleUV2ZW50cyIsImdldFBvbGFyQW5nbGUiLCJzcGhlcmljYWwiLCJwaGkiLCJnZXRBemltdXRoYWxBbmdsZSIsInRoZXRhIiwibGlzdGVuVG9LZXlFdmVudHMiLCJvbktleURvd24iLCJzYXZlU3RhdGUiLCJyZXNldCIsImRpc3BhdGNoRXZlbnQiLCJzdGF0ZSIsIlNUQVRFIiwiTk9ORSIsInNldEZyb21Vbml0VmVjdG9ycyIsImludmVydCIsImFwcGx5UXVhdGVybmlvbiIsInNldEZyb21WZWN0b3IzIiwicm90YXRlTGVmdCIsInNwaGVyaWNhbERlbHRhIiwiaXNGaW5pdGUiLCJtYWtlU2FmZSIsInNjYWxlIiwicGFuT2Zmc2V0Iiwic2V0RnJvbVNwaGVyaWNhbCIsImxvb2tBdCIsIm11bHRpcGx5U2NhbGFyIiwiem9vbUNoYW5nZWQiLCJkaXN0YW5jZVRvU3F1YXJlZCIsIkVQUyIsImRvdCIsImRpc3Bvc2UiLCJvbkNvbnRleHRNZW51Iiwib25Qb2ludGVyRG93biIsIm9uTW91c2VXaGVlbCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hFbmQiLCJvblRvdWNoTW92ZSIsIm93bmVyRG9jdW1lbnQiLCJvblBvaW50ZXJNb3ZlIiwib25Qb2ludGVyVXAiLCJST1RBVEUiLCJET0xMWSIsIlBBTiIsIlRPVUNIX1JPVEFURSIsIlRPVUNIX1BBTiIsIlRPVUNIX0RPTExZX1BBTiIsIlRPVUNIX0RPTExZX1JPVEFURSIsInJvdGF0ZVN0YXJ0Iiwicm90YXRlRW5kIiwicm90YXRlRGVsdGEiLCJwYW5TdGFydCIsInBhbkVuZCIsInBhbkRlbHRhIiwiZG9sbHlTdGFydCIsImRvbGx5RW5kIiwiZG9sbHlEZWx0YSIsImdldFpvb21TY2FsZSIsImFuZ2xlIiwicm90YXRlVXAiLCJ2IiwicGFuTGVmdCIsIm9iamVjdE1hdHJpeCIsInNldEZyb21NYXRyaXhDb2x1bW4iLCJwYW5VcCIsImNyb3NzVmVjdG9ycyIsInBhbiIsImRlbHRhWCIsImRlbHRhWSIsImlzUGVyc3BlY3RpdmVDYW1lcmEiLCJ0YXJnZXREaXN0YW5jZSIsInRhbiIsImNsaWVudEhlaWdodCIsIm1hdHJpeCIsImlzT3J0aG9ncmFwaGljQ2FtZXJhIiwiY2xpZW50V2lkdGgiLCJkb2xseU91dCIsImRvbGx5U2NhbGUiLCJkb2xseUluIiwiaGFuZGxlTW91c2VEb3duUm90YXRlIiwiY2xpZW50WCIsImNsaWVudFkiLCJoYW5kbGVNb3VzZURvd25QYW4iLCJoYW5kbGVUb3VjaFN0YXJ0Um90YXRlIiwicGFnZVgiLCJwYWdlWSIsImhhbmRsZVRvdWNoU3RhcnRQYW4iLCJoYW5kbGVUb3VjaFN0YXJ0RG9sbHkiLCJkeCIsImR5Iiwic3FydCIsImhhbmRsZVRvdWNoTW92ZVJvdGF0ZSIsInN1YlZlY3RvcnMiLCJoYW5kbGVUb3VjaE1vdmVQYW4iLCJoYW5kbGVUb3VjaE1vdmVEb2xseSIsInBvaW50ZXJUeXBlIiwibW91c2VBY3Rpb24iLCJmb2N1cyIsImJ1dHRvbiIsImhhbmRsZU1vdXNlRG93bkRvbGx5Iiwib25Nb3VzZURvd24iLCJoYW5kbGVNb3VzZU1vdmVSb3RhdGUiLCJoYW5kbGVNb3VzZU1vdmVEb2xseSIsImhhbmRsZU1vdXNlTW92ZVBhbiIsImhhbmRsZU1vdXNlV2hlZWwiLCJjb2RlIiwiaGFuZGxlS2V5RG93biIsImhhbmRsZVRvdWNoU3RhcnREb2xseVBhbiIsImhhbmRsZVRvdWNoU3RhcnREb2xseVJvdGF0ZSIsImhhbmRsZVRvdWNoTW92ZURvbGx5UGFuIiwiaGFuZGxlVG91Y2hNb3ZlRG9sbHlSb3RhdGUiLCJwYXNzaXZlIiwiT3JiaXRDb250cm9scyIsIk1hcENvbnRyb2xzIl0sIm1hcHBpbmdzIjoiO3VNQUdBLFNBQ0VBLE9BQU8sRUFDUEMsZ0JBQWdCLEVBQ2hCQyxVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsWUFBWSxFQUNaQyxlQUFlLEVBQ2ZDLGFBQWEsRUFDYkMsY0FBZSxFQUNmQyxJQUFLLEVBQ0xDLE8sd0RBQVFDLCtCQUNSQyxTQUFVLElBQ1ZDLFFBQVMsQ0FDUEMsS0FBTSxxQkFDTkMsV0FBWSxDQUNWLENBQUVDLEtBQU0sUUFBU0MsTUFBTyxzQkFDeEIsQ0FBRUQsS0FBTSxPQUFRQyxNQUFPLFlBQ3ZCLENBQUVELEtBQU0sT0FBUUMsTUFBTyxjQUczQkMsSUFBSyxDQUNIQyxNQUFPLFNBQ1BDLEtBQU0sTUFFUkMsT0FBUSxDQUNOQyxJQUFLLEdBQ0xGLEtBQU0sRUFDTkcsSUFBSyxJQUNMQyxPQUFRQyxPQUFPQyxXQUFhRCxPQUFPRSxZQUNuQ0MsS0FBTSxFQUNOQyxLQUFNLEVBQ05DLEtBQU0sR0FFUkMsU0FBVSxDQUNSQyxZQUFZLEVBQ1pDLGlCQUFrQixHQUNsQkMsWUFBYSxHQUNiQyxVQUFXLEdBQ1hDLFlBQWEsR0FDYkMsWUFBYSxJQUNiQyxjQUFlQyxLQUFLQyxHQUFLLEVBQ3pCQyxj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WSxFQUFNMkYsY0FBY3BDLEdBQ3BCcUMsRUFBUUMsRUFBTUMsTUFHaEIsU0FBU21CLEdBQWM3VCxJQUNDLElBQWxCNE0sRUFBTTNZLFNBQ1YrTCxFQUFNSyxpQixPQUdSdU0sRUFBTTdXLFdBQVdPLGlCQUFpQixjQUFldWQsSUFDakRqSCxFQUFNN1csV0FBV08saUJBQWlCLGNBQWV3ZCxHQUNqRGxILEVBQU03VyxXQUFXTyxpQkFBaUIsUUFBU3lkLEVBQWMsQ0FDdkQ2RSxTQUFTLElBRVhoTSxFQUFNN1csV0FBV08saUJBQWlCLGFBQWMwZCxHQUFjLENBQzVENEUsU0FBUyxJQUVYaE0sRUFBTTdXLFdBQVdPLGlCQUFpQixXQUFZMmQsSUFDOUNySCxFQUFNN1csV0FBV08saUJBQWlCLFlBQWE0ZCxHQUFhLENBQzFEMEUsU0FBUyxJQUdYLEVBQUs5SyxTLEVBRVQsT0F0NkI0QixPQXM2QjVCLEVBdDZCQSxDQUE0QixtQkE4NkI1QixjQUNFLFdBQVlsRyxFQUFzQjdSLEdBQWxDLE1BQ0UsWUFBTTZSLEVBQVE3UixJQUFXLEssT0FDekIsRUFBSythLG9CQUFxQixFQUUxQixFQUFLTSxhQUFhSixLQUFPLFlBQ3pCLEVBQUtJLGFBQWFGLE1BQVEsZUFDMUIsRUFBS0ksUUFBUUMsSUFBTSxZQUNuQixFQUFLRCxRQUFRRSxJQUFNLHFCLEVBRXZCLE9BVjBCLE9BVTFCLEVBVkEsQ0FBMEJxSCxHQWExQixjQUFvQkMsRUFFcEIsZ0JBQXNCRCxJIiwiZmlsZSI6Im1haW4uYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRXRUVOIGZyb20gXCJAdHdlZW5qcy90d2Vlbi5qc1wiO1xyXG5cclxuLy8gVGhpcyBvYmplY3QgY29udGFpbnMgdGhlIHN0YXRlIG9mIHRoZSBhcHBcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGlzRGV2OiBmYWxzZSxcclxuICBpc1Nob3dpbmdTdGF0czogdHJ1ZSxcclxuICBpc0xvYWRlZDogZmFsc2UsXHJcbiAgaXNUd2VlbmluZzogZmFsc2UsXHJcbiAgaXNSb3RhdGluZzogdHJ1ZSxcclxuICBpc01vdXNlTW92aW5nOiBmYWxzZSxcclxuICBpc01vdXNlT3ZlcjogZmFsc2UsXHJcbiAgbWF4QW5pc290cm9weTogMSxcclxuICBkcHI6IDEsXHJcbiAgZWFzaW5nOiBUV0VFTi5FYXNpbmcuUXVhZHJhdGljLkluT3V0LFxyXG4gIGR1cmF0aW9uOiA1MDAsXHJcbiAgdGV4dHVyZToge1xyXG4gICAgcGF0aDogXCIuL2Fzc2V0cy90ZXh0dXJlcy9cIixcclxuICAgIGltYWdlRmlsZXM6IFtcclxuICAgICAgeyBuYW1lOiBcImdyYXNzXCIsIGltYWdlOiBcImZvb3RiYWxsX2dyYXNzLnBuZ1wiIH0sXHJcbiAgICAgIHsgbmFtZTogXCJiYWxsXCIsIGltYWdlOiBcImJhbGwucG5nXCIgfSxcclxuICAgICAgeyBuYW1lOiBcIndhbGxcIiwgaW1hZ2U6IFwibG9nby5wbmdcIiB9LFxyXG4gICAgXSxcclxuICB9LFxyXG4gIGZvZzoge1xyXG4gICAgY29sb3I6IDB4ZmZmZmZmLFxyXG4gICAgbmVhcjogMC4wMDA4LFxyXG4gIH0sXHJcbiAgY2FtZXJhOiB7XHJcbiAgICBmb3Y6IDYwLFxyXG4gICAgbmVhcjogMixcclxuICAgIGZhcjogMTAwMCxcclxuICAgIGFzcGVjdDogd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICBwb3NYOiAxLFxyXG4gICAgcG9zWTogMSxcclxuICAgIHBvc1o6IDUsXHJcbiAgfSxcclxuICBjb250cm9sczoge1xyXG4gICAgYXV0b1JvdGF0ZTogZmFsc2UsXHJcbiAgICBhdXRvUm90YXRlU3BlZWQ6IC0wLjUsXHJcbiAgICByb3RhdGVTcGVlZDogMC41LFxyXG4gICAgem9vbVNwZWVkOiAwLjgsXHJcbiAgICBtaW5EaXN0YW5jZTogMTAsXHJcbiAgICBtYXhEaXN0YW5jZTogNjAwMCxcclxuICAgIG1pblBvbGFyQW5nbGU6IE1hdGguUEkgLyA1LFxyXG4gICAgbWF4UG9sYXJBbmdsZTogTWF0aC5QSSAvIDIsXHJcbiAgICBtaW5BemltdXRoQW5nbGU6IC1JbmZpbml0eSxcclxuICAgIG1heEF6aW11dGhBbmdsZTogSW5maW5pdHksXHJcbiAgICBlbmFibGVEYW1waW5nOiB0cnVlLFxyXG4gICAgZGFtcGluZ0ZhY3RvcjogMC41LFxyXG4gICAgZW5hYmxlWm9vbTogdHJ1ZSxcclxuICAgIHRhcmdldDoge1xyXG4gICAgICB4OiAwLFxyXG4gICAgICB5OiAwLFxyXG4gICAgICB6OiAwLFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGFtYmllbnRMaWdodDoge1xyXG4gICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICBjb2xvcjogMHg0MDQwNDAsXHJcbiAgfSxcclxuICBkaXJlY3Rpb25hbExpZ2h0OiB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgY29sb3I6IDB4ZjBmMGYwLFxyXG4gICAgaW50ZW5zaXR5OiAwLjQsXHJcbiAgICB4OiAtNzUsXHJcbiAgICB5OiAyODAsXHJcbiAgICB6OiAxNTAsXHJcbiAgfSxcclxuICBzaGFkb3c6IHtcclxuICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICBoZWxwZXJFbmFibGVkOiB0cnVlLFxyXG4gICAgYmlhczogMCxcclxuICAgIG1hcFdpZHRoOiAyMDQ4LFxyXG4gICAgbWFwSGVpZ2h0OiAyMDQ4LFxyXG4gICAgbmVhcjogMjUwLFxyXG4gICAgZmFyOiA0MDAsXHJcbiAgICB0b3A6IDEwMCxcclxuICAgIHJpZ2h0OiAxMDAsXHJcbiAgICBib3R0b206IC0xMDAsXHJcbiAgICBsZWZ0OiAtMTAwLFxyXG4gIH0sXHJcbiAgcG9pbnRMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgIGludGVuc2l0eTogMC41LFxyXG4gICAgZGlzdGFuY2U6IDEwLFxyXG4gICAgZGVjYXk6IDMsXHJcbiAgICB4OiAxLFxyXG4gICAgeTogMSxcclxuICAgIHo6IDEuMyxcclxuICB9LFxyXG4gIGhlbWlMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweGM4YzhjOCxcclxuICAgIGdyb3VuZENvbG9yOiAweGZmZmZmZixcclxuICAgIGludGVuc2l0eTogMC41NSxcclxuICAgIHg6IDAsXHJcbiAgICB5OiAwLFxyXG4gICAgejogMCxcclxuICB9LFxyXG4gIHBoeXNpY3M6IHtcclxuICAgIHdvcmxkOiB7XHJcbiAgICAgIGdyYXZpdHk6IHtcclxuICAgICAgICB4OiAwLFxyXG4gICAgICAgIHk6IDAsXHJcbiAgICAgICAgejogMCxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBiYWxsOiB7XHJcbiAgICAgIG1hc3M6IDEsXHJcbiAgICAgIHJhZGl1czogMC4yNSxcclxuICAgICAgaW5pdGlhbFBvc2l0aW9uOiB7XHJcbiAgICAgICAgeDogMSxcclxuICAgICAgICB5OiAxLFxyXG4gICAgICAgIHo6IDAuMjUsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gIH0sXHJcbn07XHJcbiIsImltcG9ydCBDb25maWcgZnJvbSBcIi4vZGF0YS9jb25maWdcIjtcclxuaW1wb3J0IERldGVjdG9yIGZyb20gXCIuL3V0aWxzL2RldGVjdG9yXCI7XHJcbmltcG9ydCBNYWluIGZyb20gXCIuL2FwcC9tYWluXCI7XHJcblxyXG4vLyBTdHlsZXNcclxuaW1wb3J0IFwiLi8uLi9jc3MvYXBwLnNjc3NcIjtcclxuXHJcbi8vIENoZWNrIGVudmlyb25tZW50IGFuZCBzZXQgdGhlIENvbmZpZyBoZWxwZXJcclxuLy8gaWYoZ2xvYmFsLnByb2Nlc3MuZW52Ll9fRU5WX18gPT09ICdkZXYnKSB7XHJcbi8vICAgY29uc29sZS5sb2coJy0tLS0tIFJVTk5JTkcgSU4gREVWIEVOVklST05NRU5UISAtLS0tLScpO1xyXG5cclxuLy8gICBDb25maWcuaXNEZXYgPSB0cnVlO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBpbml0KCkge1xyXG4gIC8vIENoZWNrIGZvciB3ZWJHTCBjYXBhYmlsaXRpZXNcclxuICBpZiAoIURldGVjdG9yLndlYmdsKSB7XHJcbiAgICBEZXRlY3Rvci5hZGRHZXRXZWJHTE1lc3NhZ2UoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBDb250YWluZXJcIik7XHJcbiAgICBuZXcgTWFpbihjb250YWluZXIpO1xyXG4gIH1cclxufVxyXG5cclxuaW5pdCgpO1xyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL2RhdGEvY29uZmlnXCI7XHJcblxyXG4vLyBDbGFzcyB0aGF0IGNyZWF0ZXMgYW5kIHVwZGF0ZXMgdGhlIG1haW4gY2FtZXJhXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbWVyYSB7XHJcbiAgdGhyZWVDYW1lcmE7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXI6IFRIUkVFLldlYkdMUmVuZGVyZXIpIHtcclxuICAgIGNvbnN0IHdpZHRoID0gcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aDtcclxuICAgIGNvbnN0IGhlaWdodCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xyXG5cclxuICAgIC8vIENyZWF0ZSBhbmQgcG9zaXRpb24gYSBQZXJzcGVjdGl2ZSBDYW1lcmFcclxuICAgIHRoaXMudGhyZWVDYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoXHJcbiAgICAgIENvbmZpZy5jYW1lcmEuZm92LFxyXG4gICAgICB3aWR0aCAvIGhlaWdodCxcclxuICAgICAgQ29uZmlnLmNhbWVyYS5uZWFyLFxyXG4gICAgICBDb25maWcuY2FtZXJhLmZhclxyXG4gICAgKTtcclxuICAgIHRoaXMudGhyZWVDYW1lcmEucG9zaXRpb24uc2V0KFxyXG4gICAgICBDb25maWcuY2FtZXJhLnBvc1gsXHJcbiAgICAgIENvbmZpZy5jYW1lcmEucG9zWSxcclxuICAgICAgQ29uZmlnLmNhbWVyYS5wb3NaXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEluaXRpYWwgc2l6aW5nXHJcbiAgICB0aGlzLnVwZGF0ZVNpemUocmVuZGVyZXIpO1xyXG5cclxuICAgIC8vIExpc3RlbmVyc1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4gdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2l6ZShyZW5kZXJlcjogVEhSRUUuUmVuZGVyZXIpIHtcclxuICAgIC8vIFVwZGF0ZSBjYW1lcmEgYXNwZWN0IHJhdGlvIHdpdGggd2luZG93IGFzcGVjdCByYXRpb1xyXG4gICAgdGhpcy50aHJlZUNhbWVyYS5hc3BlY3QgPVxyXG4gICAgICByZW5kZXJlci5kb21FbGVtZW50LndpZHRoIC8gcmVuZGVyZXIuZG9tRWxlbWVudC5oZWlnaHQ7XHJcblxyXG4gICAgLy8gQWx3YXlzIGNhbGwgdXBkYXRlUHJvamVjdGlvbk1hdHJpeCBvbiBjYW1lcmEgY2hhbmdlXHJcbiAgICB0aGlzLnRocmVlQ2FtZXJhLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcblxyXG5pbXBvcnQgXCIuLi8uLi91dGlscy9vcmJpdENvbnRyb2xzXCI7XHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL2RhdGEvY29uZmlnXCI7XHJcblxyXG4vLyBDb250cm9scyBiYXNlZCBvbiBvcmJpdCBjb250cm9sc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9scyB7XHJcbiAgdGhyZWVDb250cm9sczogVEhSRUUuT3JiaXRDb250cm9scztcclxuICBjb25zdHJ1Y3RvcihjYW1lcmE6IFRIUkVFLkNhbWVyYSwgY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgLy8gT3JiaXQgY29udHJvbHMgZmlyc3QgbmVlZHMgdG8gcGFzcyBpbiBUSFJFRSB0byBjb25zdHJ1Y3RvclxyXG4gICAgLy8gY29uc3Qgb3JiaXRDb250cm9scyA9IG5ldyBUSFJFRS5PcmJpdENvbnRyb2xzKGNhbWVyYSwgY29udGFpbmVyKTtcclxuICAgIC8vIHRoaXMudGhyZWVDb250cm9scyA9IG9yYml0Q29udHJvbHM7XHJcblxyXG4gICAgLy90aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMudGFyZ2V0LnNldChcclxuICAgICAgQ29uZmlnLmNvbnRyb2xzLnRhcmdldC54LFxyXG4gICAgICBDb25maWcuY29udHJvbHMudGFyZ2V0LnksXHJcbiAgICAgIENvbmZpZy5jb250cm9scy50YXJnZXQuelxyXG4gICAgKTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5hdXRvUm90YXRlID0gQ29uZmlnLmNvbnRyb2xzLmF1dG9Sb3RhdGU7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuYXV0b1JvdGF0ZVNwZWVkID0gQ29uZmlnLmNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZDtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5yb3RhdGVTcGVlZCA9IENvbmZpZy5jb250cm9scy5yb3RhdGVTcGVlZDtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy56b29tU3BlZWQgPSBDb25maWcuY29udHJvbHMuem9vbVNwZWVkO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pbkRpc3RhbmNlID0gQ29uZmlnLmNvbnRyb2xzLm1pbkRpc3RhbmNlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1heERpc3RhbmNlID0gQ29uZmlnLmNvbnRyb2xzLm1heERpc3RhbmNlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLm1pblBvbGFyQW5nbGUgPSBDb25maWcuY29udHJvbHMubWluUG9sYXJBbmdsZTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhQb2xhckFuZ2xlID0gQ29uZmlnLmNvbnRyb2xzLm1heFBvbGFyQW5nbGU7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuZW5hYmxlRGFtcGluZyA9IENvbmZpZy5jb250cm9scy5lbmFibGVEYW1waW5nO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZVpvb20gPSBDb25maWcuY29udHJvbHMuZW5hYmxlWm9vbTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5kYW1waW5nRmFjdG9yID0gQ29uZmlnLmNvbnRyb2xzLmRhbXBpbmdGYWN0b3I7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuaW1wb3J0IE1hdGVyaWFsIGZyb20gXCIuL21hdGVyaWFsXCI7XHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL2RhdGEvY29uZmlnXCI7XHJcbmltcG9ydCB7IEJ1ZmZlckdlb21ldHJ5LCBPYmplY3QzRCB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeVV0aWxzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL2J1ZmZlckdlb21ldHJ5VXRpbHNcIjtcclxuXHJcbi8vIFRoaXMgaGVscGVyIGNsYXNzIGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSBhbmQgdGhlbiBwbGFjZSBnZW9tZXRyeSBpbiB0aGUgc2NlbmVcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2VvbWV0cnkge1xyXG4gIHNjZW5lOiBUSFJFRS5TY2VuZTtcclxuICBnZW86IFRIUkVFLkJ1ZmZlckdlb21ldHJ5O1xyXG4gIGRpbWVuc2lvbjogbnVtYmVyO1xyXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBUSFJFRS5TY2VuZSwgbWF6ZURpbWVuc2lvbjogbnVtYmVyKSB7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLmdlbyA9IG51bGw7XHJcbiAgICB0aGlzLmRpbWVuc2lvbiA9IG1hemVEaW1lbnNpb247XHJcbiAgfVxyXG4gIG1ha2VTcGhlcmUocmFkaXVzOiBudW1iZXIsIHdpZHRoU2VnbWVudHMgPSAzMiwgaGVpZ2h0U2VnbWVudHMgPSAzMikge1xyXG4gICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuU3BoZXJlR2VvbWV0cnkocmFkaXVzLCB3aWR0aFNlZ21lbnRzLCBoZWlnaHRTZWdtZW50cyk7XHJcbiAgfVxyXG4gIG1ha2VQbGFuZShcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIHdpZHRoU2VnbWVudHMgPSAxLFxyXG4gICAgaGVpZ2h0U2VnbWVudHMgPSAxXHJcbiAgKSB7XHJcbiAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KFxyXG4gICAgICB3aWR0aCxcclxuICAgICAgaGVpZ2h0LFxyXG4gICAgICB3aWR0aFNlZ21lbnRzLFxyXG4gICAgICBoZWlnaHRTZWdtZW50c1xyXG4gICAgKTtcclxuICB9XHJcbiAgbWFrZUJveChcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGRlcHRoOiBudW1iZXIsXHJcbiAgICB3aWR0aFNlZ21lbnRzOiBudW1iZXIsXHJcbiAgICBoZWlnaHRTZWdtZW50czogbnVtYmVyLFxyXG4gICAgZGVwdGhTZWdtZW50czogbnVtYmVyXHJcbiAgKSB7XHJcbiAgICB0aGlzLmdlbyA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeShcclxuICAgICAgd2lkdGgsXHJcbiAgICAgIGhlaWdodCxcclxuICAgICAgZGVwdGgsXHJcbiAgICAgIHdpZHRoU2VnbWVudHMsXHJcbiAgICAgIGhlaWdodFNlZ21lbnRzLFxyXG4gICAgICBkZXB0aFNlZ21lbnRzXHJcbiAgICApO1xyXG4gIH1cclxuICBtYWtlQmFsbCgpIHtcclxuICAgIHRoaXMubWFrZVNwaGVyZSgwLjI1LCAzMiwgMTYpO1xyXG4gICAgcmV0dXJuIHRoaXMuZ2VvO1xyXG4gIH1cclxuICBtYWtlR3JvdW5kKCkge1xyXG4gICAgdGhpcy5tYWtlUGxhbmUoXHJcbiAgICAgIHRoaXMuZGltZW5zaW9uICogMTAsXHJcbiAgICAgIHRoaXMuZGltZW5zaW9uICogMTAsXHJcbiAgICAgIHRoaXMuZGltZW5zaW9uLFxyXG4gICAgICB0aGlzLmRpbWVuc2lvblxyXG4gICAgKTtcclxuICAgIHJldHVybiB0aGlzLmdlbztcclxuICB9XHJcblxyXG4gIG1ha2VXYWxscyhtYXplQ29vcmRpbmF0ZXM6IEFycmF5PEFycmF5PGJvb2xlYW4+Pikge1xyXG4gICAgY29uc3Qgb3JpZ2luSGVscGVyID0gbmV3IE9iamVjdDNEKCk7XHJcbiAgICBjb25zdCBwb3NpdGlvbkhlbHBlciA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgY29uc3QgZ2VvbWV0cmllczogQnVmZmVyR2VvbWV0cnlbXSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXplQ29vcmRpbmF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtYXplQ29vcmRpbmF0ZXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAobWF6ZUNvb3JkaW5hdGVzW2ldW2pdID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBjb25zdCBib3hHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxLCAxLCAxLCAxKTtcclxuICAgICAgICAgIHBvc2l0aW9uSGVscGVyLnBvc2l0aW9uLnggPSBpO1xyXG4gICAgICAgICAgcG9zaXRpb25IZWxwZXIucG9zaXRpb24ueSA9IGo7XHJcbiAgICAgICAgICBwb3NpdGlvbkhlbHBlci5wb3NpdGlvbi56ID0gMDtcclxuICAgICAgICAgIHBvc2l0aW9uSGVscGVyLmFkZChvcmlnaW5IZWxwZXIpO1xyXG4gICAgICAgICAgb3JpZ2luSGVscGVyLnVwZGF0ZVdvcmxkTWF0cml4KHRydWUsIGZhbHNlKTtcclxuICAgICAgICAgIGJveEdlb21ldHJ5LmFwcGx5TWF0cml4NChvcmlnaW5IZWxwZXIubWF0cml4V29ybGQpO1xyXG4gICAgICAgICAgZ2VvbWV0cmllcy5wdXNoKGJveEdlb21ldHJ5KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IG1lcmdlZEdlb20gPSBCdWZmZXJHZW9tZXRyeVV0aWxzLm1lcmdlQnVmZmVyR2VvbWV0cmllcyhnZW9tZXRyaWVzKTtcclxuICAgIHJldHVybiBtZXJnZWRHZW9tO1xyXG4gIH1cclxuXHJcbiAgLy8gcGxhY2UocG9zaXRpb24sIHJvdGF0aW9uKSB7XHJcbiAgLy8gICBjb25zdCBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgweGVlZWVlZSkuc3RhbmRhcmQ7XHJcbiAgLy8gICBjb25zdCBtZXNoID0gbmV3IFRIUkVFLk1lc2godGhpcy5nZW8sIG1hdGVyaWFsKTtcclxuXHJcbiAgLy8gICAvLyBVc2UgRVM2IHNwcmVhZCB0byBzZXQgcG9zaXRpb24gYW5kIHJvdGF0aW9uIGZyb20gcGFzc2VkIGluIGFycmF5XHJcbiAgLy8gICBtZXNoLnBvc2l0aW9uLnNldCguLi5wb3NpdGlvbik7XHJcbiAgLy8gICBtZXNoLnJvdGF0aW9uLnNldCguLi5yb3RhdGlvbik7XHJcblxyXG4gIC8vICAgaWYoQ29uZmlnLnNoYWRvdy5lbmFibGVkKSB7XHJcbiAgLy8gICAgIG1lc2gucmVjZWl2ZVNoYWRvdyA9IHRydWU7XHJcbiAgLy8gICB9XHJcblxyXG4gIC8vICAgdGhpcy5zY2VuZS5hZGQobWVzaCk7XHJcbiAgLy8gfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgeyBBbWJpZW50TGlnaHQsIFBvaW50TGlnaHQsIFNjZW5lIH0gZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL2RhdGEvY29uZmlnXCI7XHJcblxyXG4vLyBTZXRzIHVwIGFuZCBwbGFjZXMgYWxsIGxpZ2h0cyBpbiBzY2VuZVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaWdodCB7XHJcbiAgc2NlbmU7XHJcbiAgcG9pbnRMaWdodDogUG9pbnRMaWdodDtcclxuICBhbWJpZW50TGlnaHQ6IEFtYmllbnRMaWdodDtcclxuICBjb25zdHJ1Y3RvcihzY2VuZTogU2NlbmUpIHtcclxuICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuXHJcbiAgICB0aGlzLmluaXQoKTtcclxuICB9XHJcblxyXG4gIGluaXQoKSB7XHJcbiAgICAvLyBQb2ludCBsaWdodFxyXG4gICAgdGhpcy5wb2ludExpZ2h0ID0gbmV3IFRIUkVFLlBvaW50TGlnaHQoXHJcbiAgICAgIENvbmZpZy5wb2ludExpZ2h0LmNvbG9yLFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC5pbnRlbnNpdHksXHJcbiAgICAgIENvbmZpZy5wb2ludExpZ2h0LmRpc3RhbmNlLFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC5kZWNheVxyXG4gICAgKTtcclxuICAgIHRoaXMucG9pbnRMaWdodC5wb3NpdGlvbi5zZXQoXHJcbiAgICAgIENvbmZpZy5wb2ludExpZ2h0LngsXHJcbiAgICAgIENvbmZpZy5wb2ludExpZ2h0LnksXHJcbiAgICAgIENvbmZpZy5wb2ludExpZ2h0LnpcclxuICAgICk7XHJcbiAgICB0aGlzLnBvaW50TGlnaHQudmlzaWJsZSA9IENvbmZpZy5wb2ludExpZ2h0LmVuYWJsZWQ7XHJcblxyXG4gICAgdGhpcy5hbWJpZW50TGlnaHQgPSBuZXcgVEhSRUUuQW1iaWVudExpZ2h0KENvbmZpZy5hbWJpZW50TGlnaHQuY29sb3IpO1xyXG4gICAgdGhpcy5hbWJpZW50TGlnaHQudmlzaWJsZSA9IENvbmZpZy5hbWJpZW50TGlnaHQuZW5hYmxlZDtcclxuICB9XHJcblxyXG4gIHBsYWNlKGxpZ2h0TmFtZTogXCJwb2ludFwiIHwgXCJhbWJpZW50XCIpIHtcclxuICAgIHN3aXRjaCAobGlnaHROYW1lKSB7XHJcbiAgICAgIGNhc2UgXCJwb2ludFwiOlxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMucG9pbnRMaWdodCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJhbWJpZW50XCI6XHJcbiAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5hbWJpZW50TGlnaHQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbi8vIFVTZSB0aGlzIGNsYXNzIGFzIGEgaGVscGVyIHRvIHNldCB1cCBzb21lIGRlZmF1bHQgbWF0ZXJpYWxzXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hdGVyaWFsIHtcclxuICBjb25zdHJ1Y3RvcigpIHt9XHJcblxyXG4gIG1ha2VQaG9uZ01hdGVyaWFsKHRleHR1cmU6IFRIUkVFLlRleHR1cmUpIHtcclxuICAgIHJldHVybiBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoeyBtYXA6IHRleHR1cmUgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIENhbm5vbiBmcm9tIFwiY2Fubm9uLWVzXCI7XHJcblxyXG5pbXBvcnQgY29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5leHBvcnQgY2xhc3MgUGh5c2ljcyB7XHJcbiAgICB3b3JsZDogQ2Fubm9uLldvcmxkO1xyXG4gICAgYmFsbDogQ2Fubm9uLkJvZHk7XHJcbiAgICBncm91bmQ6IENhbm5vbi5Cb2R5O1xyXG4gICAgZ3JvdW5kTWF0ZXJpYWw6IENhbm5vbi5NYXRlcmlhbDtcclxuICAgIGJhbGxNYXRlcmlhbDogQ2Fubm9uLk1hdGVyaWFsO1xyXG4gICAgd2FsbE1hdGVyaWFsOiBDYW5ub24uTWF0ZXJpYWw7XHJcbiAgICBmb3JjZSA9IDUwMDtcclxuICAgIGR0ID0gMSAvIDYwO1xyXG4gICAgZml4ZWRUaW1lU3RlcCA9IDEgLyA2MDtcclxuICAgIG1heFN1YlN0ZXBzID0gMztcclxuICAgIGxhc3RUaW1lOiBudW1iZXI7XHJcbiAgICBHUk9VUDE6IDE7XHJcbiAgICBHUk9VUDI6IDI7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxyXG4gICAgc2V0dXBXb3JsZChtYXplOiBBcnJheTxBcnJheTxib29sZWFuPj4pIHtcclxuICAgICAgICB0aGlzLmNyZWF0ZVplcm9HcmF2aXR5V29ybGQoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUZyaWN0aW9uU3VyZmFjZXMoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUdyb3VuZCgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQmFsbCgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlV2FsbChtYXplKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZVplcm9HcmF2aXR5V29ybGQoKSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgICAgICAgICB3b3JsZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyYXZpdHk6IHsgeCwgeSwgeiB9LFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9ID0gY29uZmlnO1xyXG4gICAgICAgIHRoaXMud29ybGQgPSBuZXcgQ2Fubm9uLldvcmxkKHtcclxuICAgICAgICAgICAgZ3Jhdml0eTogbmV3IENhbm5vbi5WZWMzKHgsIHksIHopLFxyXG4gICAgICAgICAgICBicm9hZHBoYXNlOiAobmV3IENhbm5vbi5OYWl2ZUJyb2FkcGhhc2UoKSBhcyB1bmtub3duKSBhcyBDYW5ub24uQnJvYWRwaGFzZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvL3RoaXMud29ybGQuc29sdmVyLml0ZXJhdGlvbnMgPSA1O1xyXG4gICAgfVxyXG4gICAgY3JlYXRlRnJpY3Rpb25TdXJmYWNlcygpIHtcclxuICAgICAgICAvL0NyZWF0ZSB0aGUgbWF0ZXJpYWwgb2YgdGhlIGJhbGwgd2l0aCBmcmljdGlvbiBhcyAwXHJcbiAgICAgICAgdGhpcy5iYWxsTWF0ZXJpYWwgPSBuZXcgQ2Fubm9uLk1hdGVyaWFsKFwiYmFsbE1hdGVyaWFsXCIpO1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWwgPSBuZXcgQ2Fubm9uLk1hdGVyaWFsKFwiZ3JvdW5kTWF0ZXJpYWxcIik7XHJcbiAgICAgICAgdGhpcy53YWxsTWF0ZXJpYWwgPSBuZXcgQ2Fubm9uLk1hdGVyaWFsKCd3YWxsTWF0ZXJpYWwnKTtcclxuICAgICAgICAvLyBBZGp1c3QgY29uc3RyYWludCBlcXVhdGlvbiBwYXJhbWV0ZXJzIGZvciBncm91bmQvZ3JvdW5kIGNvbnRhY3RcclxuICAgICAgICAvL1doZW4gZ3JvdW5kIHRvdWNoZXMgZ3JvdW5kIC0tIEkgZG9udCBrbm93IHdoeSB0aGlzIGlzIG5lZWRlZFxyXG4gICAgICAgIGNvbnN0IGdyb3VuZF9ncm91bmRfY20gPSBuZXcgQ2Fubm9uLkNvbnRhY3RNYXRlcmlhbChcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRNYXRlcmlhbCxcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRNYXRlcmlhbCxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZnJpY3Rpb246IDEsXHJcbiAgICAgICAgICAgICAgICByZXN0aXR1dGlvbjogMC4zLFxyXG4gICAgICAgICAgICAgICAgY29udGFjdEVxdWF0aW9uU3RpZmZuZXNzOiAxZTgsXHJcbiAgICAgICAgICAgICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLFxyXG4gICAgICAgICAgICAgICAgZnJpY3Rpb25FcXVhdGlvblN0aWZmbmVzczogMWU4LFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbnRhY3RNYXRlcmlhbChncm91bmRfZ3JvdW5kX2NtKTtcclxuICAgICAgICAvL1doZW4gYmFsbCB0b3VjaGVzIGdyb3VuZCB0aGVyZSBpcyBsb3Qgb2YgZnJpY3Rpb25cclxuICAgICAgICBjb25zdCBzbGlwcGVyeV9ncm91bmRfY20gPSBuZXcgQ2Fubm9uLkNvbnRhY3RNYXRlcmlhbChcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRNYXRlcmlhbCxcclxuICAgICAgICAgICAgdGhpcy5iYWxsTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZyaWN0aW9uOiAxLFxyXG4gICAgICAgICAgICAgICAgcmVzdGl0dXRpb246IDAuMyxcclxuICAgICAgICAgICAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU4LFxyXG4gICAgICAgICAgICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMyxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vYWRkIHRoaXMgY29udGFjdCB0byB3b3JsZFxyXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29udGFjdE1hdGVyaWFsKHNsaXBwZXJ5X2dyb3VuZF9jbSk7XHJcbiAgICAgICAgLy9Db250YWN0IGJldHdlZW4gYmFsbCBhbmQgd2FsbFxyXG4gICAgICAgIGNvbnN0IGJhbGxfd2FsbF9jbSA9IG5ldyBDYW5ub24uQ29udGFjdE1hdGVyaWFsKHRoaXMuYmFsbE1hdGVyaWFsLCB0aGlzLndhbGxNYXRlcmlhbCwge1xyXG4gICAgICAgICAgICBmcmljdGlvbjogMC42LFxyXG4gICAgICAgICAgICAvL0NhbiBpbmNyZWFzZSB0byBtYWtlIGl0IGhhcmRlciB0byBuYXZpZ2F0ZSB3aXRob3V0IHRvdWNoaW5nXHJcbiAgICAgICAgICAgIHJlc3RpdHV0aW9uOiAwLjcsXHJcbiAgICAgICAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU4LFxyXG4gICAgICAgICAgICBjb250YWN0RXF1YXRpb25SZWxheGF0aW9uOiAzLFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb250YWN0TWF0ZXJpYWwoYmFsbF93YWxsX2NtKTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUJhbGwoKSB7XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgICAgICAgICBiYWxsOiB7IGluaXRpYWxQb3NpdGlvbiwgbWFzcywgcmFkaXVzIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLmJhbGwgPSBuZXcgQ2Fubm9uLkJvZHkoe1xyXG4gICAgICAgICAgICBtYXRlcmlhbDogdGhpcy5iYWxsTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIG1hc3MsXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiB0aGlzLkdST1VQMSxcclxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyTWFzazogdGhpcy5HUk9VUDIsXHJcbiAgICAgICAgICAgIGxpbmVhckRhbXBpbmc6IDAuNSxcclxuICAgICAgICAgICAgYW5ndWxhckRhbXBpbmc6IDAuNSxcclxuICAgICAgICAgICAgc2hhcGU6IG5ldyBDYW5ub24uU3BoZXJlKHJhZGl1cyksXHJcbiAgICAgICAgICAgIHR5cGU6IENhbm5vbi5CT0RZX1RZUEVTLkRZTkFNSUMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgeyB4ID0gMCwgeSA9IDAsIHogPSAwIH0gPSBpbml0aWFsUG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5iYWxsLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLndvcmxkLmFkZEJvZHkodGhpcy5iYWxsKTtcclxuICAgICAgICAvL2lmIGJxbGwgdG91Y2hlcyB3YWxsXHJcbiAgICAgICAgdGhpcy5iYWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb2xsaWRlXCIsZnVuY3Rpb24oZTogeyBib2R5OiB1bmtub3duLCBjb250YWN0OiB1bmtub3duIH0pe1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaGUgc3BoZXJlIGp1c3QgY29sbGlkZWQgd2l0aCB0aGUgZ3JvdW5kIVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb2xsaWRlZCB3aXRoIGJvZHk6XCIsZS5ib2R5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUdyb3VuZCgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kU2hhcGUgPSBuZXcgQ2Fubm9uLlBsYW5lKCk7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kQm9keSA9IG5ldyBDYW5ub24uQm9keSh7XHJcbiAgICAgICAgICAgIG1hc3M6IDAsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLmdyb3VuZE1hdGVyaWFsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdyb3VuZEJvZHkuYWRkU2hhcGUoZ3JvdW5kU2hhcGUpO1xyXG4gICAgICAgIGdyb3VuZEJvZHkucG9zaXRpb24uc2V0WmVybygpO1xyXG4gICAgICAgIHRoaXMud29ybGQuYWRkQm9keShncm91bmRCb2R5KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGNyZWF0ZVdhbGwobWF6ZUNvb3JkaW5hdGVzOiBBcnJheTxBcnJheTxib29sZWFuPj4pIHtcclxuICAgICAgICBjb25zdCBib3hlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF6ZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF6ZUNvb3JkaW5hdGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF6ZUNvb3JkaW5hdGVzW2ldW2pdID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FsbEJvZHkgPSBuZXcgQ2Fubm9uLkJvZHkoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBDYW5ub24uQk9EWV9UWVBFUy5TVEFUSUMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLndhbGxNYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IG5ldyBDYW5ub24uQm94KG5ldyBDYW5ub24uVmVjMygwLjUsIDAuNSwgMC41KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiB0aGlzLkdST1VQMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyTWFzazogdGhpcy5HUk9VUDEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbEJvZHkucG9zaXRpb24ueCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbEJvZHkucG9zaXRpb24ueSA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbEJvZHkucG9zaXRpb24ueiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRCb2R5KHdhbGxCb2R5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1vdmVCYWxsKGRpcmVjdGlvbjogXCJsZWZ0XCIgfCBcInJpZ2h0XCIgfCBcInVwXCIgfCBcImRvd25cIikge1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb25WZWN0b3I7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gbmV3IENhbm5vbi5WZWMzKDAsIDAsIDAuMjUpO1xyXG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvblZlY3RvciA9IG5ldyBDYW5ub24uVmVjMygtMSwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uVmVjdG9yID0gbmV3IENhbm5vbi5WZWMzKDEsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcInVwXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvblZlY3RvciA9IG5ldyBDYW5ub24uVmVjMygwLCAxLCAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvblZlY3RvciA9IG5ldyBDYW5ub24uVmVjMygwLCAtMSwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJhbGwuYXBwbHlJbXB1bHNlKGRpcmVjdGlvblZlY3Rvciwgb3JpZ2luKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBoeXNpY3ModGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53b3JsZC5zdGVwKHRoaXMuZml4ZWRUaW1lU3RlcCwgdGltZSwgdGhpcy5tYXhTdWJTdGVwcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcblxyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5cclxuLy8gTWFpbiB3ZWJHTCByZW5kZXJlciBjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XHJcbiAgc2NlbmU7XHJcbiAgY29udGFpbmVyO1xyXG4gIHRocmVlUmVuZGVyZXI7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFRIUkVFLlNjZW5lLCBjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAvLyBQcm9wZXJ0aWVzXHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICAvLyBDcmVhdGUgV2ViR0wgcmVuZGVyZXIgYW5kIHNldCBpdHMgYW50aWFsaWFzXHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTtcclxuXHJcbiAgICAvLyBTZXQgY2xlYXIgY29sb3IgdG8gZm9nIHRvIGVuYWJsZSBmb2cgb3IgdG8gaGV4IGNvbG9yIGZvciBubyBmb2dcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmZvZy5jb2xvcik7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIEZvciByZXRpbmFcclxuXHJcbiAgICAvLyBBcHBlbmRzIGNhbnZhc1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGhyZWVSZW5kZXJlci5kb21FbGVtZW50KTtcclxuXHJcbiAgICAvLyBTaGFkb3cgbWFwIG9wdGlvbnNcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xyXG5cclxuICAgIC8vIEdldCBhbmlzb3Ryb3B5IGZvciB0ZXh0dXJlc1xyXG4gICAgQ29uZmlnLm1heEFuaXNvdHJvcHkgPSB0aGlzLnRocmVlUmVuZGVyZXIuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKTtcclxuXHJcbiAgICAvLyBJbml0aWFsIHNpemUgdXBkYXRlIHNldCB0byBjYW52YXMgY29udGFpbmVyXHJcbiAgICB0aGlzLnVwZGF0ZVNpemUoKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiRE9NQ29udGVudExvYWRlZFwiLFxyXG4gICAgICAoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2l6ZSgpIHtcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRTaXplKFxyXG4gICAgICB0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxcclxuICAgICAgdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKHNjZW5lOiBUSFJFRS5TY2VuZSwgY2FtZXJhOiBUSFJFRS5DYW1lcmEpIHtcclxuICAgIC8vIFJlbmRlcnMgc2NlbmUgdG8gY2FudmFzIHRhcmdldFxyXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcclxuICB9XHJcbn1cclxuIiwiLy8gR2xvYmFsIGltcG9ydHMgLVxyXG5pbXBvcnQgVFdFRU4gZnJvbSBcIkB0d2VlbmpzL3R3ZWVuLmpzXCI7XHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG4vLyBkYXRhXHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uL2RhdGEvY29uZmlnXCI7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vY29tcG9uZW50cy9jYW1lcmFcIjtcclxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCIuL2NvbXBvbmVudHMvY29udHJvbHNcIjtcclxuaW1wb3J0IEdlb21ldHJ5IGZyb20gXCIuL2NvbXBvbmVudHMvZ2VvbWV0cnlcIjtcclxuaW1wb3J0IExpZ2h0IGZyb20gXCIuL2NvbXBvbmVudHMvbGlnaHRcIjtcclxuaW1wb3J0IE1hdGVyaWFsIGZyb20gXCIuL2NvbXBvbmVudHMvbWF0ZXJpYWxcIjtcclxuaW1wb3J0IHsgUGh5c2ljcyB9IGZyb20gXCIuL2NvbXBvbmVudHMvcGh5c2ljc1wiO1xyXG4vLyBMb2NhbCBpbXBvcnRzIC1cclxuLy8gQ29tcG9uZW50c1xyXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4vY29tcG9uZW50cy9yZW5kZXJlclwiO1xyXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSBcIi4vbWFuYWdlcnMvaW50ZXJhY3Rpb25cIjtcclxuLy8gTW9kZWxcclxuaW1wb3J0IFRleHR1cmUgZnJvbSBcIi4vbW9kZWwvdGV4dHVyZVwiO1xyXG5cclxuLy8gLS0gRW5kIG9mIGltcG9ydHNcclxubGV0IGRpcmVjdGlvbnM7XHJcbi8vIFRoaXMgY2xhc3MgaW5zdGFudGlhdGVzIGFuZCB0aWVzIGFsbCBvZiB0aGUgY29tcG9uZW50cyB0b2dldGhlciwgc3RhcnRzIHRoZSBsb2FkaW5nIHByb2Nlc3MgYW5kIHJlbmRlcnMgdGhlIG1haW4gbG9vcFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcclxuICBjb250YWluZXI7XHJcbiAgY2xvY2s7XHJcbiAgc2NlbmU7XHJcbiAgbWF6ZURpbWVuc2lvbjtcclxuICByZW5kZXJlcjtcclxuICBjYW1lcmE7XHJcbiAgdGV4dHVyZTtcclxuICBtYXplOiBBcnJheTxBcnJheTxib29sZWFuPj47XHJcbiAgbWF0ZXJpYWw7XHJcbiAgZ2VvbWV0cnk7XHJcbiAgY29udHJvbHM7XHJcbiAgZ2FtZVN0YXRlO1xyXG4gIGxpZ2h0cztcclxuICBwaHlzaWNzO1xyXG4gIGJhbGxNZXNoOiBUSFJFRS5NZXNoO1xyXG4gIHBhdGg6IEFycmF5PEFycmF5PG51bWJlcj4+ID0gW107XHJcbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgLy8gU2V0IGNvbnRhaW5lciBwcm9wZXJ0eSB0byBjb250YWluZXIgZWxlbWVudFxyXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4gICAgLy8gU3RhcnQgVGhyZWUgY2xvY2tcclxuICAgIHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcclxuICAgIHRoaXMubWF6ZURpbWVuc2lvbiA9IDExO1xyXG4gICAgLy8gTWFpbiBzY2VuZSBjcmVhdGlvblxyXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMihDb25maWcuZm9nLmNvbG9yLCBDb25maWcuZm9nLm5lYXIpO1xyXG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpO1xyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSh0aGlzLnNjZW5lLCB0aGlzLm1hemVEaW1lbnNpb24pO1xyXG5cclxuICAgIC8vIEdldCBEZXZpY2UgUGl4ZWwgUmF0aW8gZmlyc3QgZm9yIHJldGluYVxyXG4gICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XHJcbiAgICAgIENvbmZpZy5kcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYWluIHJlbmRlcmVyIGNvbnN0cnVjdG9yXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHRoaXMuc2NlbmUsIGNvbnRhaW5lcik7XHJcbiAgICAvL0luc3RhbnRpYXRlIGNhbWVyYVxyXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcik7XHJcblxyXG4gICAgLy9BZGRpbmcgb3JiaXQgY29udHJvbHNcclxuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgQ29udHJvbHModGhpcy5jYW1lcmEudGhyZWVDYW1lcmEsIGNvbnRhaW5lcik7XHJcbiAgICAvL0luc3RhbnRpYXRlIGxpZ2h0c1xyXG4gICAgdGhpcy5saWdodHMgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSk7XHJcbiAgICAvLyBJbnN0YW50aWF0ZSB0ZXh0dXJlIGNsYXNzXHJcbiAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZSgpO1xyXG5cclxuICAgIC8vSW5zdGFudGlhdGUgdGhlIHBoeXNpY3NcclxuXHJcbiAgICB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpO1xyXG4gICAgdGhpcy5tYXplID0gdGhpcy5nZW5lcmF0ZVNxdWFyZU1hemUodGhpcy5tYXplRGltZW5zaW9uKTtcclxuICAgIHRoaXMubWF6ZVt0aGlzLm1hemVEaW1lbnNpb24gLSAxXVt0aGlzLm1hemVEaW1lbnNpb24gLSAyXSA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuc2V0dXBQaHlzaWNzKCk7XHJcbiAgICAvLyBTdGFydCBsb2FkaW5nIHRoZSB0ZXh0dXJlcyBhbmQgdGhlbiBnbyBvbiB0byBsb2FkIHRoZSBtb2RlbCBhZnRlciB0aGUgdGV4dHVyZSBQcm9taXNlcyBoYXZlIHJlc29sdmVkXHJcbiAgICB0aGlzLnRleHR1cmUubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldHVwUmVuZGVyV29ybGQoKTtcclxuXHJcbiAgICAgIG5ldyBJbnRlcmFjdGlvbihcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnRocmVlUmVuZGVyZXIsXHJcbiAgICAgICAgdGhpcy5zY2VuZSxcclxuICAgICAgICB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSxcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHMsXHJcbiAgICAgICAgdGhpcy5tb3ZlQmFsbC5iaW5kKHRoaXMpXHJcbiAgICAgICk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuZ2FtZVN0YXRlID0gXCJpbml0aWFsaXplXCI7XHJcbiAgICAvLyBTdGFydCByZW5kZXIgd2hpY2ggZG9lcyBub3Qgd2FpdCBmb3IgbW9kZWwgZnVsbHkgbG9hZGVkXHJcbiAgICB0aGlzLnJlbmRlcihEYXRlLm5vdygpKTtcclxuICB9XHJcbiAgbW92ZUJhbGwoZGlyZWN0aW9uOiBcImxlZnRcIiB8IFwicmlnaHRcIiB8IFwidXBcIiB8IFwiZG93blwiKSB7XHJcbiAgICB0aGlzLnBoeXNpY3MubW92ZUJhbGwoZGlyZWN0aW9uKTtcclxuICB9XHJcbiAgc2V0dXBSZW5kZXJXb3JsZCgpIHtcclxuICAgIC8vIEFkZGluZyBjYW1lcmEgdG8gdGhlIHNjZW5lXHJcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XHJcblxyXG4gICAgLy8gQWRkaW5nIGxpZ2h0cyB0byBzY2VuZVxyXG4gICAgdGhpcy5saWdodHMucGxhY2UoXCJhbWJpZW50XCIpO1xyXG4gICAgdGhpcy5saWdodHMucGxhY2UoXCJwb2ludFwiKTtcclxuICAgIGNvbnN0IGJhbGwgPSB0aGlzLmdlb21ldHJ5Lm1ha2VCYWxsKCk7XHJcbiAgICBjb25zdCBncm91bmRHZW9tZXRyeSA9IHRoaXMuZ2VvbWV0cnkubWFrZUdyb3VuZCgpO1xyXG4gICAgY29uc3Qgd2FsbEdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeS5tYWtlV2FsbHModGhpcy5tYXplKTtcclxuICAgIGNvbnN0IHtcclxuICAgICAgZ3Jhc3M6IGdyb3VuZFRleHR1cmUsXHJcbiAgICAgIGJhbGw6IGJhbGxUZXh0dXJlLFxyXG4gICAgICB3YWxsOiBicmlja1RleHR1cmUsXHJcbiAgICB9ID0gdGhpcy50ZXh0dXJlLnRleHR1cmVzO1xyXG4gICAgY29uc3QgYmFsbE1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbC5tYWtlUGhvbmdNYXRlcmlhbChiYWxsVGV4dHVyZSk7XHJcbiAgICB0aGlzLmJhbGxNZXNoID0gbmV3IFRIUkVFLk1lc2goYmFsbCwgYmFsbE1hdGVyaWFsKTtcclxuICAgIHRoaXMuYmFsbE1lc2gucG9zaXRpb24uc2V0KDEsIDEsIDAuMjUpO1xyXG4gICAgLy9BZGRpbmcgYmFsbCB0byBzY2VuZVxyXG4gICAgdGhpcy5zY2VuZS5hZGQodGhpcy5iYWxsTWVzaCk7XHJcbiAgICBjb25zdCBib3hNYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWwubWFrZVBob25nTWF0ZXJpYWwoYnJpY2tUZXh0dXJlKTtcclxuICAgIGNvbnN0IG1lcmdlZE1lc2ggPSBuZXcgVEhSRUUuTWVzaCh3YWxsR2VvbWV0cnksIGJveE1hdGVyaWFsKTtcclxuICAgIG1lcmdlZE1lc2gucG9zaXRpb24ueiA9IDAuNTtcclxuICAgIC8vQWRkaW5nIHdhbGwgdG8gc2NlbmVcclxuICAgIHRoaXMuc2NlbmUuYWRkKG1lcmdlZE1lc2gpO1xyXG4gICAgLy9BZGQgZ3JvdW5kIHRleHR1cmUgYW5kIGNyZWF0ZSBncm91bmQgbWVzaFxyXG4gICAgZ3JvdW5kVGV4dHVyZS53cmFwUyA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xyXG4gICAgZ3JvdW5kVGV4dHVyZS53cmFwVCA9IFRIUkVFLlJlcGVhdFdyYXBwaW5nO1xyXG4gICAgZ3JvdW5kVGV4dHVyZS5yZXBlYXQuc2V0KHRoaXMubWF6ZURpbWVuc2lvbiAqIDUsIHRoaXMubWF6ZURpbWVuc2lvbiAqIDUpO1xyXG4gICAgY29uc3QgZ3JvdW5kTWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsLm1ha2VQaG9uZ01hdGVyaWFsKGdyb3VuZFRleHR1cmUpO1xyXG4gICAgY29uc3QgcGxhbmVNZXNoID0gbmV3IFRIUkVFLk1lc2goZ3JvdW5kR2VvbWV0cnksIGdyb3VuZE1hdGVyaWFsKTtcclxuICAgIHBsYW5lTWVzaC5wb3NpdGlvbi5zZXQoXHJcbiAgICAgICh0aGlzLm1hemVEaW1lbnNpb24gLSAxKSAvIDIsXHJcbiAgICAgICh0aGlzLm1hemVEaW1lbnNpb24gLSAxKSAvIDIsXHJcbiAgICAgIDBcclxuICAgICk7XHJcbiAgICBwbGFuZU1lc2gucm90YXRpb24uc2V0KDAsIDAsIDApO1xyXG4gICAgLy9BZGRpbmcgZ3JvdW5kIHRvIHNjZW5lXHJcbiAgICB0aGlzLnNjZW5lLmFkZChwbGFuZU1lc2gpO1xyXG4gIH1cclxuICB1cGRhdGVSZW5kZXJXb3JsZCgpIHtcclxuICAgIHRoaXMuYmFsbE1lc2gucG9zaXRpb24uY29weShcclxuICAgICAgKHRoaXMucGh5c2ljcy5iYWxsLnBvc2l0aW9uIGFzIHVua25vd24pIGFzIFRIUkVFLlZlY3RvcjNcclxuICAgICk7XHJcbiAgICB0aGlzLmJhbGxNZXNoLnF1YXRlcm5pb24uY29weShcclxuICAgICAgKHRoaXMucGh5c2ljcy5iYWxsLnF1YXRlcm5pb24gYXMgdW5rbm93bikgYXMgVEhSRUUuUXVhdGVybmlvblxyXG4gICAgKTtcclxuICAgIHRoaXMubGlnaHRzLnBvaW50TGlnaHQucG9zaXRpb24uY29weShcclxuICAgICAgbmV3IFRIUkVFLlZlY3RvcjMoXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmJhbGwucG9zaXRpb24ueCxcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYmFsbC5wb3NpdGlvbi55LFxyXG4gICAgICAgIENvbmZpZy5wb2ludExpZ2h0LnpcclxuICAgICAgKVxyXG4gICAgKTtcclxuICAgIC8vamxlZSB0YWtlIGEgbG9vayBhdCB0aGlzXHJcbiAgICB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYS5wb3NpdGlvbi54ICs9ICh0aGlzLmJhbGxNZXNoLnBvc2l0aW9uLnggLSB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYS5wb3NpdGlvbi54KSAqIDAuMTtcclxuICAgIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnkgKz0gKHRoaXMuYmFsbE1lc2gucG9zaXRpb24ueSAtIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnkpICogMC4xO1xyXG4gICAgLy90aGlzLmNhbWVyYS50aHJlZUNhbWVyYS5wb3NpdGlvbi56ICs9ICg1IC0gdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEucG9zaXRpb24ueikgKiAwLjE7XHJcblxyXG4gIH1cclxuICBzZXR1cFBoeXNpY3MoKSB7XHJcbiAgICB0aGlzLnBoeXNpY3Muc2V0dXBXb3JsZCh0aGlzLm1hemUpO1xyXG4gIH1cclxuICBnZW5lcmF0ZVNxdWFyZU1hemUoZGltZW5zaW9uOiBudW1iZXIpIHtcclxuICAgIGZ1bmN0aW9uIGl0ZXJhdGUoZmllbGQ6IEFycmF5PEFycmF5PGJvb2xlYW4+PiwgeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgZmllbGRbeF1beV0gPSBmYWxzZTtcclxuICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBkaXJlY3Rpb25zID0gW107XHJcbiAgICAgICAgaWYgKHggPiAxICYmIGZpZWxkW3ggLSAyXVt5XSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb25zLnB1c2goWy0xLCAwXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh4IDwgZGltZW5zaW9uIC0gMiAmJiBmaWVsZFt4ICsgMl1beV0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgZGlyZWN0aW9ucy5wdXNoKFsxLCAwXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5ID4gMSAmJiBmaWVsZFt4XVt5IC0gMl0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgZGlyZWN0aW9ucy5wdXNoKFswLCAtMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeSA8IGRpbWVuc2lvbiAtIDIgJiYgZmllbGRbeF1beSArIDJdID09IHRydWUpIHtcclxuICAgICAgICAgIGRpcmVjdGlvbnMucHVzaChbMCwgMV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlyZWN0aW9ucy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIGZpZWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBkaXIgPSBkaXJlY3Rpb25zW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRpcmVjdGlvbnMubGVuZ3RoKV07XHJcbiAgICAgICAgZmllbGRbeCArIGRpclswXV1beSArIGRpclsxXV0gPSBmYWxzZTtcclxuICAgICAgICBmaWVsZCA9IGl0ZXJhdGUoZmllbGQsIHggKyBkaXJbMF0gKiAyLCB5ICsgZGlyWzFdICogMik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsaXplIHRoZSBmaWVsZC5cclxuICAgIHZhciBmaWVsZCA9IG5ldyBBcnJheShkaW1lbnNpb24pO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaW1lbnNpb247IGkrKykge1xyXG4gICAgICBmaWVsZFtpXSA9IG5ldyBBcnJheShkaW1lbnNpb24pO1xyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRpbWVuc2lvbjsgaisrKSB7XHJcbiAgICAgICAgZmllbGRbaV1bal0gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBHbmVyYXRlIHRoZSBtYXplIHJlY3Vyc2l2ZWx5LlxyXG4gICAgZmllbGQgPSBpdGVyYXRlKGZpZWxkLCAxLCAxKTtcclxuICAgIHJldHVybiBmaWVsZDtcclxuICB9XHJcbiAgcmVuZGVyKHRpbWU6IG51bWJlcikge1xyXG4gICAgVFdFRU4udXBkYXRlKCk7XHJcbiAgICBzd2l0Y2ggKHRoaXMuZ2FtZVN0YXRlKSB7XHJcbiAgICAgIGNhc2UgXCJpbml0aWFsaXplXCI6IHtcclxuICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IFwiZmFkZSBpblwiO1xyXG4gICAgICAgIHRoaXMubGlnaHRzLnBvaW50TGlnaHQuaW50ZW5zaXR5ID0gMDtcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiZmFkZSBpblwiOiB7XHJcbiAgICAgICAgY29uc3QgcG9pbnRMaWdodEludGVuc2l0eSA9IHRoaXMubGlnaHRzLnBvaW50TGlnaHQuaW50ZW5zaXR5O1xyXG4gICAgICAgIHRoaXMubGlnaHRzLnBvaW50TGlnaHQuaW50ZW5zaXR5ICs9IDAuMSAqICgxLjAgLSBwb2ludExpZ2h0SW50ZW5zaXR5KTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHBvaW50TGlnaHRJbnRlbnNpdHkgLSAxLjApIDwgMC4wNSkge1xyXG4gICAgICAgICAgdGhpcy5saWdodHMucG9pbnRMaWdodC5pbnRlbnNpdHkgPSAxLjA7XHJcbiAgICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IFwicGxheVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcInBsYXlcIjoge1xyXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3BsYXknKTtcclxuICAgICAgICB0aGlzLnBoeXNpY3MudXBkYXRlUGh5c2ljcyh0aW1lKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVJlbmRlcldvcmxkKCk7XHJcbiAgICAgICAgY29uc3QgbWF6ZVggPSBNYXRoLmZsb29yKHRoaXMuYmFsbE1lc2gucG9zaXRpb24ueCArIDAuNSk7XHJcbiAgICAgICAgY29uc3QgbWF6ZVkgPSBNYXRoLmZsb29yKHRoaXMuYmFsbE1lc2gucG9zaXRpb24ueSArIDAuNSk7XHJcbiAgICAgICAgLy9LZWVwIHNhdmluZyB0aGUgY3VycmVudCBjb29yZGluYXRlIHRvIHRoZSBwYXRoXHJcbiAgICAgICAgaWYgKHRoaXMucGF0aC5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIHRoaXMucGF0aC5wdXNoKFttYXplWCwgbWF6ZVldKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGF0aFt0aGlzLnBhdGgubGVuZ3RoIC0gMV0pIHtcclxuICAgICAgICAgIGNvbnN0IFtsYXN0WCwgbGFzdFldID0gdGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgICAgICBpZiAobGFzdFggIT09IG1hemVYIHx8IGxhc3RZICE9PSBtYXplWSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhdGgucHVzaChbbWF6ZVgsIG1hemVZXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vQ2hlY2sgaWYgdmljdG9yeSB3YXMgYXR0YWluZWRcclxuICAgICAgICBpZiAobWF6ZVggPT0gdGhpcy5tYXplRGltZW5zaW9uICYmIG1hemVZID09IHRoaXMubWF6ZURpbWVuc2lvbiAtIDIpIHtcclxuICAgICAgICAgIC8vbWF6ZURpbWVuc2lvbiArPSAyO1xyXG4gICAgICAgICAgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibWF6ZV9zb2x1dGlvblwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMucGF0aCk7XHJcbiAgICAgICAgICB0aGlzLmdhbWVTdGF0ZSA9IFwiZmFkZSBvdXRcIjtcclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5mb3Jtc1swXS5zdWJtaXQoKTtcclxuICAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY2FzZSBcImZhZGUgb3V0XCI6XHJcbiAgICAgIC8vdXBkYXRlUGh5c2ljc1dvcmxkKCk7XHJcbiAgICAgIC8vdXBkYXRlUmVuZGVyV29ybGQoKTtcclxuICAgICAgdGhpcy5saWdodHMucG9pbnRMaWdodC5pbnRlbnNpdHkgKz0gMC4xICogKDAuMCAtIHRoaXMubGlnaHRzLnBvaW50TGlnaHQuaW50ZW5zaXR5KTtcclxuICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEpO1xyXG4gICAgICBpZiAoTWF0aC5hYnModGhpcy5saWdodHMucG9pbnRMaWdodC5pbnRlbnNpdHkgLSAwLjApIDwgMC4xKSB7XHJcbiAgICAgICAgdGhpcy5saWdodHMucG9pbnRMaWdodC5pbnRlbnNpdHkgPSAwLjA7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEpO1xyXG4gICAgICAgIC8vZ2FtZVN0YXRlID0gXCJpbml0aWFsaXplXCI7XHJcbiAgICAgIH1cclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICAvL3RoaXMuY29udHJvbHMudGhyZWVDb250cm9scy51cGRhdGUoKTtcclxuXHJcbiAgICAvLyBSQUZcclxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnJlbmRlci5iaW5kKHRoaXMpKTsgLy8gQmluZCB0aGUgbWFpbiBjbGFzcyBpbnN0ZWFkIG9mIHdpbmRvdyBvYmplY3RcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uLy4uL2RhdGEvY29uZmlnXCI7XHJcbmltcG9ydCBIZWxwZXJzIGZyb20gXCIuLi8uLi91dGlscy9oZWxwZXJzXCI7XHJcbmltcG9ydCBLZXlib2FyZCBmcm9tIFwiLi4vLi4vdXRpbHMva2V5Ym9hcmRcIjtcclxuXHJcbi8vIE1hbmFnZXMgYWxsIGlucHV0IGludGVyYWN0aW9uc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmFjdGlvbiB7XHJcbiAgcmVuZGVyZXI6IFRIUkVFLlJlbmRlcmVyO1xyXG4gIHNjZW5lO1xyXG4gIGNhbWVyYTtcclxuICBjb250cm9scztcclxuICB0aW1lb3V0OiBOb2RlSlMuVGltZW91dDtcclxuICBrZXlib2FyZDtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHJlbmRlcmVyOiBUSFJFRS5SZW5kZXJlcixcclxuICAgIHNjZW5lOiBUSFJFRS5TY2VuZSxcclxuICAgIGNhbWVyYTogVEhSRUUuQ2FtZXJhLFxyXG4gICAgY29udHJvbHM6IFRIUkVFLk9yYml0Q29udHJvbHMsXHJcbiAgICBtb3ZlSGFuZGxlcjogKGRpcmVjdGlvbjogc3RyaW5nKSA9PiB2b2lkXHJcbiAgKSB7XHJcbiAgICAvLyBQcm9wZXJ0aWVzXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYTtcclxuICAgIHRoaXMuY29udHJvbHMgPSBjb250cm9scztcclxuXHJcbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xyXG5cclxuICAgIC8vIEluc3RhbnRpYXRlIGtleWJvYXJkIGhlbHBlclxyXG4gICAgdGhpcy5rZXlib2FyZCA9IG5ldyBLZXlib2FyZCgpO1xyXG5cclxuICAgIC8vIExpc3RlbmVyc1xyXG4gICAgLy8gTW91c2UgZXZlbnRzXHJcbiAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJtb3VzZW1vdmVcIixcclxuICAgICAgKGV2ZW50KSA9PiBIZWxwZXJzLnRocm90dGxlKCgpID0+IHRoaXMub25Nb3VzZU1vdmUoZXZlbnQpLCAyNTApLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlbGVhdmVcIixcclxuICAgICAgKGV2ZW50KSA9PiB0aGlzLm9uTW91c2VMZWF2ZShldmVudCksXHJcbiAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwibW91c2VvdmVyXCIsXHJcbiAgICAgIChldmVudCkgPT4gdGhpcy5vbk1vdXNlT3ZlcihldmVudCksXHJcbiAgICAgIGZhbHNlXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEtleWJvYXJkIGV2ZW50c1xyXG4gICAgdGhpcy5rZXlib2FyZC5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwia2V5ZG93blwiLFxyXG4gICAgICAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgICAvLyBPbmx5IG9uY2VcclxuICAgICAgICBpZiAoZXZlbnQucmVwZWF0KSB7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5rZXlib2FyZC5ldmVudE1hdGNoZXMoZXZlbnQsIFwiZXNjYXBlXCIpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIkVzY2FwZSBwcmVzc2VkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5rZXlib2FyZC5ldmVudE1hdGNoZXMoZXZlbnQsIFwibGVmdFwiKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJMZWZ0IHByZXNzZWRcIik7XHJcbiAgICAgICAgICBtb3ZlSGFuZGxlcihcImxlZnRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmtleWJvYXJkLmV2ZW50TWF0Y2hlcyhldmVudCwgXCJyaWdodFwiKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJSaWdodCBwcmVzc2VkXCIpO1xyXG4gICAgICAgICAgbW92ZUhhbmRsZXIoXCJyaWdodFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCBcImRvd25cIikpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRG93biBwcmVzc2VkXCIpO1xyXG4gICAgICAgICAgbW92ZUhhbmRsZXIoXCJkb3duXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCBcInVwXCIpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlVwIHByZXNzZWRcIik7XHJcbiAgICAgICAgICBtb3ZlSGFuZGxlcihcInVwXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIG9uTW91c2VPdmVyKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIENvbmZpZy5pc01vdXNlT3ZlciA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTGVhdmUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgQ29uZmlnLmlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuXHJcbiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSBmYWxzZTtcclxuICAgIH0sIDIwMCk7XHJcblxyXG4gICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSB0cnVlO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuLy8gUHJvbWlzZSBwb2x5ZmlsbCBmb3IgSUVcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gXCJlczYtcHJvbWlzZVwiO1xyXG5cclxuaW1wb3J0IEhlbHBlcnMgZnJvbSBcIi4uLy4uL3V0aWxzL2hlbHBlcnNcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcclxuXHJcbi8vIFRoaXMgY2xhc3MgcHJlbG9hZHMgYWxsIHRleHR1cmVzIGluIHRoZSBpbWFnZUZpbGVzIGFycmF5IGluIHRoZSBDb25maWcgdmlhIEVTNiBQcm9taXNlcy5cclxuLy8gT25jZSBhbGwgdGV4dHVyZXMgYXJlIGRvbmUgbG9hZGluZyB0aGUgbW9kZWwgaXRzZWxmIHdpbGwgYmUgbG9hZGVkIGFmdGVyIHRoZSBQcm9taXNlIC50aGVuKCkgY2FsbGJhY2suXHJcbi8vIFVzaW5nIHByb21pc2VzIHRvIHByZWxvYWQgdGV4dHVyZXMgcHJldmVudHMgaXNzdWVzIHdoZW4gYXBwbHlpbmcgdGV4dHVyZXMgdG8gbWF0ZXJpYWxzXHJcbi8vIGJlZm9yZSB0aGUgdGV4dHVyZXMgaGF2ZSBsb2FkZWQuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xyXG4gIHRleHR1cmVzOiBSZWNvcmQ8c3RyaW5nLCBUSFJFRS5UZXh0dXJlPjtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIFByb3AgdGhhdCB3aWxsIGNvbnRhaW4gYWxsIGxvYWRlZCB0ZXh0dXJlc1xyXG4gICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgbG9hZCgpIHtcclxuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XHJcbiAgICBjb25zdCBtYXhBbmlzb3Ryb3B5ID0gQ29uZmlnLm1heEFuaXNvdHJvcHk7XHJcbiAgICBjb25zdCBpbWFnZUZpbGVzID0gQ29uZmlnLnRleHR1cmUuaW1hZ2VGaWxlcztcclxuICAgIGNvbnN0IHByb21pc2VBcnJheTogQXJyYXk8UHJvbWlzZTx7IFtrZXk6IHN0cmluZ106IFRIUkVFLlRleHR1cmUgfT4+ID0gW107XHJcblxyXG4gICAgbG9hZGVyLnNldFBhdGgoQ29uZmlnLnRleHR1cmUucGF0aCk7XHJcblxyXG4gICAgaW1hZ2VGaWxlcy5mb3JFYWNoKChpbWFnZUZpbGUpID0+IHtcclxuICAgICAgLy8gQWRkIGFuIGluZGl2aWR1YWwgUHJvbWlzZSBmb3IgZWFjaCBpbWFnZSBpbiBhcnJheVxyXG4gICAgICBwcm9taXNlQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAvLyBFYWNoIFByb21pc2Ugd2lsbCBhdHRlbXB0IHRvIGxvYWQgdGhlIGltYWdlIGZpbGVcclxuICAgICAgICAgIGxvYWRlci5sb2FkKFxyXG4gICAgICAgICAgICBpbWFnZUZpbGUuaW1hZ2UsXHJcbiAgICAgICAgICAgIC8vIFRoaXMgZ2V0cyBjYWxsZWQgb24gbG9hZCB3aXRoIHRoZSBsb2FkZWQgdGV4dHVyZVxyXG4gICAgICAgICAgICAodGV4dHVyZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHRleHR1cmUuYW5pc290cm9weSA9IG1heEFuaXNvdHJvcHk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFJlc29sdmUgUHJvbWlzZSB3aXRoIG9iamVjdCBvZiB0ZXh0dXJlIGlmIGl0IGlzIGluc3RhbmNlIG9mIFRIUkVFLlRleHR1cmVcclxuICAgICAgICAgICAgICBjb25zdCBtb2RlbE9CSjogeyBba2V5OiBzdHJpbmddOiBUSFJFRS5UZXh0dXJlIH0gPSB7fTtcclxuICAgICAgICAgICAgICBtb2RlbE9CSltpbWFnZUZpbGUubmFtZV0gPSB0ZXh0dXJlO1xyXG4gICAgICAgICAgICAgIGlmIChtb2RlbE9CSltpbWFnZUZpbGUubmFtZV0gaW5zdGFuY2VvZiBUSFJFRS5UZXh0dXJlKVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShtb2RlbE9CSik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIEhlbHBlcnMubG9nUHJvZ3Jlc3MoKSxcclxuICAgICAgICAgICAgKHhocikgPT5cclxuICAgICAgICAgICAgICByZWplY3QoXHJcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgIHhociArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBbiBlcnJvciBvY2N1cnJlZCBsb2FkaW5nIHdoaWxlIGxvYWRpbmcgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZS5pbWFnZVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgUHJvbWlzZXMgaW4gYXJyYXkgYW5kIHJldHVybiBhbm90aGVyIFByb21pc2Ugd2hlbiBhbGwgaGF2ZSByZXNvbHZlZCBvciBjb25zb2xlIGxvZyByZWFzb24gd2hlbiBhbnkgcmVqZWN0XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKFxyXG4gICAgICAodGV4dHVyZXMpID0+IHtcclxuICAgICAgICAvLyBTZXQgdGhlIHRleHR1cmVzIHByb3Agb2JqZWN0IHRvIGhhdmUgbmFtZSBiZSB0aGUgcmVzb2x2ZWQgdGV4dHVyZVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHRoaXMudGV4dHVyZXNbT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXSA9XHJcbiAgICAgICAgICAgIHRleHR1cmVzW2ldW09iamVjdC5rZXlzKHRleHR1cmVzW2ldKVswXV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAocmVhc29uKSA9PiBjb25zb2xlLmxvZyhyZWFzb24pXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIEJ1ZmZlckF0dHJpYnV0ZSxcclxuICBCdWZmZXJHZW9tZXRyeSxcclxuICBGbG9hdDMyQnVmZmVyQXR0cmlidXRlLFxyXG4gIEludGVybGVhdmVkQnVmZmVyLFxyXG4gIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxyXG4gIFRyaWFuZ2xlRmFuRHJhd01vZGUsXHJcbiAgVHJpYW5nbGVTdHJpcERyYXdNb2RlLFxyXG4gIFRyaWFuZ2xlc0RyYXdNb2RlLFxyXG4gIFZlY3RvcjMsXHJcbn0gZnJvbSBcIlRIUkVFXCI7XHJcblxyXG5jbGFzcyBCdWZmZXJHZW9tZXRyeVV0aWxzIHtcclxuICBzdGF0aWMgY29tcHV0ZVRhbmdlbnRzKGdlb21ldHJ5OiBUSFJFRS5CdWZmZXJHZW9tZXRyeSkge1xyXG4gICAgZ2VvbWV0cnkuY29tcHV0ZVRhbmdlbnRzKCk7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLmNvbXB1dGVUYW5nZW50cygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeS5jb21wdXRlVGFuZ2VudHMoKSBpbnN0ZWFkLlwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtICB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyaWVzXHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gdXNlR3JvdXBzXHJcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XHJcbiAgICovXHJcbiAgc3RhdGljIG1lcmdlQnVmZmVyR2VvbWV0cmllcyhcclxuICAgIGdlb21ldHJpZXM6IEFycmF5PFRIUkVFLkJ1ZmZlckdlb21ldHJ5PixcclxuICAgIHVzZUdyb3VwcyA9IGZhbHNlXHJcbiAgKSB7XHJcbiAgICBjb25zdCBpc0luZGV4ZWQgPSBnZW9tZXRyaWVzWzBdLmluZGV4ICE9PSBudWxsO1xyXG5cclxuICAgIGNvbnN0IGF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldChPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLmF0dHJpYnV0ZXMpKTtcclxuICAgIGNvbnN0IG1vcnBoQXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KFxyXG4gICAgICBPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLm1vcnBoQXR0cmlidXRlcylcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgYXR0cmlidXRlczogUmVjb3JkPFxyXG4gICAgICBzdHJpbmcsXHJcbiAgICAgIEFycmF5PFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSB8IFRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPlxyXG4gICAgPiA9IHt9O1xyXG4gICAgY29uc3QgbW9ycGhBdHRyaWJ1dGVzOiBSZWNvcmQ8XHJcbiAgICAgIHN0cmluZyxcclxuICAgICAgQXJyYXk8QXJyYXk8VEhSRUUuQnVmZmVyQXR0cmlidXRlIHwgVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+PlxyXG4gICAgPiA9IHt9O1xyXG5cclxuICAgIGNvbnN0IG1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gZ2VvbWV0cmllc1swXS5tb3JwaFRhcmdldHNSZWxhdGl2ZTtcclxuXHJcbiAgICBjb25zdCBtZXJnZWRHZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xyXG5cclxuICAgIGxldCBvZmZzZXQgPSAwO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XHJcbiAgICAgIGxldCBhdHRyaWJ1dGVzQ291bnQgPSAwO1xyXG5cclxuICAgICAgLy8gZW5zdXJlIHRoYXQgYWxsIGdlb21ldHJpZXMgYXJlIGluZGV4ZWQsIG9yIG5vbmVcclxuXHJcbiAgICAgIGlmIChpc0luZGV4ZWQgIT09IChnZW9tZXRyeS5pbmRleCAhPT0gbnVsbCkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICBpICtcclxuICAgICAgICAgICAgXCIuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBpbmRleCBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBnYXRoZXIgYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxyXG5cclxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAgICcuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBcIicgK1xyXG4gICAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgYXR0cmlidXRlc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkuYXR0cmlidXRlc1tuYW1lXSk7XHJcblxyXG4gICAgICAgIGF0dHJpYnV0ZXNDb3VudCsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBlbnN1cmUgZ2VvbWV0cmllcyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBhdHRyaWJ1dGVzXHJcblxyXG4gICAgICBpZiAoYXR0cmlidXRlc0NvdW50ICE9PSBhdHRyaWJ1dGVzVXNlZC5zaXplKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4IFwiICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgIFwiLiBNYWtlIHN1cmUgYWxsIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlcy5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGdhdGhlciBtb3JwaCBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XHJcblxyXG4gICAgICBpZiAobW9ycGhUYXJnZXRzUmVsYXRpdmUgIT09IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4IFwiICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgIFwiLiAubW9ycGhUYXJnZXRzUmVsYXRpdmUgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgaWYgKCFtb3JwaEF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAgIFwiLiAgLm1vcnBoQXR0cmlidXRlcyBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy5cIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZ2F0aGVyIC51c2VyRGF0YVxyXG5cclxuICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEgPVxyXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhIHx8IFtdO1xyXG4gICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YS5wdXNoKGdlb21ldHJ5LnVzZXJEYXRhKTtcclxuXHJcbiAgICAgIGlmICh1c2VHcm91cHMpIHtcclxuICAgICAgICBsZXQgY291bnQ7XHJcblxyXG4gICAgICAgIGlmIChpc0luZGV4ZWQpIHtcclxuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuaW5kZXguY291bnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAgIFwiLiBUaGUgZ2VvbWV0cnkgbXVzdCBoYXZlIGVpdGhlciBhbiBpbmRleCBvciBhIHBvc2l0aW9uIGF0dHJpYnV0ZVwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXJnZWRHZW9tZXRyeS5hZGRHcm91cChvZmZzZXQsIGNvdW50LCBpKTtcclxuXHJcbiAgICAgICAgb2Zmc2V0ICs9IGNvdW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWVyZ2UgaW5kaWNlc1xyXG5cclxuICAgIGlmIChpc0luZGV4ZWQpIHtcclxuICAgICAgbGV0IGluZGV4T2Zmc2V0ID0gMDtcclxuICAgICAgY29uc3QgbWVyZ2VkSW5kZXggPSBbXTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZ2VvbWV0cmllc1tpXS5pbmRleDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleC5jb3VudDsgKytqKSB7XHJcbiAgICAgICAgICBtZXJnZWRJbmRleC5wdXNoKGluZGV4LmdldFgoaikgKyBpbmRleE9mZnNldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmRleE9mZnNldCArPSBnZW9tZXRyaWVzW2ldLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5LnNldEluZGV4KG1lcmdlZEluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBhdHRyaWJ1dGVzXHJcblxyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgY29uc3QgbWVyZ2VkQXR0cmlidXRlID0gdGhpcy5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoYXR0cmlidXRlc1tuYW1lXSk7XHJcblxyXG4gICAgICBpZiAoIW1lcmdlZEF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSBcIiArXHJcbiAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICBcIiBhdHRyaWJ1dGUuXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5zZXRBdHRyaWJ1dGUobmFtZSwgbWVyZ2VkQXR0cmlidXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBtb3JwaCBhdHRyaWJ1dGVzXHJcblxyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIG1vcnBoQXR0cmlidXRlcykge1xyXG4gICAgICBjb25zdCBudW1Nb3JwaFRhcmdldHMgPSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bMF0ubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKG51bU1vcnBoVGFyZ2V0cyA9PT0gMCkgYnJlYWs7XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgPSBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgfHwge307XHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Nb3JwaFRhcmdldHM7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0ubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UucHVzaChtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal1baV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWVyZ2VkTW9ycGhBdHRyaWJ1dGUgPSB0aGlzLm1lcmdlQnVmZmVyQXR0cmlidXRlcyhcclxuICAgICAgICAgIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2VcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoIW1lcmdlZE1vcnBoQXR0cmlidXRlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSBcIiArXHJcbiAgICAgICAgICAgICAgbmFtZSArXHJcbiAgICAgICAgICAgICAgXCIgbW9ycGhBdHRyaWJ1dGUuXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXS5wdXNoKG1lcmdlZE1vcnBoQXR0cmlidXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtZXJnZWRHZW9tZXRyeTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xyXG4gICAqIEByZXR1cm4ge0J1ZmZlckF0dHJpYnV0ZX1cclxuICAgKi9cclxuICBzdGF0aWMgbWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKFxyXG4gICAgYXR0cmlidXRlczogQXJyYXk8QnVmZmVyQXR0cmlidXRlIHwgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+XHJcbiAgKSB7XHJcbiAgICBsZXQgVHlwZWRBcnJheTtcclxuICAgIGxldCBpdGVtU2l6ZTtcclxuICAgIGxldCBub3JtYWxpemVkO1xyXG4gICAgbGV0IGFycmF5TGVuZ3RoID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAoYXR0cmlidXRlIGFzIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZC5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XHJcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuYXJyYXkgbXVzdCBiZSBvZiBjb25zaXN0ZW50IGFycmF5IHR5cGVzIGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGl0ZW1TaXplID09PSB1bmRlZmluZWQpIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xyXG4gICAgICBpZiAoaXRlbVNpemUgIT09IGF0dHJpYnV0ZS5pdGVtU2l6ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkKSBub3JtYWxpemVkID0gYXR0cmlidXRlLm5vcm1hbGl6ZWQ7XHJcbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBhdHRyaWJ1dGUubm9ybWFsaXplZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgIGNvbnN0IGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYXJyYXlMZW5ndGgpO1xyXG4gICAgbGV0IG9mZnNldCA9IDA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIGFycmF5LnNldChhdHRyaWJ1dGVzW2ldLmFycmF5LCBvZmZzZXQpO1xyXG5cclxuICAgICAgb2Zmc2V0ICs9IGF0dHJpYnV0ZXNbaV0uYXJyYXkubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckF0dHJpYnV0ZT59IGF0dHJpYnV0ZXNcclxuICAgKiBAcmV0dXJuIHtBcnJheTxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XHJcbiAgICovXHJcbiAgc3RhdGljIGludGVybGVhdmVBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IEFycmF5PEJ1ZmZlckF0dHJpYnV0ZT4pIHtcclxuICAgIC8vIEludGVybGVhdmVzIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIGludG8gYW4gSW50ZXJsZWF2ZWRCdWZmZXIgYW5kIHJldHVybnNcclxuICAgIC8vIGEgc2V0IG9mIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBmb3IgZWFjaCBhdHRyaWJ1dGVcclxuICAgIGxldCBUeXBlZEFycmF5O1xyXG4gICAgbGV0IGFycmF5TGVuZ3RoID0gMDtcclxuICAgIGxldCBzdHJpZGUgPSAwO1xyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgdGhlIGxlbmd0aCBhbmQgdHlwZSBvZiB0aGUgaW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcclxuXHJcbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XHJcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJBdHRyaWJ1dGVCdWZmZXJzIG9mIGRpZmZlcmVudCB0eXBlcyBjYW5ub3QgYmUgaW50ZXJsZWF2ZWRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XHJcbiAgICAgIHN0cmlkZSArPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBzZXQgb2YgYnVmZmVyIGF0dHJpYnV0ZXNcclxuICAgIFxyXG4gICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoXHJcbiAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICBuZXcgVHlwZWRBcnJheShhcnJheUxlbmd0aCksXHJcbiAgICAgIHN0cmlkZVxyXG4gICAgKTtcclxuICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBjb25zdCBnZXR0ZXJzID0gW1wiZ2V0WFwiLCBcImdldFlcIiwgXCJnZXRaXCIsIFwiZ2V0V1wiXTtcclxuICAgIGNvbnN0IHNldHRlcnMgPSBbXCJzZXRYXCIsIFwic2V0WVwiLCBcInNldFpcIiwgXCJzZXRXXCJdO1xyXG5cclxuICAgIGZvciAobGV0IGogPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcclxuICAgICAgY29uc3QgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcbiAgICAgIGNvbnN0IGNvdW50ID0gYXR0cmlidXRlLmNvdW50O1xyXG4gICAgICBjb25zdCBpYmEgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXHJcbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIsXHJcbiAgICAgICAgaXRlbVNpemUsXHJcbiAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgIGF0dHJpYnV0ZS5ub3JtYWxpemVkXHJcbiAgICAgICk7XHJcbiAgICAgIHJlcy5wdXNoKGliYSk7XHJcblxyXG4gICAgICBvZmZzZXQgKz0gaXRlbVNpemU7XHJcblxyXG4gICAgICAvLyBNb3ZlIHRoZSBkYXRhIGZvciBlYWNoIGF0dHJpYnV0ZSBpbnRvIHRoZSBuZXcgaW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgICAgLy8gYXQgdGhlIGFwcHJvcHJpYXRlIG9mZnNldFxyXG4gICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNvdW50OyBjKyspIHtcclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcclxuICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgaWJhW3NldHRlcnNba11dKGMsIGF0dHJpYnV0ZVtnZXR0ZXJzW2tdXShjKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyeVxyXG4gICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgKi9cclxuICBzdGF0aWMgZXN0aW1hdGVCeXRlc1VzZWQoZ2VvbWV0cnk6IEJ1ZmZlckdlb21ldHJ5KSB7XHJcbiAgICAvLyBSZXR1cm4gdGhlIGVzdGltYXRlZCBtZW1vcnkgdXNlZCBieSB0aGlzIGdlb21ldHJ5IGluIGJ5dGVzXHJcbiAgICAvLyBDYWxjdWxhdGUgdXNpbmcgaXRlbVNpemUsIGNvdW50LCBhbmQgQllURVNfUEVSX0VMRU1FTlQgdG8gYWNjb3VudFxyXG4gICAgLy8gZm9yIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcy5cclxuICAgIGxldCBtZW0gPSAwO1xyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgY29uc3QgYXR0ciA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIG1lbSArPSBhdHRyLmNvdW50ICogYXR0ci5pdGVtU2l6ZSAqIGF0dHIuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcbiAgICBcclxuICAgIG1lbSArPSBpbmRpY2VzXHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgPyBpbmRpY2VzLmNvdW50ICogaW5kaWNlcy5pdGVtU2l6ZSAqIGluZGljZXMuYXJyYXkuQllURVNfUEVSX0VMRU1FTlRcclxuICAgICAgOiAwO1xyXG4gICAgcmV0dXJuIG1lbTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxyXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5Pn1cclxuICAgKi9cclxuICBzdGF0aWMgbWVyZ2VWZXJ0aWNlcyhnZW9tZXRyeTogQnVmZmVyR2VvbWV0cnksIHRvbGVyYW5jZSA9IDFlLTQpIHtcclxuICAgIHRvbGVyYW5jZSA9IE1hdGgubWF4KHRvbGVyYW5jZSwgTnVtYmVyLkVQU0lMT04pO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIGFuIGluZGV4IGJ1ZmZlciBpZiB0aGUgZ2VvbWV0cnkgZG9lc24ndCBoYXZlIG9uZSwgb3Igb3B0aW1pemUgaXRcclxuICAgIC8vIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUuXHJcbiAgICBjb25zdCBoYXNoVG9JbmRleDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgY29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKTtcclxuICAgIGNvbnN0IHZlcnRleENvdW50ID0gaW5kaWNlcyA/IGluZGljZXMuY291bnQgOiBwb3NpdGlvbnMuY291bnQ7XHJcblxyXG4gICAgLy8gbmV4dCB2YWx1ZSBmb3IgdHJpYW5nbGUgaW5kaWNlc1xyXG4gICAgbGV0IG5leHRJbmRleCA9IDA7XHJcblxyXG4gICAgLy8gYXR0cmlidXRlcyBhbmQgbmV3IGF0dHJpYnV0ZSBhcnJheXNcclxuICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gT2JqZWN0LmtleXMoZ2VvbWV0cnkuYXR0cmlidXRlcyk7XHJcbiAgICBjb25zdCBhdHRyQXJyYXlzOiBSZWNvcmQ8c3RyaW5nLCBBcnJheTxCdWZmZXJBdHRyaWJ1dGU+PiA9IHt9O1xyXG4gICAgY29uc3QgbW9ycGhBdHRyc0FycmF5czogUmVjb3JkPHN0cmluZywgQXJyYXk8YW55Pj4gPSB7fTtcclxuICAgIGNvbnN0IG5ld0luZGljZXMgPSBbXTtcclxuICAgIGNvbnN0IGdldHRlcnMgPSBbXCJnZXRYXCIsIFwiZ2V0WVwiLCBcImdldFpcIiwgXCJnZXRXXCJdO1xyXG5cclxuICAgIC8vIGluaXRpYWxpemUgdGhlIGFycmF5c1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG5cclxuICAgICAgYXR0ckFycmF5c1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgY29uc3QgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdO1xyXG4gICAgICBpZiAobW9ycGhBdHRyKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbW9ycGhBdHRyc0FycmF5c1tuYW1lXSA9IG5ldyBBcnJheShtb3JwaEF0dHIubGVuZ3RoKVxyXG4gICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgLmZpbGwoKVxyXG4gICAgICAgICAgLm1hcCgoKSA9PiBbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb252ZXJ0IHRoZSBlcnJvciB0b2xlcmFuY2UgdG8gYW4gYW1vdW50IG9mIGRlY2ltYWwgcGxhY2VzIHRvIHRydW5jYXRlIHRvXHJcbiAgICBjb25zdCBkZWNpbWFsU2hpZnQgPSBNYXRoLmxvZzEwKDEgLyB0b2xlcmFuY2UpO1xyXG4gICAgY29uc3Qgc2hpZnRNdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIGRlY2ltYWxTaGlmdCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyBpKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBpbmRpY2VzID8gaW5kaWNlcy5nZXRYKGkpIDogaTtcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIGEgaGFzaCBmb3IgdGhlIHZlcnRleCBhdHRyaWJ1dGVzIGF0IHRoZSBjdXJyZW50IGluZGV4ICdpJ1xyXG4gICAgICBsZXQgaGFzaCA9IFwiXCI7XHJcbiAgICAgIGZvciAobGV0IGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2pdO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICBjb25zdCBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XHJcbiAgICAgICAgICAvLyBkb3VibGUgdGlsZGUgdHJ1bmNhdGVzIHRoZSBkZWNpbWFsIHZhbHVlXHJcbiAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgIGhhc2ggKz0gYCR7fn4oYXR0cmlidXRlW2dldHRlcnNba11dKGluZGV4KSAqIHNoaWZ0TXVsdGlwbGllcil9LGA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBZGQgYW5vdGhlciByZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBpZiBpdCdzIGFscmVhZHlcclxuICAgICAgLy8gdXNlZCBieSBhbm90aGVyIGluZGV4XHJcbiAgICAgIGlmIChoYXNoIGluIGhhc2hUb0luZGV4KSB7XHJcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGhhc2hUb0luZGV4W2hhc2hdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb3B5IGRhdGEgdG8gdGhlIG5ldyBpbmRleCBpbiB0aGUgYXR0cmlidXRlIGFycmF5c1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBuYW1lID0gYXR0cmlidXRlTmFtZXNbal07XHJcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgICAgICBjb25zdCBtb3JwaEF0dHIgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV07XHJcbiAgICAgICAgICBjb25zdCBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuICAgICAgICAgIGNvbnN0IG5ld2FycmF5ID0gYXR0ckFycmF5c1tuYW1lXTtcclxuICAgICAgICAgIGNvbnN0IG5ld01vcnBoQXJyYXlzID0gbW9ycGhBdHRyc0FycmF5c1tuYW1lXTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZ2V0dGVyRnVuYyA9IGdldHRlcnNba107XHJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBuZXdhcnJheS5wdXNoKGF0dHJpYnV0ZVtnZXR0ZXJGdW5jIGFzIFwiZ2V0WFwiXShpbmRleCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1vcnBoQXR0cikge1xyXG4gICAgICAgICAgICAgIGZvciAobGV0IG0gPSAwLCBtbCA9IG1vcnBoQXR0ci5sZW5ndGg7IG0gPCBtbDsgbSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIG5ld01vcnBoQXJyYXlzW21dLnB1c2gobW9ycGhBdHRyW21dW2dldHRlckZ1bmNdKGluZGV4KSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBoYXNoVG9JbmRleFtoYXNoXSA9IG5leHRJbmRleDtcclxuICAgICAgICBuZXdJbmRpY2VzLnB1c2gobmV4dEluZGV4KTtcclxuICAgICAgICBuZXh0SW5kZXgrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIHR5cGVkIGFycmF5cyBmcm9tIG5ldyBhdHRyaWJ1dGUgYXJyYXlzIGFuZCB1cGRhdGVcclxuICAgIC8vIHRoZSBhdHRyaWJ1dGVCdWZmZXJzXHJcbiAgICBjb25zdCByZXN1bHQgPSBnZW9tZXRyeS5jbG9uZSgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG4gICAgICBjb25zdCBvbGRBdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICBjb25zdCBidWZmZXIgPSBuZXcgb2xkQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKGF0dHJBcnJheXNbbmFtZV0pO1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgIGJ1ZmZlcixcclxuICAgICAgICBvbGRBdHRyaWJ1dGUuaXRlbVNpemUsXHJcbiAgICAgICAgb2xkQXR0cmlidXRlLm5vcm1hbGl6ZWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cmlidXRlKTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgYXR0cmlidXRlIGFycmF5c1xyXG4gICAgICBpZiAobmFtZSBpbiBtb3JwaEF0dHJzQXJyYXlzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb3JwaEF0dHJzQXJyYXlzW25hbWVdLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBvbGRNb3JwaEF0dHJpYnV0ZSA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXTtcclxuICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IG9sZE1vcnBoQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKFxyXG4gICAgICAgICAgICBtb3JwaEF0dHJzQXJyYXlzW25hbWVdW2pdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgY29uc3QgbW9ycGhBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgICAgICBidWZmZXIsXHJcbiAgICAgICAgICAgIG9sZE1vcnBoQXR0cmlidXRlLml0ZW1TaXplLFxyXG4gICAgICAgICAgICBvbGRNb3JwaEF0dHJpYnV0ZS5ub3JtYWxpemVkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmVzdWx0Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXSA9IG1vcnBoQXR0cmlidXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGluZGljZXNcclxuXHJcbiAgICByZXN1bHQuc2V0SW5kZXgobmV3SW5kaWNlcyk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRyYXdNb2RlXHJcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnk+fVxyXG4gICAqL1xyXG4gIHN0YXRpYyB0b1RyaWFuZ2xlc0RyYXdNb2RlKGdlb21ldHJ5OiBCdWZmZXJHZW9tZXRyeSwgZHJhd01vZGU6IG51bWJlcikge1xyXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZXNEcmF3TW9kZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogR2VvbWV0cnkgYWxyZWFkeSBkZWZpbmVkIGFzIHRyaWFuZ2xlcy5cIlxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSB8fFxyXG4gICAgICBkcmF3TW9kZSA9PT0gVHJpYW5nbGVTdHJpcERyYXdNb2RlXHJcbiAgICApIHtcclxuICAgICAgbGV0IGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuXHJcbiAgICAgIC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XHJcblxyXG4gICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBpbmRpY2VzID0gW107XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xyXG4gICAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS5cIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vXHJcblxyXG4gICAgICBjb25zdCBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcclxuICAgICAgY29uc3QgbmV3SW5kaWNlcyA9IFtdO1xyXG5cclxuICAgICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XHJcbiAgICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKDApKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcclxuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuXCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBidWlsZCBmaW5hbCBnZW9tZXRyeVxyXG5cclxuICAgICAgY29uc3QgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xyXG4gICAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcclxuICAgICAgbmV3R2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcclxuXHJcbiAgICAgIHJldHVybiBuZXdHZW9tZXRyeTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5rbm93biBkcmF3IG1vZGU6XCIsXHJcbiAgICAgICAgZHJhd01vZGVcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlcyB0aGUgbW9ycGhlZCBhdHRyaWJ1dGVzIG9mIGEgbW9ycGhlZC9za2lubmVkIEJ1ZmZlckdlb21ldHJ5LlxyXG4gICAqIEhlbHBmdWwgZm9yIFJheXRyYWNpbmcgb3IgRGVjYWxzLlxyXG4gICAqIEBwYXJhbSB7TWVzaCB8IExpbmUgfCBQb2ludHN9IG9iamVjdCBBbiBpbnN0YW5jZSBvZiBNZXNoLCBMaW5lIG9yIFBvaW50cy5cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIE9iamVjdCB3aXRoIG9yaWdpbmFsIHBvc2l0aW9uL25vcm1hbCBhdHRyaWJ1dGVzIGFuZCBtb3JwaGVkIG9uZXMuXHJcbiAgICovXHJcbiAgc3RhdGljIGNvbXB1dGVNb3JwaGVkQXR0cmlidXRlcyhcclxuICAgIG9iamVjdDogVEhSRUUuTWVzaCB8IFRIUkVFLkxpbmUgfCBUSFJFRS5Qb2ludHNcclxuICApIHtcclxuICAgIGlmIChvYmplY3QuZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSAhPT0gdHJ1ZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogR2VvbWV0cnkgaXMgbm90IG9mIHR5cGUgQnVmZmVyR2VvbWV0cnkuXCJcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX3ZBID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIGNvbnN0IF92QiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICBjb25zdCBfdkMgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuICAgIGNvbnN0IF90ZW1wQSA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICBjb25zdCBfdGVtcEIgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgY29uc3QgX3RlbXBDID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcbiAgICBjb25zdCBfbW9ycGhBID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIGNvbnN0IF9tb3JwaEIgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgY29uc3QgX21vcnBoQyA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxyXG4gICAgICBvYmplY3Q6IFRIUkVFLk1lc2gsXHJcbiAgICAgIG1hdGVyaWFsOiBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCxcclxuICAgICAgYXR0cmlidXRlOiBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUsXHJcbiAgICAgIG1vcnBoQXR0cmlidXRlOiBUSFJFRS5CdWZmZXJBdHRyaWJ1dGVbXSxcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgYSxcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIGIsXHJcbiAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICBjLFxyXG4gICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVxyXG4gICAgKSB7XHJcbiAgICAgIF92QS5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSwgYSk7XHJcbiAgICAgIF92Qi5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSwgYik7XHJcbiAgICAgIF92Qy5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSwgYyk7XHJcblxyXG4gICAgICBjb25zdCBtb3JwaEluZmx1ZW5jZXMgPSBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsLm1vcnBoVGFyZ2V0cyAmJiBtb3JwaEF0dHJpYnV0ZSAmJiBtb3JwaEluZmx1ZW5jZXMpIHtcclxuICAgICAgICBfbW9ycGhBLnNldCgwLCAwLCAwKTtcclxuICAgICAgICBfbW9ycGhCLnNldCgwLCAwLCAwKTtcclxuICAgICAgICBfbW9ycGhDLnNldCgwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gbW9ycGhBdHRyaWJ1dGUubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgaW5mbHVlbmNlID0gbW9ycGhJbmZsdWVuY2VzW2ldO1xyXG4gICAgICAgICAgY29uc3QgbW9ycGggPSBtb3JwaEF0dHJpYnV0ZVtpXTtcclxuXHJcbiAgICAgICAgICBpZiAoaW5mbHVlbmNlID09PSAwKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICBfdGVtcEEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaCwgYSk7XHJcbiAgICAgICAgICBfdGVtcEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaCwgYik7XHJcbiAgICAgICAgICBfdGVtcEMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaCwgYyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgIF9tb3JwaEEuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQSwgaW5mbHVlbmNlKTtcclxuICAgICAgICAgICAgX21vcnBoQi5hZGRTY2FsZWRWZWN0b3IoX3RlbXBCLCBpbmZsdWVuY2UpO1xyXG4gICAgICAgICAgICBfbW9ycGhDLmFkZFNjYWxlZFZlY3RvcihfdGVtcEMsIGluZmx1ZW5jZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfbW9ycGhBLmFkZFNjYWxlZFZlY3RvcihfdGVtcEEuc3ViKF92QSksIGluZmx1ZW5jZSk7XHJcbiAgICAgICAgICAgIF9tb3JwaEIuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQi5zdWIoX3ZCKSwgaW5mbHVlbmNlKTtcclxuICAgICAgICAgICAgX21vcnBoQy5hZGRTY2FsZWRWZWN0b3IoX3RlbXBDLnN1YihfdkMpLCBpbmZsdWVuY2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3ZBLmFkZChfbW9ycGhBKTtcclxuICAgICAgICBfdkIuYWRkKF9tb3JwaEIpO1xyXG4gICAgICAgIF92Qy5hZGQoX21vcnBoQyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgob2JqZWN0IGFzIFRIUkVFLlNraW5uZWRNZXNoKS5pc1NraW5uZWRNZXNoKSB7XHJcbiAgICAgICAgKG9iamVjdCBhcyBUSFJFRS5Ta2lubmVkTWVzaCkuYm9uZVRyYW5zZm9ybShhLCBfdkEpO1xyXG4gICAgICAgIChvYmplY3QgYXMgVEhSRUUuU2tpbm5lZE1lc2gpLmJvbmVUcmFuc2Zvcm0oYiwgX3ZCKTtcclxuICAgICAgICAob2JqZWN0IGFzIFRIUkVFLlNraW5uZWRNZXNoKS5ib25lVHJhbnNmb3JtKGMsIF92Qyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbYSAqIDMgKyAwXSA9IF92QS54O1xyXG4gICAgICBtb2RpZmllZEF0dHJpYnV0ZUFycmF5W2EgKiAzICsgMV0gPSBfdkEueTtcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVthICogMyArIDJdID0gX3ZBLno7XHJcbiAgICAgIG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbYiAqIDMgKyAwXSA9IF92Qi54O1xyXG4gICAgICBtb2RpZmllZEF0dHJpYnV0ZUFycmF5W2IgKiAzICsgMV0gPSBfdkIueTtcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVtiICogMyArIDJdID0gX3ZCLno7XHJcbiAgICAgIG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbYyAqIDMgKyAwXSA9IF92Qy54O1xyXG4gICAgICBtb2RpZmllZEF0dHJpYnV0ZUFycmF5W2MgKiAzICsgMV0gPSBfdkMueTtcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVtjICogMyArIDJdID0gX3ZDLno7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBvYmplY3QuZ2VvbWV0cnk7XHJcbiAgICBjb25zdCBtYXRlcmlhbCA9IG9iamVjdC5tYXRlcmlhbDtcclxuXHJcbiAgICBsZXQgYSwgYiwgYztcclxuICAgIGNvbnN0IGluZGV4ID0gZ2VvbWV0cnkuaW5kZXg7XHJcbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcbiAgICBjb25zdCBtb3JwaFBvc2l0aW9uID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG4gICAgY29uc3QgbW9ycGhUYXJnZXRzUmVsYXRpdmUgPSBnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZTtcclxuICAgIGNvbnN0IG5vcm1hbEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsO1xyXG4gICAgY29uc3QgbW9ycGhOb3JtYWwgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247XHJcblxyXG4gICAgY29uc3QgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xyXG4gICAgY29uc3QgZHJhd1JhbmdlID0gZ2VvbWV0cnkuZHJhd1JhbmdlO1xyXG4gICAgbGV0IGksIGosIGlsLCBqbDtcclxuICAgIGxldCBncm91cCwgZ3JvdXBNYXRlcmlhbDtcclxuICAgIGxldCBzdGFydCwgZW5kO1xyXG5cclxuICAgIGNvbnN0IG1vZGlmaWVkUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICBwb3NpdGlvbkF0dHJpYnV0ZS5jb3VudCAqIHBvc2l0aW9uQXR0cmlidXRlLml0ZW1TaXplXHJcbiAgICApO1xyXG4gICAgY29uc3QgbW9kaWZpZWROb3JtYWwgPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICBub3JtYWxBdHRyaWJ1dGUuY291bnQgKiBub3JtYWxBdHRyaWJ1dGUuaXRlbVNpemVcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XHJcbiAgICAgIC8vIGluZGV4ZWQgYnVmZmVyIGdlb21ldHJ5XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXRlcmlhbCkpIHtcclxuICAgICAgICBmb3IgKGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgICBncm91cCA9IGdyb3Vwc1tpXTtcclxuICAgICAgICAgIGdyb3VwTWF0ZXJpYWwgPSBtYXRlcmlhbFtncm91cC5tYXRlcmlhbEluZGV4XTtcclxuXHJcbiAgICAgICAgICBzdGFydCA9IE1hdGgubWF4KGdyb3VwLnN0YXJ0LCBkcmF3UmFuZ2Uuc3RhcnQpO1xyXG4gICAgICAgICAgZW5kID0gTWF0aC5taW4oXHJcbiAgICAgICAgICAgIGdyb3VwLnN0YXJ0ICsgZ3JvdXAuY291bnQsXHJcbiAgICAgICAgICAgIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGogPSBzdGFydCwgamwgPSBlbmQ7IGogPCBqbDsgaiArPSAzKSB7XHJcbiAgICAgICAgICAgIGEgPSBpbmRleC5nZXRYKGopO1xyXG4gICAgICAgICAgICBiID0gaW5kZXguZ2V0WChqICsgMSk7XHJcbiAgICAgICAgICAgIGMgPSBpbmRleC5nZXRYKGogKyAyKTtcclxuXHJcbiAgICAgICAgICAgIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcclxuICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICBvYmplY3QsXHJcbiAgICAgICAgICAgICAgZ3JvdXBNYXRlcmlhbCxcclxuICAgICAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgICBtb3JwaFBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgICAgYixcclxuICAgICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICAgIG1vZGlmaWVkUG9zaXRpb25cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcclxuICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICBvYmplY3QsXHJcbiAgICAgICAgICAgICAgZ3JvdXBNYXRlcmlhbCxcclxuICAgICAgICAgICAgICBub3JtYWxBdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgICAgbW9ycGhOb3JtYWwsXHJcbiAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzUmVsYXRpdmUsXHJcbiAgICAgICAgICAgICAgYSxcclxuICAgICAgICAgICAgICBiLFxyXG4gICAgICAgICAgICAgIGMsXHJcbiAgICAgICAgICAgICAgbW9kaWZpZWROb3JtYWxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhcnQgPSBNYXRoLm1heCgwLCBkcmF3UmFuZ2Uuc3RhcnQpO1xyXG4gICAgICAgIGVuZCA9IE1hdGgubWluKGluZGV4LmNvdW50LCBkcmF3UmFuZ2Uuc3RhcnQgKyBkcmF3UmFuZ2UuY291bnQpO1xyXG5cclxuICAgICAgICBmb3IgKGkgPSBzdGFydCwgaWwgPSBlbmQ7IGkgPCBpbDsgaSArPSAzKSB7XHJcbiAgICAgICAgICBhID0gaW5kZXguZ2V0WChpKTtcclxuICAgICAgICAgIGIgPSBpbmRleC5nZXRYKGkgKyAxKTtcclxuICAgICAgICAgIGMgPSBpbmRleC5nZXRYKGkgKyAyKTtcclxuXHJcbiAgICAgICAgICBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXHJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBvYmplY3QsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsLFxyXG4gICAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgbW9ycGhQb3NpdGlvbixcclxuICAgICAgICAgICAgbW9ycGhUYXJnZXRzUmVsYXRpdmUsXHJcbiAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgIGIsXHJcbiAgICAgICAgICAgIGMsXHJcbiAgICAgICAgICAgIG1vZGlmaWVkUG9zaXRpb25cclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICBtYXRlcmlhbCxcclxuICAgICAgICAgICAgbm9ybWFsQXR0cmlidXRlLFxyXG4gICAgICAgICAgICBtb3JwaE5vcm1hbCxcclxuICAgICAgICAgICAgbW9ycGhUYXJnZXRzUmVsYXRpdmUsXHJcbiAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgIGIsXHJcbiAgICAgICAgICAgIGMsXHJcbiAgICAgICAgICAgIG1vZGlmaWVkTm9ybWFsXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbkF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIC8vIG5vbi1pbmRleGVkIGJ1ZmZlciBnZW9tZXRyeVxyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgZm9yIChpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgZ3JvdXAgPSBncm91cHNbaV07XHJcbiAgICAgICAgICBncm91cE1hdGVyaWFsID0gbWF0ZXJpYWxbZ3JvdXAubWF0ZXJpYWxJbmRleF07XHJcblxyXG4gICAgICAgICAgc3RhcnQgPSBNYXRoLm1heChncm91cC5zdGFydCwgZHJhd1JhbmdlLnN0YXJ0KTtcclxuICAgICAgICAgIGVuZCA9IE1hdGgubWluKFxyXG4gICAgICAgICAgICBncm91cC5zdGFydCArIGdyb3VwLmNvdW50LFxyXG4gICAgICAgICAgICBkcmF3UmFuZ2Uuc3RhcnQgKyBkcmF3UmFuZ2UuY291bnRcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgZm9yIChqID0gc3RhcnQsIGpsID0gZW5kOyBqIDwgamw7IGogKz0gMykge1xyXG4gICAgICAgICAgICBhID0gajtcclxuICAgICAgICAgICAgYiA9IGogKyAxO1xyXG4gICAgICAgICAgICBjID0gaiArIDI7XHJcblxyXG4gICAgICAgICAgICBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXHJcbiAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICAgIGdyb3VwTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgICAgbW9ycGhQb3NpdGlvbixcclxuICAgICAgICAgICAgICBtb3JwaFRhcmdldHNSZWxhdGl2ZSxcclxuICAgICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICAgIGIsXHJcbiAgICAgICAgICAgICAgYyxcclxuICAgICAgICAgICAgICBtb2RpZmllZFBvc2l0aW9uXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXHJcbiAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICAgIGdyb3VwTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgbm9ybWFsQXR0cmlidXRlLFxyXG4gICAgICAgICAgICAgIG1vcnBoTm9ybWFsLFxyXG4gICAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgICAgYixcclxuICAgICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICAgIG1vZGlmaWVkTm9ybWFsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoMCwgZHJhd1JhbmdlLnN0YXJ0KTtcclxuICAgICAgICBlbmQgPSBNYXRoLm1pbihcclxuICAgICAgICAgIHBvc2l0aW9uQXR0cmlidXRlLmNvdW50LFxyXG4gICAgICAgICAgZHJhd1JhbmdlLnN0YXJ0ICsgZHJhd1JhbmdlLmNvdW50XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gc3RhcnQsIGlsID0gZW5kOyBpIDwgaWw7IGkgKz0gMykge1xyXG4gICAgICAgICAgYSA9IGk7XHJcbiAgICAgICAgICBiID0gaSArIDE7XHJcbiAgICAgICAgICBjID0gaSArIDI7XHJcblxyXG4gICAgICAgICAgX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICBtYXRlcmlhbCxcclxuICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIG1vcnBoUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICBiLFxyXG4gICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICBtb2RpZmllZFBvc2l0aW9uXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcclxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgIG9iamVjdCxcclxuICAgICAgICAgICAgbWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIG5vcm1hbEF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgbW9ycGhOb3JtYWwsXHJcbiAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICBiLFxyXG4gICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICBtb2RpZmllZE5vcm1hbFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb3JwaGVkUG9zaXRpb25BdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgbW9kaWZpZWRQb3NpdGlvbixcclxuICAgICAgM1xyXG4gICAgKTtcclxuICAgIGNvbnN0IG1vcnBoZWROb3JtYWxBdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgbW9kaWZpZWROb3JtYWwsXHJcbiAgICAgIDNcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcG9zaXRpb25BdHRyaWJ1dGU6IHBvc2l0aW9uQXR0cmlidXRlLFxyXG4gICAgICBub3JtYWxBdHRyaWJ1dGU6IG5vcm1hbEF0dHJpYnV0ZSxcclxuICAgICAgbW9ycGhlZFBvc2l0aW9uQXR0cmlidXRlOiBtb3JwaGVkUG9zaXRpb25BdHRyaWJ1dGUsXHJcbiAgICAgIG1vcnBoZWROb3JtYWxBdHRyaWJ1dGU6IG1vcnBoZWROb3JtYWxBdHRyaWJ1dGUsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQnVmZmVyR2VvbWV0cnlVdGlscyB9O1xyXG4iLCIvKipcclxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cclxuICogQGF1dGhvciBtci5kb29iIC8gaHR0cDovL21yZG9vYi5jb20vXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gIHdlYmdsOiAoZnVuY3Rpb24gKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcblxyXG4gICAgICByZXR1cm4gISEoXHJcbiAgICAgICAgd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJlxyXG4gICAgICAgIChjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpIHx8IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpKVxyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkoKSxcclxuXHJcbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxyXG4gIGZpbGVhcGk6IHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYixcclxuXHJcbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGVsZW1lbnQuaWQgPSBcIndlYmdsLWVycm9yLW1lc3NhZ2VcIjtcclxuICAgIGVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9IFwibW9ub3NwYWNlXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gXCIxM3B4XCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRXZWlnaHQgPSBcIm5vcm1hbFwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gXCIjZmZmXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmNvbG9yID0gXCIjMDAwXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcIjEuNWVtXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gXCI0MDBweFwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS5tYXJnaW4gPSBcIjVlbSBhdXRvIDBcIjtcclxuXHJcbiAgICBpZiAoIXRoaXMud2ViZ2wpIHtcclxuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0XHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcclxuICAgICAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LicsXHJcbiAgICAgICAgICBdLmpvaW4oXCJcXG5cIilcclxuICAgICAgICA6IFtcclxuICAgICAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIvPicsXHJcbiAgICAgICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nLFxyXG4gICAgICAgICAgXS5qb2luKFwiXFxuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH0sXHJcblxyXG4gIGFkZEdldFdlYkdMTWVzc2FnZTogZnVuY3Rpb24gKHBhcmFtZXRlcnM/OiBIVE1MRWxlbWVudCkge1xyXG4gICAgbGV0IHBhcmVudCwgaWQsIGVsZW1lbnQ7XHJcbiAgICBwYXJlbnQgPVxyXG4gICAgICBwYXJhbWV0ZXJzPy5wYXJlbnRFbGVtZW50ICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IHBhcmFtZXRlcnMucGFyZW50RWxlbWVudFxyXG4gICAgICAgIDogZG9jdW1lbnQuYm9keTtcclxuICAgIGlkID0gcGFyYW1ldGVycz8uaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiBcIm9sZGllXCI7XHJcbiAgICBlbGVtZW50ID0gdGhpcy5nZXRXZWJHTEVycm9yTWVzc2FnZSgpO1xyXG4gICAgZWxlbWVudC5pZCA9IGlkO1xyXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH0sXHJcbn07XHJcbiIsImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcInRocmVlXCI7XHJcblxyXG4vLyBQcm92aWRlcyBzaW1wbGUgc3RhdGljIGZ1bmN0aW9ucyB0aGF0IGFyZSB1c2VkIG11bHRpcGxlIHRpbWVzIGluIHRoZSBhcHBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscGVycyB7XHJcbiAgc3RhdGljIHRocm90dGxlKFxyXG4gICAgZm46ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcclxuICAgIHRocmVzaGhvbGQ6IG51bWJlcixcclxuICAgIHNjb3BlPzogYW55XHJcbiAgKSB7XHJcbiAgICB0aHJlc2hob2xkIHx8ICh0aHJlc2hob2xkID0gMjUwKTtcclxuICAgIGxldCBsYXN0OiBudW1iZXIsIGRlZmVyVGltZXI6IE5vZGVKUy5UaW1lb3V0O1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBzY29wZSB8fCB0aGlzO1xyXG5cclxuICAgICAgY29uc3Qgbm93ID0gK25ldyBEYXRlKCksXHJcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgIGlmIChsYXN0ICYmIG5vdyA8IGxhc3QgKyB0aHJlc2hob2xkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlZmVyVGltZXIpO1xyXG4gICAgICAgIGRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGxhc3QgPSBub3c7XHJcbiAgICAgICAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICB9LCB0aHJlc2hob2xkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYXN0ID0gbm93O1xyXG4gICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGxvZ1Byb2dyZXNzKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4aHI6IFByb2dyZXNzRXZlbnQpIHtcclxuICAgICAgaWYgKHhoci5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbiAgICAgICAgY29uc3QgcGVyY2VudENvbXBsZXRlID0gKHhoci5sb2FkZWQgLyB4aHIudG90YWwpICogMTAwO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSkgKyBcIiUgZG93bmxvYWRlZFwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBsb2dFcnJvcigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoeGhyOiBQcm9ncmVzc0V2ZW50KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoeGhyKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGFuZGxlQ29sb3JDaGFuZ2UoY29sb3I6IFRIUkVFLkNvbG9yKSB7XHJcbiAgICByZXR1cm4gKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIiNcIiwgXCIweFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29sb3Iuc2V0SGV4KHBhcnNlSW50KHZhbHVlLCAxMikpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB1cGRhdGUobWVzaDogVEhSRUUuTWVzaCkge1xyXG4gICAgdGhpcy5uZWVkc1VwZGF0ZShtZXNoLm1hdGVyaWFsLCBtZXNoLmdlb21ldHJ5KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBuZWVkc1VwZGF0ZShcclxuICAgIG1hdGVyaWFsOiBUSFJFRS5NZXNoW1wibWF0ZXJpYWxcIl0sXHJcbiAgICBnZW9tZXRyeTogVEhSRUUuQnVmZmVyR2VvbWV0cnlcclxuICApIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChtYXRlcmlhbCBpbnN0YW5jZW9mIE1hdGVyaWFsKSB7XHJcbiAgICAgICAgbWF0ZXJpYWwuc2lkZSA9ICttYXRlcmlhbC5zaWRlOyAvL0Vuc3VyZSBudW1iZXJcclxuICAgICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFscy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3JzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlVGV4dHVyZShtYXRlcmlhbDogYW55LCBtYXRlcmlhbEtleTogc3RyaW5nLCB0ZXh0dXJlczogYW55KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleTogc3RyaW5nKSB7XHJcbiAgICAgIG1hdGVyaWFsW21hdGVyaWFsS2V5XSA9IHRleHR1cmVzW2tleV07XHJcbiAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBBTElBUyA9IHtcclxuICBsZWZ0OiAzNyxcclxuICB1cDogMzgsXHJcbiAgcmlnaHQ6IDM5LFxyXG4gIGRvd246IDQwLFxyXG4gIHNwYWNlOiAzMixcclxuICB0YWI6IDksXHJcbiAgZXNjYXBlOiAyNyxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcclxuICBkb21FbGVtZW50OiBIVE1MRWxlbWVudCB8IERvY3VtZW50O1xyXG4gIGtleUNvZGVzOiBQYXJ0aWFsPHsgW2s6IG51bWJlcl06IGJvb2xlYW4gfT47XHJcbiAgY29uc3RydWN0b3IoZG9tRWxlbWVudD86IEhUTUxFbGVtZW50IHwgRG9jdW1lbnQpIHtcclxuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZG9jdW1lbnQ7XHJcbiAgICB0aGlzLmtleUNvZGVzID0ge307XHJcblxyXG4gICAgLy8gYmluZCBrZXlFdmVudHNcclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImtleWRvd25cIixcclxuICAgICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJrZXl1cFwiLFxyXG4gICAgICAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBiaW5kIHdpbmRvdyBibHVyXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJrZXlkb3duXCIsXHJcbiAgICAgIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksXHJcbiAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwia2V5dXBcIixcclxuICAgICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcblxyXG4gICAgLy8gdW5iaW5kIHdpbmRvdyBibHVyIGV2ZW50XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIG9uQmx1cigpIHtcclxuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0aGlzLmtleUNvZGVzKSB0aGlzLmtleUNvZGVzW3Byb3BdID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBvbktleUNoYW5nZShldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgLy8gbG9nIHRvIGRlYnVnXHJcbiAgICAvL2NvbnNvbGUubG9nKCdvbktleUNoYW5nZScsIGV2ZW50LCBldmVudC5rZXlDb2RlLCBldmVudC5zaGlmdEtleSwgZXZlbnQuY3RybEtleSwgZXZlbnQuYWx0S2V5LCBldmVudC5tZXRhS2V5KVxyXG4gICAgY29uc29sZTtcclxuICAgIC8vIHVwZGF0ZSB0aGlzLmtleUNvZGVzXHJcbiAgICBjb25zdCBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcclxuICAgIHRoaXMua2V5Q29kZXNba2V5Q29kZV0gPSBldmVudC50eXBlID09PSBcImtleWRvd25cIjtcclxuICB9XHJcblxyXG4gIHByZXNzZWQoa2V5RGVzYzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdChcIitcIik7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKEFMSUFTKS5pbmRleE9mKGtleSkgIT0gLTEpIHtcclxuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1tBTElBU1trZXkgYXMga2V5b2YgdHlwZW9mIEFMSUFTXV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJlc3NlZCA9IHRoaXMua2V5Q29kZXNba2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwcmVzc2VkKSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBldmVudE1hdGNoZXMoZXZlbnQ6IEtleWJvYXJkRXZlbnQsIGtleURlc2M6IGtleW9mIHR5cGVvZiBBTElBUykge1xyXG4gICAgY29uc3QgYWxpYXNlcyA9IEFMSUFTO1xyXG4gICAgY29uc3QgYWxpYXNLZXlzID0gT2JqZWN0LmtleXMoYWxpYXNlcyk7XHJcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5pbmRleE9mKFwiK1wiKSAhPSAtMSA/IGtleURlc2Muc3BsaXQoXCIrXCIpIDogW2tleURlc2NdO1xyXG4gICAgLy8gbG9nIHRvIGRlYnVnXHJcbiAgICAvLyBjb25zb2xlLmxvZygnZXZlbnRNYXRjaGVzJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKGtleSA9PT0gXCJzaGlmdFwiKSB7XHJcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LnNoaWZ0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJjdHJsXCIpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuY3RybEtleSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwiYWx0XCIpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuYWx0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJtZXRhXCIpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQubWV0YUtleSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmIChhbGlhc0tleXMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xyXG4gICAgICAgIHByZXNzZWQgPSBldmVudC5rZXlDb2RlID09PSBhbGlhc2VzW2tleSBhcyBrZXlvZiB0eXBlb2YgQUxJQVNdO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IGtleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpIHtcclxuICAgICAgICBwcmVzc2VkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXByZXNzZWQpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcbmRlY2xhcmUgbW9kdWxlIFwidGhyZWVcIiB7XHJcbiAgZXhwb3J0IGNsYXNzIE9yYml0Q29udHJvbHMge1xyXG4gICAgY29uc3RydWN0b3IoY2FtZXJhOiBUSFJFRS5DYW1lcmEsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KTtcclxuICAgIGRvbUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgZW5hYmxlZDogYm9vbGVhbjtcclxuICAgIG9iamVjdDogVEhSRUUuQ2FtZXJhO1xyXG4gICAgdGFyZ2V0OiBUSFJFRS5WZWN0b3IzO1xyXG4gICAgbWluWm9vbTogbnVtYmVyO1xyXG4gICAgbWF4Wm9vbTogbnVtYmVyO1xyXG4gICAgbWluUG9sYXJBbmdsZTogbnVtYmVyO1xyXG4gICAgbWF4UG9sYXJBbmdsZTogbnVtYmVyO1xyXG4gICAgbWluRGlzdGFuY2U6IG51bWJlcjtcclxuICAgIG1heERpc3RhbmNlOiBudW1iZXI7XHJcbiAgICBtaW5BemltdXRoQW5nbGU6IG51bWJlcjtcclxuICAgIG1heEF6aW11dGhBbmdsZTogbnVtYmVyO1xyXG4gICAgZW5hYmxlRGFtcGluZzogYm9vbGVhbjtcclxuICAgIGRhbXBpbmdGYWN0b3I6IG51bWJlcjtcclxuICAgIGVuYWJsZVpvb206IGJvb2xlYW47XHJcbiAgICB6b29tU3BlZWQ6IG51bWJlcjtcclxuICAgIGVuYWJsZVJvdGF0ZTogYm9vbGVhbjtcclxuICAgIHJvdGF0ZVNwZWVkOiBudW1iZXI7XHJcbiAgICBlbmFibGVQYW46IGJvb2xlYW47XHJcbiAgICBwYW5TcGVlZDogbnVtYmVyO1xyXG4gICAgc2NyZWVuU3BhY2VQYW5uaW5nOiBib29sZWFuO1xyXG4gICAga2V5UGFuU3BlZWQ6IG51bWJlcjtcclxuICAgIGF1dG9Sb3RhdGU6IGJvb2xlYW47XHJcbiAgICBhdXRvUm90YXRlU3BlZWQ6IG51bWJlcjtcclxuICAgIGtleXM6IHtcclxuICAgICAgUklHSFQ6IHN0cmluZztcclxuICAgICAgTEVGVDogc3RyaW5nO1xyXG4gICAgICBVUDogc3RyaW5nO1xyXG4gICAgICBCT1RUT006IHN0cmluZztcclxuICAgIH07XHJcbiAgICBtb3VzZUJ1dHRvbnM6IHtcclxuICAgICAgTEVGVDogVEhSRUUuTU9VU0U7XHJcbiAgICAgIE1JRERMRTogVEhSRUUuTU9VU0U7XHJcbiAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRTtcclxuICAgIH07XHJcbiAgICB0b3VjaGVzOiB7XHJcbiAgICAgIE9ORTogVEhSRUUuVE9VQ0g7XHJcbiAgICAgIFRXTzogVEhSRUUuVE9VQ0g7XHJcbiAgICB9O1xyXG4gICAgdGFyZ2V0MDogVEhSRUUuVmVjdG9yMztcclxuICAgIHBvc2l0aW9uMDogVEhSRUUuQ2FtZXJhW1wicG9zaXRpb25cIl07XHJcbiAgICB6b29tMDogbnVtYmVyO1xyXG4gICAgX2RvbUVsZW1lbnRLZXlFdmVudHM6IEhUTUxFbGVtZW50O1xyXG4gICAgZ2V0UG9sYXJBbmdsZTogKCkgPT4gbnVtYmVyO1xyXG4gICAgZ2V0QXppbXV0aGFsQW5nbGU6ICgpID0+IG51bWJlcjtcclxuICAgIGxpc3RlblRvS2V5RXZlbnRzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgICBzYXZlU3RhdGU6ICgpID0+IHZvaWQ7XHJcbiAgICByZXNldDogKCkgPT4gdm9pZDtcclxuICAgIHVwZGF0ZTogKCkgPT4gYm9vbGVhbjtcclxuICAgIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbiAgfVxyXG4gIGV4cG9ydCBjbGFzcyBNYXBDb250cm9scyB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmE6IFRIUkVFLkNhbWVyYSwgZWxlbWVudDogSFRNTEVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAvLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxyXG4gIC8vXHJcbiAgLy8gICAgT3JiaXQgLSBsZWZ0IG1vdXNlIC8gdG91Y2g6IG9uZS1maW5nZXIgbW92ZVxyXG4gIC8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvLWZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXHJcbiAgLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGxlZnQgbW91c2UgKyBjdHJsL21ldGEvc2hpZnRLZXksIG9yIGFycm93IGtleXMgLyB0b3VjaDogdHdvLWZpbmdlciBtb3ZlXHJcblxyXG4gIGNvbnN0IF9jaGFuZ2VFdmVudCA9IHtcclxuICAgIHR5cGU6IFwiY2hhbmdlXCIsXHJcbiAgfTtcclxuICBjb25zdCBfc3RhcnRFdmVudCA9IHtcclxuICAgIHR5cGU6IFwic3RhcnRcIixcclxuICB9O1xyXG4gIGNvbnN0IF9lbmRFdmVudCA9IHtcclxuICAgIHR5cGU6IFwiZW5kXCIsXHJcbiAgfTtcclxuXHJcbiAgY2xhc3MgT3JiaXRDb250cm9scyBleHRlbmRzIFRIUkVFLkV2ZW50RGlzcGF0Y2hlciB7XHJcbiAgICBkb21FbGVtZW50O1xyXG4gICAgZW5hYmxlZDtcclxuICAgIG9iamVjdDtcclxuICAgIHRhcmdldDtcclxuICAgIG1pblpvb207XHJcbiAgICBtYXhab29tO1xyXG4gICAgbWluUG9sYXJBbmdsZTtcclxuICAgIG1heFBvbGFyQW5nbGU7XHJcbiAgICBtaW5EaXN0YW5jZTtcclxuICAgIG1heERpc3RhbmNlO1xyXG4gICAgbWluQXppbXV0aEFuZ2xlO1xyXG4gICAgbWF4QXppbXV0aEFuZ2xlO1xyXG4gICAgZW5hYmxlRGFtcGluZztcclxuICAgIGRhbXBpbmdGYWN0b3I7XHJcbiAgICBlbmFibGVab29tO1xyXG4gICAgem9vbVNwZWVkO1xyXG4gICAgZW5hYmxlUm90YXRlO1xyXG4gICAgcm90YXRlU3BlZWQ7XHJcbiAgICBlbmFibGVQYW47XHJcbiAgICBwYW5TcGVlZDtcclxuICAgIHNjcmVlblNwYWNlUGFubmluZztcclxuICAgIGtleVBhblNwZWVkO1xyXG4gICAgYXV0b1JvdGF0ZTtcclxuICAgIGF1dG9Sb3RhdGVTcGVlZDtcclxuICAgIGtleXM6IHtcclxuICAgICAgUklHSFQ6IHN0cmluZztcclxuICAgICAgTEVGVDogc3RyaW5nO1xyXG4gICAgICBVUDogc3RyaW5nO1xyXG4gICAgICBCT1RUT006IHN0cmluZztcclxuICAgIH07XHJcbiAgICBtb3VzZUJ1dHRvbnM6IHtcclxuICAgICAgTEVGVDogVEhSRUUuTU9VU0U7XHJcbiAgICAgIE1JRERMRTogVEhSRUUuTU9VU0U7XHJcbiAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRTtcclxuICAgIH07XHJcbiAgICB0b3VjaGVzOiB7XHJcbiAgICAgIE9ORTogVEhSRUUuVE9VQ0g7XHJcbiAgICAgIFRXTzogVEhSRUUuVE9VQ0g7XHJcbiAgICB9O1xyXG4gICAgdGFyZ2V0MDtcclxuICAgIHBvc2l0aW9uMDtcclxuICAgIHpvb20wO1xyXG4gICAgX2RvbUVsZW1lbnRLZXlFdmVudHM6IEhUTUxFbGVtZW50O1xyXG4gICAgZ2V0UG9sYXJBbmdsZTogKCkgPT4gbnVtYmVyO1xyXG4gICAgZ2V0QXppbXV0aGFsQW5nbGU6ICgpID0+IG51bWJlcjtcclxuICAgIGxpc3RlblRvS2V5RXZlbnRzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgICBzYXZlU3RhdGU6ICgpID0+IHZvaWQ7XHJcbiAgICByZXNldDogKCkgPT4gdm9pZDtcclxuICAgIHVwZGF0ZTtcclxuICAgIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IFRIUkVFLkNhbWVyYSwgZG9tRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgc3VwZXIoKTtcclxuICAgICAgaWYgKGRvbUVsZW1lbnQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogVGhlIHNlY29uZCBwYXJhbWV0ZXIgXCJkb21FbGVtZW50XCIgaXMgbm93IG1hbmRhdG9yeS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIGlmIChkb21FbGVtZW50ID09PSBkb2N1bWVudClcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IFwiZG9jdW1lbnRcIiBzaG91bGQgbm90IGJlIHVzZWQgYXMgdGhlIHRhcmdldCBcImRvbUVsZW1lbnRcIi4gUGxlYXNlIHVzZSBcInJlbmRlcmVyLmRvbUVsZW1lbnRcIiBpbnN0ZWFkLidcclxuICAgICAgICApO1xyXG4gICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuICAgICAgdGhpcy5kb21FbGVtZW50ID0gZG9tRWxlbWVudDsgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sXHJcblxyXG4gICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOyAvLyBcInRhcmdldFwiIHNldHMgdGhlIGxvY2F0aW9uIG9mIGZvY3VzLCB3aGVyZSB0aGUgb2JqZWN0IG9yYml0cyBhcm91bmRcclxuXHJcbiAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsgLy8gSG93IGZhciB5b3UgY2FuIGRvbGx5IGluIGFuZCBvdXQgKCBQZXJzcGVjdGl2ZUNhbWVyYSBvbmx5IClcclxuXHJcbiAgICAgIHRoaXMubWluRGlzdGFuY2UgPSAwO1xyXG4gICAgICB0aGlzLm1heERpc3RhbmNlID0gSW5maW5pdHk7IC8vIEhvdyBmYXIgeW91IGNhbiB6b29tIGluIGFuZCBvdXQgKCBPcnRob2dyYXBoaWNDYW1lcmEgb25seSApXHJcblxyXG4gICAgICB0aGlzLm1pblpvb20gPSAwO1xyXG4gICAgICB0aGlzLm1heFpvb20gPSBJbmZpbml0eTsgLy8gSG93IGZhciB5b3UgY2FuIG9yYml0IHZlcnRpY2FsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXHJcbiAgICAgIC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zLlxyXG5cclxuICAgICAgdGhpcy5taW5Qb2xhckFuZ2xlID0gMDsgLy8gcmFkaWFuc1xyXG5cclxuICAgICAgdGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xyXG4gICAgICAvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxyXG4gICAgICAvLyBJZiBzZXQsIHRoZSBpbnRlcnZhbCBbIG1pbiwgbWF4IF0gbXVzdCBiZSBhIHN1Yi1pbnRlcnZhbCBvZiBbIC0gMiBQSSwgMiBQSSBdLCB3aXRoICggbWF4IC0gbWluIDwgMiBQSSApXHJcblxyXG4gICAgICB0aGlzLm1pbkF6aW11dGhBbmdsZSA9IC1JbmZpbml0eTsgLy8gcmFkaWFuc1xyXG5cclxuICAgICAgdGhpcy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTsgLy8gcmFkaWFuc1xyXG4gICAgICAvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgZGFtcGluZyAoaW5lcnRpYSlcclxuICAgICAgLy8gSWYgZGFtcGluZyBpcyBlbmFibGVkLCB5b3UgbXVzdCBjYWxsIGNvbnRyb2xzLnVwZGF0ZSgpIGluIHlvdXIgYW5pbWF0aW9uIGxvb3BcclxuXHJcbiAgICAgIHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmRhbXBpbmdGYWN0b3IgPSAwLjA1OyAvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxyXG4gICAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nXHJcblxyXG4gICAgICB0aGlzLmVuYWJsZVpvb20gPSB0cnVlO1xyXG4gICAgICB0aGlzLnpvb21TcGVlZCA9IDEuMDsgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcm90YXRpbmdcclxuXHJcbiAgICAgIHRoaXMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yb3RhdGVTcGVlZCA9IDEuMDsgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcGFubmluZ1xyXG5cclxuICAgICAgdGhpcy5lbmFibGVQYW4gPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhblNwZWVkID0gMS4wO1xyXG4gICAgICB0aGlzLnNjcmVlblNwYWNlUGFubmluZyA9IHRydWU7IC8vIGlmIGZhbHNlLCBwYW4gb3J0aG9nb25hbCB0byB3b3JsZC1zcGFjZSBkaXJlY3Rpb24gY2FtZXJhLnVwXHJcblxyXG4gICAgICB0aGlzLmtleVBhblNwZWVkID0gNy4wOyAvLyBwaXhlbHMgbW92ZWQgcGVyIGFycm93IGtleSBwdXNoXHJcbiAgICAgIC8vIFNldCB0byB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgcm90YXRlIGFyb3VuZCB0aGUgdGFyZ2V0XHJcbiAgICAgIC8vIElmIGF1dG8tcm90YXRlIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxyXG5cclxuICAgICAgdGhpcy5hdXRvUm90YXRlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuYXV0b1JvdGF0ZVNwZWVkID0gMi4wOyAvLyAzMCBzZWNvbmRzIHBlciBvcmJpdCB3aGVuIGZwcyBpcyA2MFxyXG4gICAgICAvLyBUaGUgZm91ciBhcnJvdyBrZXlzXHJcblxyXG4gICAgICB0aGlzLmtleXMgPSB7XHJcbiAgICAgICAgTEVGVDogXCJBcnJvd0xlZnRcIixcclxuICAgICAgICBVUDogXCJBcnJvd1VwXCIsXHJcbiAgICAgICAgUklHSFQ6IFwiQXJyb3dSaWdodFwiLFxyXG4gICAgICAgIEJPVFRPTTogXCJBcnJvd0Rvd25cIixcclxuICAgICAgfTsgLy8gTW91c2UgYnV0dG9uc1xyXG5cclxuICAgICAgdGhpcy5tb3VzZUJ1dHRvbnMgPSB7XHJcbiAgICAgICAgTEVGVDogVEhSRUUuTU9VU0UuUk9UQVRFLFxyXG4gICAgICAgIE1JRERMRTogVEhSRUUuTU9VU0UuRE9MTFksXHJcbiAgICAgICAgUklHSFQ6IFRIUkVFLk1PVVNFLlBBTixcclxuICAgICAgfTsgLy8gVG91Y2ggZmluZ2Vyc1xyXG5cclxuICAgICAgdGhpcy50b3VjaGVzID0ge1xyXG4gICAgICAgIE9ORTogVEhSRUUuVE9VQ0guUk9UQVRFLFxyXG4gICAgICAgIFRXTzogVEhSRUUuVE9VQ0guRE9MTFlfUEFOLFxyXG4gICAgICB9OyAvLyBmb3IgcmVzZXRcclxuXHJcbiAgICAgIHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XHJcbiAgICAgIHRoaXMucG9zaXRpb24wID0gdGhpcy5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcclxuICAgICAgdGhpcy56b29tMCA9ICh0aGlzLm9iamVjdCBhcyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkuem9vbTsgLy8gdGhlIHRhcmdldCBET00gZWxlbWVudCBmb3Iga2V5IGV2ZW50c1xyXG5cclxuICAgICAgdGhpcy5fZG9tRWxlbWVudEtleUV2ZW50cyA9IG51bGw7IC8vXHJcbiAgICAgIC8vIHB1YmxpYyBtZXRob2RzXHJcbiAgICAgIC8vXHJcblxyXG4gICAgICB0aGlzLmdldFBvbGFyQW5nbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHNwaGVyaWNhbC5waGk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmdldEF6aW11dGhhbEFuZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzcGhlcmljYWwudGhldGE7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmxpc3RlblRvS2V5RXZlbnRzID0gZnVuY3Rpb24gKGRvbUVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xyXG4gICAgICAgIHRoaXMuX2RvbUVsZW1lbnRLZXlFdmVudHMgPSBkb21FbGVtZW50O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5zYXZlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2NvcGUudGFyZ2V0MC5jb3B5KHNjb3BlLnRhcmdldCk7XHJcbiAgICAgICAgc2NvcGUucG9zaXRpb24wLmNvcHkoc2NvcGUub2JqZWN0LnBvc2l0aW9uKTtcclxuICAgICAgICBzY29wZS56b29tMCA9IChzY29wZS5vYmplY3QgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpLnpvb207XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNjb3BlLnRhcmdldC5jb3B5KHNjb3BlLnRhcmdldDApO1xyXG4gICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KHNjb3BlLnBvc2l0aW9uMCk7XHJcbiAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkuem9vbSA9IHNjb3BlLnpvb20wO1xyXG4gICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KF9jaGFuZ2VFdmVudCk7XHJcbiAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICB9OyAvLyB0aGlzIG1ldGhvZCBpcyBleHBvc2VkLCBidXQgcGVyaGFwcyBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgd2UgY2FuIG1ha2UgaXQgcHJpdmF0ZS4uLlxyXG5cclxuICAgICAgdGhpcy51cGRhdGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7IC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xyXG5cclxuICAgICAgICBjb25zdCBxdWF0ID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnMoXHJcbiAgICAgICAgICBvYmplY3QudXAsXHJcbiAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgcXVhdEludmVyc2UgPSBxdWF0LmNsb25lKCkuaW52ZXJ0KCk7XHJcbiAgICAgICAgY29uc3QgbGFzdFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCBsYXN0UXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgY29uc3QgdHdvUEkgPSAyICogTWF0aC5QSTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XHJcbiAgICAgICAgICBvZmZzZXQuY29weShwb3NpdGlvbikuc3ViKHNjb3BlLnRhcmdldCk7IC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxyXG5cclxuICAgICAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24ocXVhdCk7IC8vIGFuZ2xlIGZyb20gei1heGlzIGFyb3VuZCB5LWF4aXNcclxuXHJcbiAgICAgICAgICBzcGhlcmljYWwuc2V0RnJvbVZlY3RvcjMob2Zmc2V0KTtcclxuXHJcbiAgICAgICAgICBpZiAoc2NvcGUuYXV0b1JvdGF0ZSAmJiBzdGF0ZSA9PT0gU1RBVEUuTk9ORSkge1xyXG4gICAgICAgICAgICByb3RhdGVMZWZ0KGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVEYW1waW5nKSB7XHJcbiAgICAgICAgICAgIHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YSAqIHNjb3BlLmRhbXBpbmdGYWN0b3I7XHJcbiAgICAgICAgICAgIHNwaGVyaWNhbC5waGkgKz0gc3BoZXJpY2FsRGVsdGEucGhpICogc2NvcGUuZGFtcGluZ0ZhY3RvcjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YTtcclxuICAgICAgICAgICAgc3BoZXJpY2FsLnBoaSArPSBzcGhlcmljYWxEZWx0YS5waGk7XHJcbiAgICAgICAgICB9IC8vIHJlc3RyaWN0IHRoZXRhIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuXHJcbiAgICAgICAgICBsZXQgbWluID0gc2NvcGUubWluQXppbXV0aEFuZ2xlO1xyXG4gICAgICAgICAgbGV0IG1heCA9IHNjb3BlLm1heEF6aW11dGhBbmdsZTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNGaW5pdGUobWluKSAmJiBpc0Zpbml0ZShtYXgpKSB7XHJcbiAgICAgICAgICAgIGlmIChtaW4gPCAtTWF0aC5QSSkgbWluICs9IHR3b1BJO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtaW4gPiBNYXRoLlBJKSBtaW4gLT0gdHdvUEk7XHJcbiAgICAgICAgICAgIGlmIChtYXggPCAtTWF0aC5QSSkgbWF4ICs9IHR3b1BJO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXggPiBNYXRoLlBJKSBtYXggLT0gdHdvUEk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWluIDw9IG1heCkge1xyXG4gICAgICAgICAgICAgIHNwaGVyaWNhbC50aGV0YSA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCBzcGhlcmljYWwudGhldGEpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzcGhlcmljYWwudGhldGEgPVxyXG4gICAgICAgICAgICAgICAgc3BoZXJpY2FsLnRoZXRhID4gKG1pbiArIG1heCkgLyAyXHJcbiAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgobWluLCBzcGhlcmljYWwudGhldGEpXHJcbiAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4obWF4LCBzcGhlcmljYWwudGhldGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IC8vIHJlc3RyaWN0IHBoaSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXHJcblxyXG4gICAgICAgICAgc3BoZXJpY2FsLnBoaSA9IE1hdGgubWF4KFxyXG4gICAgICAgICAgICBzY29wZS5taW5Qb2xhckFuZ2xlLFxyXG4gICAgICAgICAgICBNYXRoLm1pbihzY29wZS5tYXhQb2xhckFuZ2xlLCBzcGhlcmljYWwucGhpKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHNwaGVyaWNhbC5tYWtlU2FmZSgpO1xyXG4gICAgICAgICAgc3BoZXJpY2FsLnJhZGl1cyAqPSBzY2FsZTsgLy8gcmVzdHJpY3QgcmFkaXVzIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuXHJcbiAgICAgICAgICBzcGhlcmljYWwucmFkaXVzID0gTWF0aC5tYXgoXHJcbiAgICAgICAgICAgIHNjb3BlLm1pbkRpc3RhbmNlLFxyXG4gICAgICAgICAgICBNYXRoLm1pbihzY29wZS5tYXhEaXN0YW5jZSwgc3BoZXJpY2FsLnJhZGl1cylcclxuICAgICAgICAgICk7IC8vIG1vdmUgdGFyZ2V0IHRvIHBhbm5lZCBsb2NhdGlvblxyXG5cclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVEYW1waW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnRhcmdldC5hZGRTY2FsZWRWZWN0b3IocGFuT2Zmc2V0LCBzY29wZS5kYW1waW5nRmFjdG9yKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnRhcmdldC5hZGQocGFuT2Zmc2V0KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBvZmZzZXQuc2V0RnJvbVNwaGVyaWNhbChzcGhlcmljYWwpOyAvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2VcclxuXHJcbiAgICAgICAgICBvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKHF1YXRJbnZlcnNlKTtcclxuICAgICAgICAgIHBvc2l0aW9uLmNvcHkoc2NvcGUudGFyZ2V0KS5hZGQob2Zmc2V0KTtcclxuICAgICAgICAgIHNjb3BlLm9iamVjdC5sb29rQXQoc2NvcGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBzcGhlcmljYWxEZWx0YS50aGV0YSAqPSAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvcjtcclxuICAgICAgICAgICAgc3BoZXJpY2FsRGVsdGEucGhpICo9IDEgLSBzY29wZS5kYW1waW5nRmFjdG9yO1xyXG4gICAgICAgICAgICBwYW5PZmZzZXQubXVsdGlwbHlTY2FsYXIoMSAtIHNjb3BlLmRhbXBpbmdGYWN0b3IpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3BoZXJpY2FsRGVsdGEuc2V0KDAsIDAsIDApO1xyXG4gICAgICAgICAgICBwYW5PZmZzZXQuc2V0KDAsIDAsIDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNjYWxlID0gMTsgLy8gdXBkYXRlIGNvbmRpdGlvbiBpczpcclxuICAgICAgICAgIC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xyXG4gICAgICAgICAgLy8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XHJcblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB6b29tQ2hhbmdlZCB8fFxyXG4gICAgICAgICAgICBsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoc2NvcGUub2JqZWN0LnBvc2l0aW9uKSA+IEVQUyB8fFxyXG4gICAgICAgICAgICA4ICogKDEgLSBsYXN0UXVhdGVybmlvbi5kb3Qoc2NvcGUub2JqZWN0LnF1YXRlcm5pb24pKSA+IEVQU1xyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX2NoYW5nZUV2ZW50KTtcclxuICAgICAgICAgICAgbGFzdFBvc2l0aW9uLmNvcHkoc2NvcGUub2JqZWN0LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgbGFzdFF1YXRlcm5pb24uY29weShzY29wZS5vYmplY3QucXVhdGVybmlvbik7XHJcbiAgICAgICAgICAgIHpvb21DaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KSgpO1xyXG5cclxuICAgICAgdGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIG9uQ29udGV4dE1lbnUpO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24pO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIG9uTW91c2VXaGVlbCk7XHJcbiAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBvblRvdWNoU3RhcnQpO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIG9uVG91Y2hFbmQpO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvblRvdWNoTW92ZSk7XHJcbiAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICBcInBvaW50ZXJtb3ZlXCIsXHJcbiAgICAgICAgICBvblBvaW50ZXJNb3ZlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgIFwicG9pbnRlcnVwXCIsXHJcbiAgICAgICAgICBvblBvaW50ZXJVcFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChzY29wZS5fZG9tRWxlbWVudEtleUV2ZW50cyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2NvcGUuX2RvbUVsZW1lbnRLZXlFdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcclxuICAgICAgICB9IC8vc2NvcGUuZGlzcGF0Y2hFdmVudCggeyB0eXBlOiAnZGlzcG9zZScgfSApOyAvLyBzaG91bGQgdGhpcyBiZSBhZGRlZCBoZXJlP1xyXG4gICAgICB9OyAvL1xyXG4gICAgICAvLyBpbnRlcm5hbHNcclxuICAgICAgLy9cclxuXHJcbiAgICAgIGNvbnN0IHNjb3BlID0gdGhpcztcclxuICAgICAgY29uc3QgU1RBVEUgPSB7XHJcbiAgICAgICAgTk9ORTogLTEsXHJcbiAgICAgICAgUk9UQVRFOiAwLFxyXG4gICAgICAgIERPTExZOiAxLFxyXG4gICAgICAgIFBBTjogMixcclxuICAgICAgICBUT1VDSF9ST1RBVEU6IDMsXHJcbiAgICAgICAgVE9VQ0hfUEFOOiA0LFxyXG4gICAgICAgIFRPVUNIX0RPTExZX1BBTjogNSxcclxuICAgICAgICBUT1VDSF9ET0xMWV9ST1RBVEU6IDYsXHJcbiAgICAgIH07XHJcbiAgICAgIGxldCBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgIGNvbnN0IEVQUyA9IDAuMDAwMDAxOyAvLyBjdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlc1xyXG5cclxuICAgICAgY29uc3Qgc3BoZXJpY2FsID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xyXG4gICAgICBjb25zdCBzcGhlcmljYWxEZWx0YSA9IG5ldyBUSFJFRS5TcGhlcmljYWwoKTtcclxuICAgICAgbGV0IHNjYWxlID0gMTtcclxuICAgICAgY29uc3QgcGFuT2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgbGV0IHpvb21DaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHJvdGF0ZVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3Qgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3Qgcm90YXRlRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG4gICAgICBjb25zdCBwYW5TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICAgIGNvbnN0IHBhbkVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICAgIGNvbnN0IHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3QgZG9sbHlTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICAgIGNvbnN0IGRvbGx5RW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3QgZG9sbHlEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRBdXRvUm90YXRpb25BbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gKCgyICogTWF0aC5QSSkgLyA2MCAvIDYwKSAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnBvdygwLjk1LCBzY29wZS56b29tU3BlZWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByb3RhdGVMZWZ0KGFuZ2xlOiBudW1iZXIpIHtcclxuICAgICAgICBzcGhlcmljYWxEZWx0YS50aGV0YSAtPSBhbmdsZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcm90YXRlVXAoYW5nbGU6IG51bWJlcikge1xyXG4gICAgICAgIHNwaGVyaWNhbERlbHRhLnBoaSAtPSBhbmdsZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcGFuTGVmdCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBhbkxlZnQoZGlzdGFuY2U6IG51bWJlciwgb2JqZWN0TWF0cml4OiBUSFJFRS5NYXRyaXg0KSB7XHJcbiAgICAgICAgICB2LnNldEZyb21NYXRyaXhDb2x1bW4ob2JqZWN0TWF0cml4LCAwKTsgLy8gZ2V0IFggY29sdW1uIG9mIG9iamVjdE1hdHJpeFxyXG5cclxuICAgICAgICAgIHYubXVsdGlwbHlTY2FsYXIoLWRpc3RhbmNlKTtcclxuICAgICAgICAgIHBhbk9mZnNldC5hZGQodik7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKTtcclxuXHJcbiAgICAgIGNvbnN0IHBhblVwID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcGFuVXAoZGlzdGFuY2U6IG51bWJlciwgb2JqZWN0TWF0cml4OiBUSFJFRS5NYXRyaXg0KSB7XHJcbiAgICAgICAgICBpZiAoc2NvcGUuc2NyZWVuU3BhY2VQYW5uaW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHYuc2V0RnJvbU1hdHJpeENvbHVtbihvYmplY3RNYXRyaXgsIDEpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdi5zZXRGcm9tTWF0cml4Q29sdW1uKG9iamVjdE1hdHJpeCwgMCk7XHJcbiAgICAgICAgICAgIHYuY3Jvc3NWZWN0b3JzKHNjb3BlLm9iamVjdC51cCwgdik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdi5tdWx0aXBseVNjYWxhcihkaXN0YW5jZSk7XHJcbiAgICAgICAgICBwYW5PZmZzZXQuYWRkKHYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKCk7IC8vIGRlbHRhWCBhbmQgZGVsdGFZIGFyZSBpbiBwaXhlbHM7IHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxyXG5cclxuICAgICAgY29uc3QgcGFuID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBwYW4oZGVsdGFYOiBudW1iZXIsIGRlbHRhWTogbnVtYmVyKSB7XHJcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudDtcclxuXHJcbiAgICAgICAgICBpZiAoKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkuaXNQZXJzcGVjdGl2ZUNhbWVyYSkge1xyXG4gICAgICAgICAgICAvLyBwZXJzcGVjdGl2ZVxyXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHNjb3BlLm9iamVjdC5wb3NpdGlvbjtcclxuICAgICAgICAgICAgb2Zmc2V0LmNvcHkocG9zaXRpb24pLnN1YihzY29wZS50YXJnZXQpO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7IC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxyXG5cclxuICAgICAgICAgICAgdGFyZ2V0RGlzdGFuY2UgKj0gTWF0aC50YW4oXHJcbiAgICAgICAgICAgICAgKCgoc2NvcGUub2JqZWN0IGFzIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKS5mb3YgLyAyKSAqIE1hdGguUEkpIC9cclxuICAgICAgICAgICAgICAgIDE4MC4wXHJcbiAgICAgICAgICAgICk7IC8vIHdlIHVzZSBvbmx5IGNsaWVudEhlaWdodCBoZXJlIHNvIGFzcGVjdCByYXRpbyBkb2VzIG5vdCBkaXN0b3J0IHNwZWVkXHJcblxyXG4gICAgICAgICAgICBwYW5MZWZ0KFxyXG4gICAgICAgICAgICAgICgyICogZGVsdGFYICogdGFyZ2V0RGlzdGFuY2UpIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgc2NvcGUub2JqZWN0Lm1hdHJpeFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBwYW5VcChcclxuICAgICAgICAgICAgICAoMiAqIGRlbHRhWSAqIHRhcmdldERpc3RhbmNlKSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5tYXRyaXhcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5pc09ydGhvZ3JhcGhpY0NhbWVyYVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIC8vIG9ydGhvZ3JhcGhpY1xyXG4gICAgICAgICAgICBwYW5MZWZ0KFxyXG4gICAgICAgICAgICAgIChkZWx0YVggKlxyXG4gICAgICAgICAgICAgICAgKChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5yaWdodCAtXHJcbiAgICAgICAgICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5sZWZ0KSkgL1xyXG4gICAgICAgICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gL1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICBzY29wZS5vYmplY3QubWF0cml4XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHBhblVwKFxyXG4gICAgICAgICAgICAgIChkZWx0YVkgKlxyXG4gICAgICAgICAgICAgICAgKChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS50b3AgLVxyXG4gICAgICAgICAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkuYm90dG9tKSkgL1xyXG4gICAgICAgICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gL1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgc2NvcGUub2JqZWN0Lm1hdHJpeFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY2FtZXJhIG5laXRoZXIgb3J0aG9ncmFwaGljIG5vciBwZXJzcGVjdGl2ZVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgXCJXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgc2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRvbGx5T3V0KGRvbGx5U2NhbGU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICgoc2NvcGUub2JqZWN0IGFzIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKS5pc1BlcnNwZWN0aXZlQ2FtZXJhKSB7XHJcbiAgICAgICAgICBzY2FsZSAvPSBkb2xseVNjYWxlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkuaXNPcnRob2dyYXBoaWNDYW1lcmFcclxuICAgICAgICApIHtcclxuICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS56b29tID0gTWF0aC5tYXgoXHJcbiAgICAgICAgICAgIHNjb3BlLm1pblpvb20sXHJcbiAgICAgICAgICAgIE1hdGgubWluKFxyXG4gICAgICAgICAgICAgIHNjb3BlLm1heFpvb20sXHJcbiAgICAgICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gKiBkb2xseVNjYWxlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgICAgICAgem9vbUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgIFwiV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC5cIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRvbGx5SW4oZG9sbHlTY2FsZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKChzY29wZS5vYmplY3QgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpLmlzUGVyc3BlY3RpdmVDYW1lcmEpIHtcclxuICAgICAgICAgIHNjYWxlICo9IGRvbGx5U2NhbGU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5pc09ydGhvZ3JhcGhpY0NhbWVyYVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gPSBNYXRoLm1heChcclxuICAgICAgICAgICAgc2NvcGUubWluWm9vbSxcclxuICAgICAgICAgICAgTWF0aC5taW4oXHJcbiAgICAgICAgICAgICAgc2NvcGUubWF4Wm9vbSxcclxuICAgICAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkuem9vbSAvIGRvbGx5U2NhbGVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgXCJXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLlwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSAvL1xyXG4gICAgICAvLyBldmVudCBjYWxsYmFja3MgLSB1cGRhdGUgdGhlIG9iamVjdCBzdGF0ZVxyXG4gICAgICAvL1xyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUm90YXRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Eb2xseShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGRvbGx5U3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25QYW4oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVJvdGF0ZShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHJvdGF0ZUVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgcm90YXRlRGVsdGFcclxuICAgICAgICAgIC5zdWJWZWN0b3JzKHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQpXHJcbiAgICAgICAgICAubXVsdGlwbHlTY2FsYXIoc2NvcGUucm90YXRlU3BlZWQpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50O1xyXG4gICAgICAgIHJvdGF0ZUxlZnQoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCkgLyBlbGVtZW50LmNsaWVudEhlaWdodCk7IC8vIHllcywgaGVpZ2h0XHJcblxyXG4gICAgICAgIHJvdGF0ZVVwKCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkpIC8gZWxlbWVudC5jbGllbnRIZWlnaHQpO1xyXG4gICAgICAgIHJvdGF0ZVN0YXJ0LmNvcHkocm90YXRlRW5kKTtcclxuICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlRG9sbHkoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBkb2xseUVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgZG9sbHlEZWx0YS5zdWJWZWN0b3JzKGRvbGx5RW5kLCBkb2xseVN0YXJ0KTtcclxuXHJcbiAgICAgICAgaWYgKGRvbGx5RGVsdGEueSA+IDApIHtcclxuICAgICAgICAgIGRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbGx5RGVsdGEueSA8IDApIHtcclxuICAgICAgICAgIGRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9sbHlTdGFydC5jb3B5KGRvbGx5RW5kKTtcclxuICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlUGFuKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgcGFuRW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgICBwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCwgcGFuU3RhcnQpLm11bHRpcGx5U2NhbGFyKHNjb3BlLnBhblNwZWVkKTtcclxuICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XHJcbiAgICAgICAgcGFuU3RhcnQuY29weShwYW5FbmQpO1xyXG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gbm8tb3BcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbChldmVudDogV2hlZWxFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5kZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgICBkb2xseUluKGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRlbHRhWSA+IDApIHtcclxuICAgICAgICAgIGRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgbGV0IG5lZWRzVXBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xyXG4gICAgICAgICAgY2FzZSBzY29wZS5rZXlzLlVQOlxyXG4gICAgICAgICAgICBwYW4oMCwgc2NvcGUua2V5UGFuU3BlZWQpO1xyXG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XHJcbiAgICAgICAgICAgIHBhbigwLCAtc2NvcGUua2V5UGFuU3BlZWQpO1xyXG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2Ugc2NvcGUua2V5cy5MRUZUOlxyXG4gICAgICAgICAgICBwYW4oc2NvcGUua2V5UGFuU3BlZWQsIDApO1xyXG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2Ugc2NvcGUua2V5cy5SSUdIVDpcclxuICAgICAgICAgICAgcGFuKC1zY29wZS5rZXlQYW5TcGVlZCwgMCk7XHJcbiAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmVlZHNVcGRhdGUpIHtcclxuICAgICAgICAgIC8vIHByZXZlbnQgdGhlIGJyb3dzZXIgZnJvbSBzY3JvbGxpbmcgb24gY3Vyc29yIGtleXNcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCB4ID0gMC41ICogKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggKyBldmVudC50b3VjaGVzWzFdLnBhZ2VYKTtcclxuICAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiAoZXZlbnQudG91Y2hlc1swXS5wYWdlWSArIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVkpO1xyXG4gICAgICAgICAgcm90YXRlU3RhcnQuc2V0KHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydFBhbihldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHggPSAwLjUgKiAoZXZlbnQudG91Y2hlc1swXS5wYWdlWCArIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVgpO1xyXG4gICAgICAgICAgY29uc3QgeSA9IDAuNSAqIChldmVudC50b3VjaGVzWzBdLnBhZ2VZICsgZXZlbnQudG91Y2hlc1sxXS5wYWdlWSk7XHJcbiAgICAgICAgICBwYW5TdGFydC5zZXQoeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBkeCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBldmVudC50b3VjaGVzWzFdLnBhZ2VYO1xyXG4gICAgICAgIGNvbnN0IGR5ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVk7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgIGRvbGx5U3RhcnQuc2V0KDAsIGRpc3RhbmNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5UGFuKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20pIGhhbmRsZVRvdWNoU3RhcnREb2xseShldmVudCk7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbikgaGFuZGxlVG91Y2hTdGFydFBhbihldmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseVJvdGF0ZShldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tKSBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoZXZlbnQpO1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUpIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVSb3RhdGUoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgcm90YXRlRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgeCA9IDAuNSAqIChldmVudC50b3VjaGVzWzBdLnBhZ2VYICsgZXZlbnQudG91Y2hlc1sxXS5wYWdlWCk7XHJcbiAgICAgICAgICBjb25zdCB5ID0gMC41ICogKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgKyBldmVudC50b3VjaGVzWzFdLnBhZ2VZKTtcclxuICAgICAgICAgIHJvdGF0ZUVuZC5zZXQoeCwgeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByb3RhdGVEZWx0YVxyXG4gICAgICAgICAgLnN1YlZlY3RvcnMocm90YXRlRW5kLCByb3RhdGVTdGFydClcclxuICAgICAgICAgIC5tdWx0aXBseVNjYWxhcihzY29wZS5yb3RhdGVTcGVlZCk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQ7XHJcbiAgICAgICAgcm90YXRlTGVmdCgoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54KSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0KTsgLy8geWVzLCBoZWlnaHRcclxuXHJcbiAgICAgICAgcm90YXRlVXAoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSkgLyBlbGVtZW50LmNsaWVudEhlaWdodCk7XHJcbiAgICAgICAgcm90YXRlU3RhcnQuY29weShyb3RhdGVFbmQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVQYW4oZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgcGFuRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgeCA9IDAuNSAqIChldmVudC50b3VjaGVzWzBdLnBhZ2VYICsgZXZlbnQudG91Y2hlc1sxXS5wYWdlWCk7XHJcbiAgICAgICAgICBjb25zdCB5ID0gMC41ICogKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgKyBldmVudC50b3VjaGVzWzFdLnBhZ2VZKTtcclxuICAgICAgICAgIHBhbkVuZC5zZXQoeCwgeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCwgcGFuU3RhcnQpLm11bHRpcGx5U2NhbGFyKHNjb3BlLnBhblNwZWVkKTtcclxuICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XHJcbiAgICAgICAgcGFuU3RhcnQuY29weShwYW5FbmQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseShldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGNvbnN0IGR4ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVg7XHJcbiAgICAgICAgY29uc3QgZHkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWTtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcbiAgICAgICAgZG9sbHlFbmQuc2V0KDAsIGRpc3RhbmNlKTtcclxuICAgICAgICBkb2xseURlbHRhLnNldCgwLCBNYXRoLnBvdyhkb2xseUVuZC55IC8gZG9sbHlTdGFydC55LCBzY29wZS56b29tU3BlZWQpKTtcclxuICAgICAgICBkb2xseU91dChkb2xseURlbHRhLnkpO1xyXG4gICAgICAgIGRvbGx5U3RhcnQuY29weShkb2xseUVuZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZURvbGx5UGFuKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20pIGhhbmRsZVRvdWNoTW92ZURvbGx5KGV2ZW50KTtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuKSBoYW5kbGVUb3VjaE1vdmVQYW4oZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseVJvdGF0ZShldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tKSBoYW5kbGVUb3VjaE1vdmVEb2xseShldmVudCk7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSkgaGFuZGxlVG91Y2hNb3ZlUm90YXRlKGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZTogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIC8vIG5vLW9wXHJcbiAgICAgIH0gLy9cclxuICAgICAgLy8gZXZlbnQgaGFuZGxlcnMgLSBGU006IGxpc3RlbiBmb3IgZXZlbnRzIGFuZCByZXNldCBzdGF0ZVxyXG4gICAgICAvL1xyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJtb3VzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBvbk1vdXNlRG93bihldmVudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgLy8gVE9ETyB0b3VjaFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlckV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJtb3VzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBvbk1vdXNlTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgLy8gVE9ETyB0b3VjaFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJFdmVudCkge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJtb3VzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBvbk1vdXNlVXAoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIC8vIFRPRE8gdG91Y2hcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gUHJldmVudCB0aGUgYnJvd3NlciBmcm9tIHNjcm9sbGluZy5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBNYW51YWxseSBzZXQgdGhlIGZvY3VzIHNpbmNlIGNhbGxpbmcgcHJldmVudERlZmF1bHQgYWJvdmVcclxuICAgICAgICAvLyBwcmV2ZW50cyB0aGUgYnJvd3NlciBmcm9tIHNldHRpbmcgaXQgYXV0b21hdGljYWxseS5cclxuXHJcbiAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5mb2N1cyA/IHNjb3BlLmRvbUVsZW1lbnQuZm9jdXMoKSA6IHdpbmRvdy5mb2N1cygpO1xyXG4gICAgICAgIGxldCBtb3VzZUFjdGlvbjtcclxuXHJcbiAgICAgICAgc3dpdGNoIChldmVudC5idXR0b24pIHtcclxuICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgbW91c2VBY3Rpb24gPSBzY29wZS5tb3VzZUJ1dHRvbnMuTEVGVDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBtb3VzZUFjdGlvbiA9IHNjb3BlLm1vdXNlQnV0dG9ucy5NSURETEU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgbW91c2VBY3Rpb24gPSBzY29wZS5tb3VzZUJ1dHRvbnMuUklHSFQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIG1vdXNlQWN0aW9uID0gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKG1vdXNlQWN0aW9uKSB7XHJcbiAgICAgICAgICBjYXNlIFRIUkVFLk1PVVNFLkRPTExZOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duRG9sbHkoZXZlbnQpO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLkRPTExZO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFRIUkVFLk1PVVNFLlJPVEFURTpcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIGhhbmRsZU1vdXNlRG93blJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5ST1RBVEU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgVEhSRUUuTU9VU0UuUEFOOlxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgICBoYW5kbGVNb3VzZURvd25Sb3RhdGUoZXZlbnQpO1xyXG4gICAgICAgICAgICAgIHN0YXRlID0gU1RBVEUuUk9UQVRFO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSB7XHJcbiAgICAgICAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgXCJwb2ludGVybW92ZVwiLFxyXG4gICAgICAgICAgICBvblBvaW50ZXJNb3ZlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIFwicG9pbnRlcnVwXCIsXHJcbiAgICAgICAgICAgIG9uUG9pbnRlclVwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChfc3RhcnRFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcclxuICAgICAgICAgIGNhc2UgU1RBVEUuUk9UQVRFOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLkRPTExZOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlRG9sbHkoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLlBBTjpcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgIFwicG9pbnRlcm1vdmVcIixcclxuICAgICAgICAgIG9uUG9pbnRlck1vdmVcclxuICAgICAgICApO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgXCJwb2ludGVydXBcIixcclxuICAgICAgICAgIG9uUG9pbnRlclVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBoYW5kbGVNb3VzZVVwKGV2ZW50KTtcclxuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KF9lbmRFdmVudCk7XHJcbiAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlV2hlZWwoZXZlbnQ6IFdoZWVsRXZlbnQpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fFxyXG4gICAgICAgICAgc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgfHxcclxuICAgICAgICAgIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSAmJiBzdGF0ZSAhPT0gU1RBVEUuUk9UQVRFKVxyXG4gICAgICAgIClcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX3N0YXJ0RXZlbnQpO1xyXG4gICAgICAgIGhhbmRsZU1vdXNlV2hlZWwoZXZlbnQpO1xyXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX2VuZEV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBoYW5kbGVLZXlEb3duKGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBzY3JvbGxpbmdcclxuXHJcbiAgICAgICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBzd2l0Y2ggKHNjb3BlLnRvdWNoZXMuT05FKSB7XHJcbiAgICAgICAgICAgICAgY2FzZSBUSFJFRS5UT1VDSC5ST1RBVEU6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hTdGFydFJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFRIUkVFLlRPVUNILlBBTjpcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaFN0YXJ0UGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gU1RBVEUuVE9VQ0hfUEFOO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgc3dpdGNoIChzY29wZS50b3VjaGVzLlRXTykge1xyXG4gICAgICAgICAgICAgIGNhc2UgVEhSRUUuVE9VQ0guRE9MTFlfUEFOOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoU3RhcnREb2xseVBhbihldmVudCk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX0RPTExZX1BBTjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFRIUkVFLlRPVUNILkRPTExZX1JPVEFURTpcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVab29tID09PSBmYWxzZSAmJiBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaFN0YXJ0RG9sbHlSb3RhdGUoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWV9ST1RBVEU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSB7XHJcbiAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KF9zdGFydEV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBzY3JvbGxpbmdcclxuXHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgY2FzZSBTVEFURS5UT1VDSF9ST1RBVEU6XHJcbiAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLlRPVUNIX1BBTjpcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlVG91Y2hNb3ZlUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgU1RBVEUuVE9VQ0hfRE9MTFlfUEFOOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgJiYgc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBoYW5kbGVUb3VjaE1vdmVEb2xseVBhbihldmVudCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLlRPVUNIX0RPTExZX1JPVEFURTpcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBoYW5kbGVUb3VjaE1vdmVEb2xseVJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgaGFuZGxlVG91Y2hFbmQoZXZlbnQpO1xyXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX2VuZEV2ZW50KTtcclxuICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSAvL1xyXG5cclxuICAgICAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgb25Db250ZXh0TWVudSk7XHJcbiAgICAgIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24pO1xyXG4gICAgICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBvbk1vdXNlV2hlZWwsIHtcclxuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICAgIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25Ub3VjaFN0YXJ0LCB7XHJcbiAgICAgICAgcGFzc2l2ZTogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBvblRvdWNoRW5kKTtcclxuICAgICAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG9uVG91Y2hNb3ZlLCB7XHJcbiAgICAgICAgcGFzc2l2ZTogZmFsc2UsXHJcbiAgICAgIH0pOyAvLyBmb3JjZSBhbiB1cGRhdGUgYXQgc3RhcnRcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgfSAvLyBUaGlzIHNldCBvZiBjb250cm9scyBwZXJmb3JtcyBvcmJpdGluZywgZG9sbHlpbmcgKHpvb21pbmcpLCBhbmQgcGFubmluZy5cclxuICAvLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxyXG4gIC8vIFRoaXMgaXMgdmVyeSBzaW1pbGFyIHRvIE9yYml0Q29udHJvbHMsIGFub3RoZXIgc2V0IG9mIHRvdWNoIGJlaGF2aW9yXHJcbiAgLy9cclxuICAvLyAgICBPcmJpdCAtIHJpZ2h0IG1vdXNlLCBvciBsZWZ0IG1vdXNlICsgY3RybC9tZXRhL3NoaWZ0S2V5IC8gdG91Y2g6IHR3by1maW5nZXIgcm90YXRlXHJcbiAgLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28tZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcclxuICAvLyAgICBQYW4gLSBsZWZ0IG1vdXNlLCBvciBhcnJvdyBrZXlzIC8gdG91Y2g6IG9uZS1maW5nZXIgbW92ZVxyXG5cclxuICBjbGFzcyBNYXBDb250cm9scyBleHRlbmRzIE9yYml0Q29udHJvbHMge1xyXG4gICAgY29uc3RydWN0b3Iob2JqZWN0OiBUSFJFRS5DYW1lcmEsIGRvbUVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgIHN1cGVyKG9iamVjdCwgZG9tRWxlbWVudCk7XHJcbiAgICAgIHRoaXMuc2NyZWVuU3BhY2VQYW5uaW5nID0gZmFsc2U7IC8vIHBhbiBvcnRob2dvbmFsIHRvIHdvcmxkLXNwYWNlIGRpcmVjdGlvbiBjYW1lcmEudXBcclxuXHJcbiAgICAgIHRoaXMubW91c2VCdXR0b25zLkxFRlQgPSBUSFJFRS5NT1VTRS5QQU47XHJcbiAgICAgIHRoaXMubW91c2VCdXR0b25zLlJJR0hUID0gVEhSRUUuTU9VU0UuUk9UQVRFO1xyXG4gICAgICB0aGlzLnRvdWNoZXMuT05FID0gVEhSRUUuVE9VQ0guUEFOO1xyXG4gICAgICB0aGlzLnRvdWNoZXMuVFdPID0gVEhSRUUuVE9VQ0guRE9MTFlfUk9UQVRFO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9AdHMtaWdub3JlXHJcbiAgVEhSRUUuTWFwQ29udHJvbHMgPSBNYXBDb250cm9scztcclxuICAvL0B0cy1pZ25vcmVcclxuICBUSFJFRS5PcmJpdENvbnRyb2xzID0gT3JiaXRDb250cm9scztcclxufSkoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==