/*! For license information please see main.bundle.js.LICENSE.txt */
(self.webpackChunkthreejs_es6_webpack_boilerplate=self.webpackChunkthreejs_es6_webpack_boilerplate||[]).push([["main"],{"./src/js/data/config.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={isDev:!1,isShowingStats:!0,isLoaded:!1,isTweening:!1,isRotating:!0,isMouseMoving:!1,isMouseOver:!1,maxAnisotropy:1,dpr:1,easing:n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js").default.Easing.Quadratic.InOut,duration:500,texture:{path:"./assets/textures/",imageFiles:[{name:"grass",image:"football_grass.png"},{name:"ball",image:"ball.png"},{name:"wall",image:"logo.png"}]},fog:{color:16777215,near:8e-4},camera:{fov:60,near:2,far:1e3,aspect:window.innerWidth/window.innerHeight,posX:1,posY:1,posZ:5},controls:{autoRotate:!1,autoRotateSpeed:-.5,rotateSpeed:.5,zoomSpeed:.8,minDistance:10,maxDistance:6e3,minPolarAngle:Math.PI/5,maxPolarAngle:Math.PI/2,minAzimuthAngle:-1/0,maxAzimuthAngle:1/0,enableDamping:!0,dampingFactor:.5,enableZoom:!0,target:{x:0,y:0,z:0}},ambientLight:{enabled:!1,color:4210752},directionalLight:{enabled:!0,color:15790320,intensity:.4,x:-75,y:280,z:150},shadow:{enabled:!0,helperEnabled:!0,bias:0,mapWidth:2048,mapHeight:2048,near:250,far:400,top:100,right:100,bottom:-100,left:-100},pointLight:{enabled:!0,color:16777215,intensity:.5,distance:10,decay:3,x:1,y:1,z:1.3},hemiLight:{enabled:!0,color:13158600,groundColor:16777215,intensity:.55,x:0,y:0,z:0},physics:{world:{gravity:{x:0,y:0,z:0}},ball:{mass:1,radius:.25,initialPosition:{x:1,y:1,z:.25}}}}},"./src/css/app.scss":(e,t,n)=>{"use strict";n.r(t)},"./src/js/app.ts":(e,t,n)=>{"use strict";n.r(t);var r=n("./src/js/utils/detector.ts"),o=n("./src/js/app/main.ts");n("./src/css/app.scss");!function(){if(r.default.webgl){var e=document.getElementById("appContainer");new o.default(e)}else r.default.addGetWebGLMessage()}()},"./src/js/app/components/camera.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n("./node_modules/three/build/three.module.js"),o=n("./src/js/data/config.js");const i=function(){function e(e){var t=this,n=e.domElement.width,i=e.domElement.height;this.threeCamera=new r.PerspectiveCamera(o.default.camera.fov,n/i,o.default.camera.near,o.default.camera.far),this.threeCamera.position.set(o.default.camera.posX,o.default.camera.posY,o.default.camera.posZ),this.updateSize(e),window.addEventListener("resize",(function(){return t.updateSize(e)}),!1)}return e.prototype.updateSize=function(e){this.threeCamera.aspect=e.domElement.width/e.domElement.height,this.threeCamera.updateProjectionMatrix()},e}()},"./src/js/app/components/controls.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});n("./src/js/utils/orbitControls.ts");var r=n("./src/js/data/config.js");const o=function(){function e(e,t){}return e.prototype.init=function(){this.threeControls.target.set(r.default.controls.target.x,r.default.controls.target.y,r.default.controls.target.z),this.threeControls.autoRotate=r.default.controls.autoRotate,this.threeControls.autoRotateSpeed=r.default.controls.autoRotateSpeed,this.threeControls.rotateSpeed=r.default.controls.rotateSpeed,this.threeControls.zoomSpeed=r.default.controls.zoomSpeed,this.threeControls.minDistance=r.default.controls.minDistance,this.threeControls.maxDistance=r.default.controls.maxDistance,this.threeControls.minPolarAngle=r.default.controls.minPolarAngle,this.threeControls.maxPolarAngle=r.default.controls.maxPolarAngle,this.threeControls.enableDamping=r.default.controls.enableDamping,this.threeControls.enableZoom=r.default.controls.enableZoom,this.threeControls.dampingFactor=r.default.controls.dampingFactor},e}()},"./src/js/app/components/geometry.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n("./node_modules/three/build/three.module.js"),o=n("./src/js/utils/bufferGeometryUtils.ts");const i=function(){function e(e,t){this.scene=e,this.geo=null,this.dimension=t}return e.prototype.makeSphere=function(e,t,n){void 0===t&&(t=32),void 0===n&&(n=32),this.geo=new r.SphereGeometry(e,t,n)},e.prototype.makePlane=function(e,t,n,o){void 0===n&&(n=1),void 0===o&&(o=1),this.geo=new r.PlaneGeometry(e,t,n,o)},e.prototype.makeBox=function(e,t,n,o,i,a){this.geo=new r.BoxGeometry(e,t,n,o,i,a)},e.prototype.makeBall=function(){return this.makeSphere(.25,32,16),this.geo},e.prototype.makeGround=function(){return this.makePlane(10*this.dimension,10*this.dimension,this.dimension,this.dimension),this.geo},e.prototype.makeWalls=function(e){for(var t=new r.Object3D,n=new r.Object3D,i=[],a=0;a<e.length;a++)for(var s=0;s<e.length;s++)if(!0===e[a][s]){var l=new r.BoxGeometry(1,1,1,1,1,1);n.position.x=a,n.position.y=s,n.position.z=0,n.add(t),t.updateWorldMatrix(!0,!1),l.applyMatrix4(t.matrixWorld),i.push(l)}return o.BufferGeometryUtils.mergeBufferGeometries(i)},e}()},"./src/js/app/components/light.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n("./node_modules/three/build/three.module.js"),o=n("./src/js/data/config.js");const i=function(){function e(e){this.scene=e,this.init()}return e.prototype.init=function(){this.pointLight=new r.PointLight(o.default.pointLight.color,o.default.pointLight.intensity,o.default.pointLight.distance,o.default.pointLight.decay),this.pointLight.position.set(o.default.pointLight.x,o.default.pointLight.y,o.default.pointLight.z),this.pointLight.visible=o.default.pointLight.enabled,this.ambientLight=new r.AmbientLight(o.default.ambientLight.color),this.ambientLight.visible=o.default.ambientLight.enabled},e.prototype.place=function(e){switch(e){case"point":this.scene.add(this.pointLight);break;case"ambient":this.scene.add(this.ambientLight)}},e}()},"./src/js/app/components/material.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n("./node_modules/three/build/three.module.js");const o=function(){function e(){}return e.prototype.makePhongMaterial=function(e){return new r.MeshPhongMaterial({map:e})},e}()},"./src/js/app/components/physics.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Physics:()=>i});var r=n("./node_modules/cannon-es/dist/cannon-es.js"),o=n("./src/js/data/config.js"),i=function(){function e(){this.force=500,this.dt=1/60,this.fixedTimeStep=1/60,this.maxSubSteps=3}return e.prototype.setupWorld=function(e){this.createZeroGravityWorld(),this.createFrictionSurfaces(),this.createGround(),this.createBall(),this.createWall(e)},e.prototype.createZeroGravityWorld=function(){var e=o.default.physics.world.gravity,t=e.x,n=e.y,i=e.z;this.world=new r.World({gravity:new r.Vec3(t,n,i),broadphase:new r.NaiveBroadphase})},e.prototype.createFrictionSurfaces=function(){this.ballMaterial=new r.Material("ballMaterial"),this.groundMaterial=new r.Material("groundMaterial"),this.wallMaterial=new r.Material("wallMaterial");var e=new r.ContactMaterial(this.groundMaterial,this.groundMaterial,{friction:1,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3,frictionEquationStiffness:1e8});this.world.addContactMaterial(e);var t=new r.ContactMaterial(this.groundMaterial,this.ballMaterial,{friction:1,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3});this.world.addContactMaterial(t);var n=new r.ContactMaterial(this.ballMaterial,this.wallMaterial,{friction:.6,restitution:.3,contactEquationStiffness:1e8,contactEquationRelaxation:3});this.world.addContactMaterial(n)},e.prototype.createBall=function(){var e=o.default.physics.ball,t=e.initialPosition,n=e.mass,i=e.radius;this.ball=new r.Body({material:this.ballMaterial,mass:n,collisionFilterGroup:this.GROUP1,collisionFilterMask:this.GROUP2,linearDamping:.75,angularDamping:.75,shape:new r.Sphere(i),type:r.BODY_TYPES.DYNAMIC});var a=t.x,s=void 0===a?0:a,l=t.y,u=void 0===l?0:l,c=t.z,d=void 0===c?0:c;this.ball.position.set(s,u,d),this.world.addBody(this.ball),this.ball.addEventListener("collide",(function(e){console.log("The sphere just collided with the ground!"),console.log("Collided with body:",e.body)}))},e.prototype.createGround=function(){var e=new r.Plane,t=new r.Body({mass:0,material:this.groundMaterial});t.addShape(e),t.position.setZero(),this.world.addBody(t)},e.prototype.createWall=function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)if(!0===e[t][n]){var o=new r.Body({type:r.BODY_TYPES.STATIC,material:this.wallMaterial,shape:new r.Box(new r.Vec3(.5,.5,.5)),collisionFilterGroup:this.GROUP2,collisionFilterMask:this.GROUP1});o.position.x=t,o.position.y=n,o.position.z=0,this.world.addBody(o)}},e.prototype.moveBall=function(e){var t,n=new r.Vec3(0,0,.25);switch(e){case"left":t=new r.Vec3(-1,0,0);break;case"right":t=new r.Vec3(1,0,0);break;case"up":t=new r.Vec3(0,1,0);break;case"down":t=new r.Vec3(0,-1,0)}this.ball.applyImpulse(t,n)},e.prototype.updatePhysics=function(e){this.world.step(this.fixedTimeStep,e,this.maxSubSteps)},e}()},"./src/js/app/components/renderer.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n("./node_modules/three/build/three.module.js"),o=n("./src/js/data/config.js");const i=function(){function e(e,t){var n=this;this.scene=e,this.container=t,this.threeRenderer=new r.WebGLRenderer({antialias:!0}),this.threeRenderer.setClearColor(e.fog.color),this.threeRenderer.setPixelRatio(window.devicePixelRatio),t.appendChild(this.threeRenderer.domElement),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=r.PCFSoftShadowMap,o.default.maxAnisotropy=this.threeRenderer.capabilities.getMaxAnisotropy(),this.updateSize(),document.addEventListener("DOMContentLoaded",(function(){return n.updateSize()}),!1),window.addEventListener("resize",(function(){return n.updateSize()}),!1)}return e.prototype.updateSize=function(){this.threeRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight)},e.prototype.render=function(e,t){this.threeRenderer.render(e,t)},e}()},"./src/js/app/main.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r,o=n("./node_modules/@tweenjs/tween.js/dist/tween.esm.js"),i=n("./node_modules/three/build/three.module.js"),a=n("./src/js/data/config.js"),s=n("./src/js/app/components/camera.ts"),l=n("./src/js/app/components/controls.ts"),u=n("./src/js/app/components/geometry.ts"),c=n("./src/js/app/components/light.ts"),d=n("./src/js/app/components/material.ts"),h=n("./src/js/app/components/physics.ts"),m=n("./src/js/app/components/renderer.ts"),p=n("./src/js/app/managers/interaction.ts"),f=n("./src/js/app/model/texture.ts");const g=function(){function e(e){var t=this;this.path=[],this.container=e,this.clock=new i.Clock,this.mazeDimension=11,this.scene=new i.Scene,this.scene.fog=new i.FogExp2(a.default.fog.color,a.default.fog.near),this.material=new d.default,this.geometry=new u.default(this.scene,this.mazeDimension),window.devicePixelRatio&&(a.default.dpr=window.devicePixelRatio),this.renderer=new m.default(this.scene,e),this.camera=new s.default(this.renderer.threeRenderer),this.controls=new l.default(this.camera.threeCamera,e),this.lights=new c.default(this.scene),this.texture=new f.default,this.physics=new h.Physics,this.maze=this.generateSquareMaze(this.mazeDimension),this.maze[this.mazeDimension-1][this.mazeDimension-2]=!1,this.setupPhysics(),this.texture.load().then((function(){t.setupRenderWorld(),console.log("ballmesh",t.ballMesh),t.gameState="fade in",new p.default(t.renderer.threeRenderer,t.scene,t.camera.threeCamera,t.controls.threeControls,t.moveBall.bind(t))})),this.gameState="initialize",this.render(Date.now())}return e.prototype.moveBall=function(e){this.physics.moveBall(e)},e.prototype.setupRenderWorld=function(){this.scene.add(this.camera.threeCamera),this.lights.place("ambient"),this.lights.place("point");var e=this.geometry.makeBall(),t=this.geometry.makeGround(),n=this.geometry.makeWalls(this.maze),r=this.texture.textures,o=r.grass,a=r.ball,s=r.wall,l=this.material.makePhongMaterial(a);this.ballMesh=new i.Mesh(e,l),console.log("Here!!"),this.ballMesh.position.set(1,1,.25),this.scene.add(this.ballMesh);var u=this.material.makePhongMaterial(s),c=new i.Mesh(n,u);c.position.z=.5,this.scene.add(c),o.wrapS=i.RepeatWrapping,o.wrapT=i.RepeatWrapping,o.repeat.set(5*this.mazeDimension,5*this.mazeDimension);var d=this.material.makePhongMaterial(o),h=new i.Mesh(t,d);h.position.set((this.mazeDimension-1)/2,(this.mazeDimension-1)/2,0),h.rotation.set(0,0,0),this.scene.add(h)},e.prototype.updateRenderWorld=function(){this.ballMesh.position.copy(this.physics.ball.position),this.ballMesh.quaternion.copy(this.physics.ball.quaternion),this.lights.pointLight.position.copy(new i.Vector3(this.physics.ball.position.x,this.physics.ball.position.y,a.default.pointLight.z)),this.camera.threeCamera.position.x+=.1*(this.ballMesh.position.x-this.camera.threeCamera.position.x),this.camera.threeCamera.position.y+=.1*(this.ballMesh.position.y-this.camera.threeCamera.position.y)},e.prototype.setupPhysics=function(){this.physics.setupWorld(this.maze)},e.prototype.generateSquareMaze=function(e){for(var t=new Array(e),n=0;n<e;n++){t[n]=new Array(e);for(var o=0;o<e;o++)t[n][o]=!0}return t=function t(n,o,i){for(n[o][i]=!1;;){if(r=[],o>1&&1==n[o-2][i]&&r.push([-1,0]),o<e-2&&1==n[o+2][i]&&r.push([1,0]),i>1&&1==n[o][i-2]&&r.push([0,-1]),i<e-2&&1==n[o][i+2]&&r.push([0,1]),0==r.length)return n;var a=r[Math.floor(Math.random()*r.length)];n[o+a[0]][i+a[1]]=!1,n=t(n,o+2*a[0],i+2*a[1])}}(t,1,1)},e.prototype.render=function(e){switch(o.default.update(),this.gameState){case"initialize":console.log("initialzing"),this.lights.pointLight.intensity=0;break;case"fade in":console.log("fade in");var t=this.lights.pointLight.intensity;this.lights.pointLight.intensity+=.1*(1-t),this.renderer.render(this.scene,this.camera.threeCamera),Math.abs(t-1)<.05&&(this.lights.pointLight.intensity=1,this.gameState="play");break;case"play":this.physics.updatePhysics(e),this.updateRenderWorld();var n=Math.floor(this.ballMesh.position.x+.5),r=Math.floor(this.ballMesh.position.y+.5);if(0===this.path.length)this.path.push([n,r]);else if(this.path[this.path.length-1]){var i=this.path[this.path.length-1],a=i[0],s=i[1];a===n&&s===r||this.path.push([n,r])}n==this.mazeDimension&&r==this.mazeDimension-2&&(document.getElementById("maze_solution").value=JSON.stringify(this.path),this.gameState="fade out",setTimeout((function(){document.forms[0].submit()}),300)),this.renderer.render(this.scene,this.camera.threeCamera);break;case"fade out":this.lights.pointLight.intensity+=.1*(0-this.lights.pointLight.intensity),this.renderer.render(this.scene,this.camera.threeCamera),Math.abs(this.lights.pointLight.intensity-0)<.1&&(this.lights.pointLight.intensity=0,this.renderer.render(this.scene,this.camera.threeCamera))}requestAnimationFrame(this.render.bind(this))},e}()},"./src/js/app/managers/interaction.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n("./src/js/data/config.js"),o=n("./src/js/utils/helpers.ts"),i=n("./src/js/utils/keyboard.ts");const a=function(){function e(e,t,n,r,a){var s=this;this.requestInterval=function(e,t){var n=window.requestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},r=(new Date).getTime(),o={};return o.value=n((function i(){o.value=n(i),(new Date).getTime()-r>=t&&(e.call(),r=(new Date).getTime())})),o},this.pressAndHold=function(e,t){var n,r=function(e){e.preventDefault(),n=s.requestInterval(t,1e3/60)};function o(e){e.preventDefault(),cancelAnimationFrame(n.value)}e.addEventListener("mousedown",r),e.addEventListener("mouseup",o),e.addEventListener("touchstart",r),e.addEventListener("touchend",o)},this.renderer=e,this.scene=t,this.camera=n,this.controls=r,this.timeout=null,this.keyboard=new i.default,this.renderer.domElement.addEventListener("mousemove",(function(e){return o.default.throttle((function(){return s.onMouseMove(e)}),250)}),!1),this.renderer.domElement.addEventListener("mouseleave",(function(e){return s.onMouseLeave(e)}),!1),this.renderer.domElement.addEventListener("mouseover",(function(e){return s.onMouseOver(e)}),!1),this.keyboard.domElement.addEventListener("keydown",(function(e){e.repeat||(s.keyboard.eventMatches(e,"escape")&&console.log("Escape pressed"),s.keyboard.eventMatches(e,"left")&&a("left"),s.keyboard.eventMatches(e,"right")&&a("right"),s.keyboard.eventMatches(e,"down")&&a("down"),s.keyboard.eventMatches(e,"up")&&a("up"))})),this.upKey=document.querySelector("#upkey"),this.leftKey=document.querySelector("#leftkey"),this.downKey=document.querySelector("#downkey"),this.rightKey=document.querySelector("#rightkey"),this.pressAndHold(this.upKey,o.default.throttle((function(){return a("up")}),60)),this.pressAndHold(this.leftKey,o.default.throttle((function(){return a("left")}),60)),this.pressAndHold(this.rightKey,o.default.throttle((function(){return a("right")}),60)),this.pressAndHold(this.downKey,o.default.throttle((function(){return a("down")}),60))}return e.prototype.onMouseOver=function(e){e.preventDefault(),r.default.isMouseOver=!0},e.prototype.onMouseLeave=function(e){e.preventDefault(),r.default.isMouseOver=!1},e.prototype.onMouseMove=function(e){e.preventDefault(),clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.default.isMouseMoving=!1}),200),r.default.isMouseMoving=!0},e}()},"./src/js/app/model/texture.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n("./node_modules/three/build/three.module.js"),o=n("./node_modules/es6-promise/dist/es6-promise.js"),i=n("./src/js/utils/helpers.ts"),a=n("./src/js/data/config.js");const s=function(){function e(){this.textures={}}return e.prototype.load=function(){var e=this,t=new r.TextureLoader,n=a.default.maxAnisotropy,s=a.default.texture.imageFiles,l=[];return t.setPath(a.default.texture.path),s.forEach((function(e){l.push(new o.Promise((function(o,a){t.load(e.image,(function(t){t.anisotropy=n;var i={};i[e.name]=t,i[e.name]instanceof r.Texture&&o(i)}),i.default.logProgress(),(function(t){return a(new Error(t+"An error occurred loading while loading "+e.image))}))})))})),o.Promise.all(l).then((function(t){for(var n=0;n<t.length;n++)e.textures[Object.keys(t[n])[0]]=t[n][Object.keys(t[n])[0]];console.log("Textures loaded")}),(function(e){return console.log(e)}))},e}()},"./src/js/utils/bufferGeometryUtils.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BufferGeometryUtils:()=>o});var r=n("./node_modules/THREE/build/three.module.js"),o=function(){function e(){}return e.computeTangents=function(e){e.computeTangents(),console.warn("THREE.BufferGeometryUtils: .computeTangents() has been removed. Use BufferGeometry.computeTangents() instead.")},e.mergeBufferGeometries=function(e,t){void 0===t&&(t=!1);for(var n=null!==e[0].index,o=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),a={},s={},l=e[0].morphTargetsRelative,u=new r.BufferGeometry,c=0,d=0;d<e.length;++d){var h=e[d],m=0;if(n!==(null!==h.index))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(var p in h.attributes){if(!o.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;void 0===a[p]&&(a[p]=[]),a[p].push(h.attributes[p]),m++}if(m!==o.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". Make sure all geometries have the same number of attributes."),null;if(l!==h.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(var f in h.morphAttributes){if(!i.has(f))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+".  .morphAttributes must be consistent throughout all geometries."),null;void 0===s[f]&&(s[f]=[]),s[f].push(h.morphAttributes[f])}if(u.userData.mergedUserData=u.userData.mergedUserData||[],u.userData.mergedUserData.push(h.userData),t){var g=void 0;if(n)g=h.index.count;else{if(void 0===h.attributes.position)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+d+". The geometry must have either an index or a position attribute"),null;g=h.attributes.position.count}u.addGroup(c,g,d),c+=g}}if(n){var b=0,y=[];for(d=0;d<e.length;++d){for(var v=e[d].index,w=0;w<v.count;++w)y.push(v.getX(w)+b);b+=e[d].attributes.position.count}u.setIndex(y)}for(var E in a){var M=this.mergeBufferAttributes(a[E]);if(!M)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+E+" attribute."),null;u.setAttribute(E,M)}for(var A in s){var T=s[A][0].length;if(0===T)break;u.morphAttributes=u.morphAttributes||{},u.morphAttributes[A]=[];for(d=0;d<T;++d){var x=[];for(w=0;w<s[A].length;++w)x.push(s[A][w][d]);var j=this.mergeBufferAttributes(x);if(!j)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+A+" morphAttribute."),null;u.morphAttributes[A].push(j)}}return u},e.mergeBufferAttributes=function(e){for(var t,n,o,i=0,a=0;a<e.length;++a){var s=e[a];if(s.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(void 0===n&&(n=s.itemSize),n!==s.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(void 0===o&&(o=s.normalized),o!==s.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=s.array.length}var l=new t(i),u=0;for(a=0;a<e.length;++a)l.set(e[a].array,u),u+=e[a].array.length;return new r.BufferAttribute(l,n,o)},e.interleaveAttributes=function(e){for(var t,n=0,o=0,i=0,a=e.length;i<a;++i){var s=e[i];if(void 0===t&&(t=s.array.constructor),t!==s.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;n+=s.array.length,o+=s.itemSize}var l=new r.InterleavedBuffer(new t(n),o),u=0,c=[],d=["getX","getY","getZ","getW"],h=["setX","setY","setZ","setW"],m=0;for(a=e.length;m<a;m++){var p=(s=e[m]).itemSize,f=s.count,g=new r.InterleavedBufferAttribute(l,p,u,s.normalized);c.push(g),u+=p;for(var b=0;b<f;b++)for(var y=0;y<p;y++)g[h[y]](b,s[d[y]](b))}return c},e.estimateBytesUsed=function(e){var t=0;for(var n in e.attributes){var r=e.getAttribute(n);t+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}var o=e.getIndex();return t+=o?o.count*o.itemSize*o.array.BYTES_PER_ELEMENT:0},e.mergeVertices=function(e,t){void 0===t&&(t=1e-4),t=Math.max(t,Number.EPSILON);for(var n={},o=e.getIndex(),i=e.getAttribute("position"),a=o?o.count:i.count,s=0,l=Object.keys(e.attributes),u={},c={},d=[],h=["getX","getY","getZ","getW"],m=0,p=l.length;m<p;m++){var f=l[m];u[f]=[],(j=e.morphAttributes[f])&&(c[f]=new Array(j.length).fill().map((function(){return[]})))}var g=Math.log10(1/t),b=Math.pow(10,g);for(m=0;m<a;m++){var y=o?o.getX(m):m,v="",w=0;for(p=l.length;w<p;w++)for(var E=l[w],M=(x=e.getAttribute(E)).itemSize,A=0;A<M;A++)v+=~~(x[h[A]](y)*b)+",";if(v in n)d.push(n[v]);else{for(w=0,p=l.length;w<p;w++){var T=l[w],x=e.getAttribute(T),j=e.morphAttributes[T],L=(M=x.itemSize,u[T]),O=c[T];for(A=0;A<M;A++){var S=h[A];if(L.push(x[S](y)),j)for(var k=0,C=j.length;k<C;k++)O[k].push(j[k][S](y))}}n[v]=s,d.push(s),s++}}var P=e.clone();for(m=0,p=l.length;m<p;m++){var R=l[m],B=e.getAttribute(R),D=new B.array.constructor(u[R]);x=new r.BufferAttribute(D,B.itemSize,B.normalized);if(P.setAttribute(R,x),R in c)for(w=0;w<c[R].length;w++){var z=e.morphAttributes[R][w],G=new z.array.constructor(c[R][w]),U=new r.BufferAttribute(G,z.itemSize,z.normalized);P.morphAttributes[R][w]=U}}return P.setIndex(d),P},e.toTrianglesDrawMode=function(e,t){if(t===r.TrianglesDrawMode)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),e;if(t===r.TriangleFanDrawMode||t===r.TriangleStripDrawMode){var n=e.getIndex();if(null===n){var o=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<i.count;a++)o.push(a);e.setIndex(o),n=e.getIndex()}var s=n.count-2,l=[];if(t===r.TriangleFanDrawMode)for(a=1;a<=s;a++)l.push(n.getX(0)),l.push(n.getX(a)),l.push(n.getX(a+1));else for(a=0;a<s;a++)a%2==0?(l.push(n.getX(a)),l.push(n.getX(a+1)),l.push(n.getX(a+2))):(l.push(n.getX(a+2)),l.push(n.getX(a+1)),l.push(n.getX(a)));l.length/3!==s&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var u=e.clone();return u.setIndex(l),u.clearGroups(),u}return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),e},e.computeMorphedAttributes=function(e){if(!0!==e.geometry.isBufferGeometry)return console.error("THREE.BufferGeometryUtils: Geometry is not of type BufferGeometry."),null;var t=new r.Vector3,n=new r.Vector3,o=new r.Vector3,i=new r.Vector3,a=new r.Vector3,s=new r.Vector3,l=new r.Vector3,u=new r.Vector3,c=new r.Vector3;function d(e,r,d,h,m,p,f,g,b){t.fromBufferAttribute(d,p),n.fromBufferAttribute(d,f),o.fromBufferAttribute(d,g);var y=e.morphTargetInfluences;if(r.morphTargets&&h&&y){l.set(0,0,0),u.set(0,0,0),c.set(0,0,0);for(var v=0,w=h.length;v<w;v++){var E=y[v],M=h[v];0!==E&&(i.fromBufferAttribute(M,p),a.fromBufferAttribute(M,f),s.fromBufferAttribute(M,g),m?(l.addScaledVector(i,E),u.addScaledVector(a,E),c.addScaledVector(s,E)):(l.addScaledVector(i.sub(t),E),u.addScaledVector(a.sub(n),E),c.addScaledVector(s.sub(o),E)))}t.add(l),n.add(u),o.add(c)}e.isSkinnedMesh&&(e.boneTransform(p,t),e.boneTransform(f,n),e.boneTransform(g,o)),b[3*p+0]=t.x,b[3*p+1]=t.y,b[3*p+2]=t.z,b[3*f+0]=n.x,b[3*f+1]=n.y,b[3*f+2]=n.z,b[3*g+0]=o.x,b[3*g+1]=o.y,b[3*g+2]=o.z}var h,m,p,f,g,b,y,v,w,E=e.geometry,M=e.material,A=E.index,T=E.attributes.position,x=E.morphAttributes.position,j=E.morphTargetsRelative,L=E.attributes.normal,O=E.morphAttributes.position,S=E.groups,k=E.drawRange,C=new Float32Array(T.count*T.itemSize),P=new Float32Array(L.count*L.itemSize);if(null!==A)if(Array.isArray(M))for(f=0,b=S.length;f<b;f++)for(w=M[(v=S[f]).materialIndex],g=Math.max(v.start,k.start),y=Math.min(v.start+v.count,k.start+k.count);g<y;g+=3)d(e,w,T,x,j,h=A.getX(g),m=A.getX(g+1),p=A.getX(g+2),C),d(e,w,L,O,j,h,m,p,P);else for(f=Math.max(0,k.start),b=Math.min(A.count,k.start+k.count);f<b;f+=3)d(e,M,T,x,j,h=A.getX(f),m=A.getX(f+1),p=A.getX(f+2),C),d(e,M,L,O,j,h,m,p,P);else if(void 0!==T)if(Array.isArray(M))for(f=0,b=S.length;f<b;f++)for(w=M[(v=S[f]).materialIndex],g=Math.max(v.start,k.start),y=Math.min(v.start+v.count,k.start+k.count);g<y;g+=3)d(e,w,T,x,j,h=g,m=g+1,p=g+2,C),d(e,w,L,O,j,h,m,p,P);else for(f=Math.max(0,k.start),b=Math.min(T.count,k.start+k.count);f<b;f+=3)d(e,M,T,x,j,h=f,m=f+1,p=f+2,C),d(e,M,L,O,j,h,m,p,P);return{positionAttribute:T,normalAttribute:L,morphedPositionAttribute:new r.Float32BufferAttribute(C,3),morphedNormalAttribute:new r.Float32BufferAttribute(P,3)}},e}()},"./src/js/utils/detector.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,n,r;t=void 0!==(null==e?void 0:e.parentElement)?e.parentElement:document.body,n=void 0!==(null==e?void 0:e.id)?e.id:"oldie",(r=this.getWebGLErrorMessage()).id=n,t.appendChild(r)}}},"./src/js/utils/helpers.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n("./node_modules/three/build/three.module.js");const o=function(){function e(){}return e.throttle=function(e,t,n){var r,o;return t||(t=250),function(){var i=n||this,a=+new Date,s=arguments;r&&a<r+t?(clearTimeout(o),o=setTimeout((function(){r=a,e.apply(i,s)}),t)):(r=a,e.apply(i,s))}},e.logProgress=function(){return function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;console.log(Math.round(t)+"% downloaded")}}},e.logError=function(){return function(e){console.error(e)}},e.handleColorChange=function(e){return function(t){"string"==typeof t&&(t=t.replace("#","0x")),e.setHex(parseInt(t,12))}},e.update=function(e){this.needsUpdate(e.material,e.geometry)},e.needsUpdate=function(e,t){return function(){e instanceof r.Material&&(e.side=+e.side,e.needsUpdate=!0),t.attributes.position.needsUpdate=!0,t.attributes.normals.needsUpdate=!0,t.attributes.colors.needsUpdate=!0}},e.updateTexture=function(e,t,n){return function(r){e[t]=n[r],e.needsUpdate=!0}},e}()},"./src/js/utils/keyboard.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ALIAS:()=>r,default:()=>o});var r={left:37,up:38,right:39,down:40,space:32,tab:9,escape:27};const o=function(){function e(e){var t=this;this.domElement=e||document,this.keyCodes={},this.domElement.addEventListener("keydown",(function(e){return t.onKeyChange(e)}),!1),this.domElement.addEventListener("keyup",(function(e){return t.onKeyChange(e)}),!1),window.addEventListener("blur",(function(){return t.onBlur}),!1)}return e.prototype.destroy=function(){var e=this;this.domElement.removeEventListener("keydown",(function(t){return e.onKeyChange(t)}),!1),this.domElement.removeEventListener("keyup",(function(t){return e.onKeyChange(t)}),!1),window.removeEventListener("blur",(function(){return e.onBlur}),!1)},e.prototype.onBlur=function(){for(var e in this.keyCodes)this.keyCodes[e]=!1},e.prototype.onKeyChange=function(e){console;var t=e.keyCode;this.keyCodes[t]="keydown"===e.type},e.prototype.pressed=function(e){for(var t=e.split("+"),n=0;n<t.length;n++){var o=t[n];if(!(-1!=Object.keys(r).indexOf(o)?this.keyCodes[r[o]]:this.keyCodes[o.toUpperCase().charCodeAt(0)]))return!1}return!0},e.prototype.eventMatches=function(e,t){for(var n=r,o=Object.keys(n),i=-1!=t.indexOf("+")?t.split("+"):[t],a=0;a<i.length;a++){var s=i[a],l=!1;if("shift"===s?l=!!e.shiftKey:"ctrl"===s?l=!!e.ctrlKey:"alt"===s?l=!!e.altKey:"meta"===s?l=!!e.metaKey:-1!==o.indexOf(s)?l=e.keyCode===n[s]:e.keyCode===s.toUpperCase().charCodeAt(0)&&(l=!0),!l)return!1}return!0},e}()},"./src/js/utils/orbitControls.ts":(e,t,n)=>{"use strict";n.r(t);var r,o,i,a,s,l,u=n("./node_modules/three/build/three.module.js"),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});o={type:"change"},i={type:"start"},a={type:"end"},s=function(e){function t(t,n){var r,s,l,c,d,h,m=e.call(this)||this;void 0===n&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),n===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),m.object=t,m.domElement=n,m.enabled=!0,m.target=new u.Vector3,m.minDistance=0,m.maxDistance=1/0,m.minZoom=0,m.maxZoom=1/0,m.minPolarAngle=0,m.maxPolarAngle=Math.PI,m.minAzimuthAngle=-1/0,m.maxAzimuthAngle=1/0,m.enableDamping=!1,m.dampingFactor=.05,m.enableZoom=!0,m.zoomSpeed=1,m.enableRotate=!0,m.rotateSpeed=1,m.enablePan=!0,m.panSpeed=1,m.screenSpacePanning=!0,m.keyPanSpeed=7,m.autoRotate=!1,m.autoRotateSpeed=2,m.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},m.mouseButtons={LEFT:u.MOUSE.ROTATE,MIDDLE:u.MOUSE.DOLLY,RIGHT:u.MOUSE.PAN},m.touches={ONE:u.TOUCH.ROTATE,TWO:u.TOUCH.DOLLY_PAN},m.target0=m.target.clone(),m.position0=m.object.position.clone(),m.zoom0=m.object.zoom,m._domElementKeyEvents=null,m.getPolarAngle=function(){return y.phi},m.getAzimuthalAngle=function(){return y.theta},m.listenToKeyEvents=function(e){e.addEventListener("keydown",$),this._domElementKeyEvents=e},m.saveState=function(){p.target0.copy(p.target),p.position0.copy(p.object.position),p.zoom0=p.object.zoom},m.reset=function(){p.target.copy(p.target0),p.object.position.copy(p.position0),p.object.zoom=p.zoom0,p.object.updateProjectionMatrix(),p.dispatchEvent(o),p.update(),g=f.NONE},m.update=(r=new u.Vector3,s=(new u.Quaternion).setFromUnitVectors(t.up,new u.Vector3(0,1,0)),l=s.clone().invert(),c=new u.Vector3,d=new u.Quaternion,h=2*Math.PI,function(){var e=p.object.position;r.copy(e).sub(p.target),r.applyQuaternion(s),y.setFromVector3(r),p.autoRotate&&g===f.NONE&&R(2*Math.PI/60/60*p.autoRotateSpeed),p.enableDamping?(y.theta+=v.theta*p.dampingFactor,y.phi+=v.phi*p.dampingFactor):(y.theta+=v.theta,y.phi+=v.phi);var t=p.minAzimuthAngle,n=p.maxAzimuthAngle;return isFinite(t)&&isFinite(n)&&(t<-Math.PI?t+=h:t>Math.PI&&(t-=h),n<-Math.PI?n+=h:n>Math.PI&&(n-=h),y.theta=t<=n?Math.max(t,Math.min(n,y.theta)):y.theta>(t+n)/2?Math.max(t,y.theta):Math.min(n,y.theta)),y.phi=Math.max(p.minPolarAngle,Math.min(p.maxPolarAngle,y.phi)),y.makeSafe(),y.radius*=w,y.radius=Math.max(p.minDistance,Math.min(p.maxDistance,y.radius)),!0===p.enableDamping?p.target.addScaledVector(E,p.dampingFactor):p.target.add(E),r.setFromSpherical(y),r.applyQuaternion(l),e.copy(p.target).add(r),p.object.lookAt(p.target),!0===p.enableDamping?(v.theta*=1-p.dampingFactor,v.phi*=1-p.dampingFactor,E.multiplyScalar(1-p.dampingFactor)):(v.set(0,0,0),E.set(0,0,0)),w=1,!!(M||c.distanceToSquared(p.object.position)>b||8*(1-d.dot(p.object.quaternion))>b)&&(p.dispatchEvent(o),c.copy(p.object.position),d.copy(p.object.quaternion),M=!1,!0)}),m.dispose=function(){p.domElement.removeEventListener("contextmenu",re),p.domElement.removeEventListener("pointerdown",K),p.domElement.removeEventListener("wheel",J),p.domElement.removeEventListener("touchstart",ee),p.domElement.removeEventListener("touchend",ne),p.domElement.removeEventListener("touchmove",te),p.domElement.ownerDocument.removeEventListener("pointermove",q),p.domElement.ownerDocument.removeEventListener("pointerup",Q),null!==p._domElementKeyEvents&&p._domElementKeyEvents.removeEventListener("keydown",$)};var p=m,f={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},g=f.NONE,b=1e-6,y=new u.Spherical,v=new u.Spherical,w=1,E=new u.Vector3,M=!1,A=new u.Vector2,T=new u.Vector2,x=new u.Vector2,j=new u.Vector2,L=new u.Vector2,O=new u.Vector2,S=new u.Vector2,k=new u.Vector2,C=new u.Vector2;function P(){return Math.pow(.95,p.zoomSpeed)}function R(e){v.theta-=e}function B(e){v.phi-=e}var D,z=(D=new u.Vector3,function(e,t){D.setFromMatrixColumn(t,0),D.multiplyScalar(-e),E.add(D)}),G=function(){var e=new u.Vector3;return function(t,n){!0===p.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(p.object.up,e)),e.multiplyScalar(t),E.add(e)}}(),U=function(){var e=new u.Vector3;return function(t,n){var r=p.domElement;if(p.object.isPerspectiveCamera){var o=p.object.position;e.copy(o).sub(p.target);var i=e.length();i*=Math.tan(p.object.fov/2*Math.PI/180),z(2*t*i/r.clientHeight,p.object.matrix),G(2*n*i/r.clientHeight,p.object.matrix)}else p.object.isOrthographicCamera?(z(t*(p.object.right-p.object.left)/p.object.zoom/r.clientWidth,p.object.matrix),G(n*(p.object.top-p.object.bottom)/p.object.zoom/r.clientHeight,p.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),p.enablePan=!1)}}();function _(e){p.object.isPerspectiveCamera?w/=e:p.object.isOrthographicCamera?(p.object.zoom=Math.max(p.minZoom,Math.min(p.maxZoom,p.object.zoom*e)),p.object.updateProjectionMatrix(),M=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),p.enableZoom=!1)}function H(e){p.object.isPerspectiveCamera?w*=e:p.object.isOrthographicCamera?(p.object.zoom=Math.max(p.minZoom,Math.min(p.maxZoom,p.object.zoom/e)),p.object.updateProjectionMatrix(),M=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),p.enableZoom=!1)}function N(e){A.set(e.clientX,e.clientY)}function Y(e){j.set(e.clientX,e.clientY)}function I(e){if(1==e.touches.length)A.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);A.set(t,n)}}function V(e){if(1==e.touches.length)j.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);j.set(t,n)}}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);S.set(0,r)}function X(e){if(1==e.touches.length)T.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);T.set(t,n)}x.subVectors(T,A).multiplyScalar(p.rotateSpeed);var r=p.domElement;R(2*Math.PI*x.x/r.clientHeight),B(2*Math.PI*x.y/r.clientHeight),A.copy(T)}function W(e){if(1==e.touches.length)L.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);L.set(t,n)}O.subVectors(L,j).multiplyScalar(p.panSpeed),U(O.x,O.y),j.copy(L)}function Z(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);k.set(0,r),C.set(0,Math.pow(k.y/S.y,p.zoomSpeed)),_(C.y),S.copy(k)}function K(e){if(!1!==p.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),p.domElement.focus?p.domElement.focus():window.focus(),e.button){case 0:t=p.mouseButtons.LEFT;break;case 1:t=p.mouseButtons.MIDDLE;break;case 2:t=p.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u.MOUSE.DOLLY:if(!1===p.enableZoom)return;!function(e){S.set(e.clientX,e.clientY)}(e),g=f.DOLLY;break;case u.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===p.enablePan)return;Y(e),g=f.PAN}else{if(!1===p.enableRotate)return;N(e),g=f.ROTATE}break;case u.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===p.enableRotate)return;N(e),g=f.ROTATE}else{if(!1===p.enablePan)return;Y(e),g=f.PAN}break;default:g=f.NONE}g!==f.NONE&&(p.domElement.ownerDocument.addEventListener("pointermove",q),p.domElement.ownerDocument.addEventListener("pointerup",Q),p.dispatchEvent(i))}(e)}}function q(e){if(!1!==p.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1!==p.enabled)switch(e.preventDefault(),g){case f.ROTATE:if(!1===p.enableRotate)return;!function(e){T.set(e.clientX,e.clientY),x.subVectors(T,A).multiplyScalar(p.rotateSpeed);var t=p.domElement;R(2*Math.PI*x.x/t.clientHeight),B(2*Math.PI*x.y/t.clientHeight),A.copy(T),p.update()}(e);break;case f.DOLLY:if(!1===p.enableZoom)return;!function(e){k.set(e.clientX,e.clientY),C.subVectors(k,S),C.y>0?_(P()):C.y<0&&H(P()),S.copy(k),p.update()}(e);break;case f.PAN:if(!1===p.enablePan)return;!function(e){L.set(e.clientX,e.clientY),O.subVectors(L,j).multiplyScalar(p.panSpeed),U(O.x,O.y),j.copy(L),p.update()}(e)}}(e)}}function Q(e){switch(e.pointerType){case"mouse":case"pen":p.domElement.ownerDocument.removeEventListener("pointermove",q),p.domElement.ownerDocument.removeEventListener("pointerup",Q),!1!==p.enabled&&(p.dispatchEvent(a),g=f.NONE)}}function J(e){!1===p.enabled||!1===p.enableZoom||g!==f.NONE&&g!==f.ROTATE||(e.preventDefault(),p.dispatchEvent(i),function(e){e.deltaY<0?H(P()):e.deltaY>0&&_(P()),p.update()}(e),p.dispatchEvent(a))}function $(e){!1!==p.enabled&&!1!==p.enablePan&&function(e){var t=!1;switch(e.code){case p.keys.UP:U(0,p.keyPanSpeed),t=!0;break;case p.keys.BOTTOM:U(0,-p.keyPanSpeed),t=!0;break;case p.keys.LEFT:U(p.keyPanSpeed,0),t=!0;break;case p.keys.RIGHT:U(-p.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),p.update())}(e)}function ee(e){if(!1!==p.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(p.touches.ONE){case u.TOUCH.ROTATE:if(!1===p.enableRotate)return;I(e),g=f.TOUCH_ROTATE;break;case u.TOUCH.PAN:if(!1===p.enablePan)return;V(e),g=f.TOUCH_PAN;break;default:g=f.NONE}break;case 2:switch(p.touches.TWO){case u.TOUCH.DOLLY_PAN:if(!1===p.enableZoom&&!1===p.enablePan)return;!function(e){p.enableZoom&&F(e),p.enablePan&&V(e)}(e),g=f.TOUCH_DOLLY_PAN;break;case u.TOUCH.DOLLY_ROTATE:if(!1===p.enableZoom&&!1===p.enableRotate)return;!function(e){p.enableZoom&&F(e),p.enableRotate&&I(e)}(e),g=f.TOUCH_DOLLY_ROTATE;break;default:g=f.NONE}break;default:g=f.NONE}g!==f.NONE&&p.dispatchEvent(i)}}function te(e){if(!1!==p.enabled)switch(e.preventDefault(),g){case f.TOUCH_ROTATE:if(!1===p.enableRotate)return;X(e),p.update();break;case f.TOUCH_PAN:if(!1===p.enablePan)return;W(e),p.update();break;case f.TOUCH_DOLLY_PAN:if(!1===p.enableZoom&&!1===p.enablePan)return;!function(e){p.enableZoom&&Z(e),p.enablePan&&W(e)}(e),p.update();break;case f.TOUCH_DOLLY_ROTATE:if(!1===p.enableZoom&&!1===p.enableRotate)return;!function(e){p.enableZoom&&Z(e),p.enableRotate&&X(e)}(e),p.update();break;default:g=f.NONE}}function ne(e){!1!==p.enabled&&(p.dispatchEvent(a),g=f.NONE)}function re(e){!1!==p.enabled&&e.preventDefault()}return p.domElement.addEventListener("contextmenu",re),p.domElement.addEventListener("pointerdown",K),p.domElement.addEventListener("wheel",J,{passive:!1}),p.domElement.addEventListener("touchstart",ee,{passive:!1}),p.domElement.addEventListener("touchend",ne),p.domElement.addEventListener("touchmove",te,{passive:!1}),m.update(),m}return c(t,e),t}(u.EventDispatcher),l=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.screenSpacePanning=!1,r.mouseButtons.LEFT=u.MOUSE.PAN,r.mouseButtons.RIGHT=u.MOUSE.ROTATE,r.touches.ONE=u.TOUCH.PAN,r.touches.TWO=u.TOUCH.DOLLY_ROTATE,r}return c(t,e),t}(s),u.MapControls=l,u.OrbitControls=s}},e=>{"use strict";e.O(0,["vendors"],(()=>{return t="./src/js/app.ts",e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2RhdGEvY29uZmlnLmpzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvY2FtZXJhLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvY29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9nZW9tZXRyeS50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9jb21wb25lbnRzL2xpZ2h0LnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvbWF0ZXJpYWwudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvY29tcG9uZW50cy9waHlzaWNzLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvYXBwL2NvbXBvbmVudHMvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vdGhyZWVqcy1lczYtd2VicGFjay1ib2lsZXJwbGF0ZS8uL3NyYy9qcy9hcHAvbWFpbi50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tYW5hZ2Vycy9pbnRlcmFjdGlvbi50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL2FwcC9tb2RlbC90ZXh0dXJlLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvYnVmZmVyR2VvbWV0cnlVdGlscy50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2RldGVjdG9yLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvaGVscGVycy50cyIsIndlYnBhY2s6Ly90aHJlZWpzLWVzNi13ZWJwYWNrLWJvaWxlcnBsYXRlLy4vc3JjL2pzL3V0aWxzL2tleWJvYXJkLnRzIiwid2VicGFjazovL3RocmVlanMtZXM2LXdlYnBhY2stYm9pbGVycGxhdGUvLi9zcmMvanMvdXRpbHMvb3JiaXRDb250cm9scy50cyJdLCJuYW1lcyI6WyJpc0RldiIsImlzU2hvd2luZ1N0YXRzIiwiaXNMb2FkZWQiLCJpc1R3ZWVuaW5nIiwiaXNSb3RhdGluZyIsImlzTW91c2VNb3ZpbmciLCJpc01vdXNlT3ZlciIsIm1heEFuaXNvdHJvcHkiLCJkcHIiLCJlYXNpbmciLCJUV0VFTiIsImR1cmF0aW9uIiwidGV4dHVyZSIsInBhdGgiLCJpbWFnZUZpbGVzIiwibmFtZSIsImltYWdlIiwiZm9nIiwiY29sb3IiLCJuZWFyIiwiY2FtZXJhIiwiZm92IiwiZmFyIiwiYXNwZWN0Iiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicG9zWCIsInBvc1kiLCJwb3NaIiwiY29udHJvbHMiLCJhdXRvUm90YXRlIiwiYXV0b1JvdGF0ZVNwZWVkIiwicm90YXRlU3BlZWQiLCJ6b29tU3BlZWQiLCJtaW5EaXN0YW5jZSIsIm1heERpc3RhbmNlIiwibWluUG9sYXJBbmdsZSIsIk1hdGgiLCJQSSIsIm1heFBvbGFyQW5nbGUiLCJtaW5BemltdXRoQW5nbGUiLCJJbmZpbml0eSIsIm1heEF6aW11dGhBbmdsZSIsImVuYWJsZURhbXBpbmciLCJkYW1waW5nRmFjdG9yIiwiZW5hYmxlWm9vbSIsInRhcmdldCIsIngiLCJ5IiwieiIsImFtYmllbnRMaWdodCIsImVuYWJsZWQiLCJkaXJlY3Rpb25hbExpZ2h0IiwiaW50ZW5zaXR5Iiwic2hhZG93IiwiaGVscGVyRW5hYmxlZCIsImJpYXMiLCJtYXBXaWR0aCIsIm1hcEhlaWdodCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsInBvaW50TGlnaHQiLCJkaXN0YW5jZSIsImRlY2F5IiwiaGVtaUxpZ2h0IiwiZ3JvdW5kQ29sb3IiLCJwaHlzaWNzIiwid29ybGQiLCJncmF2aXR5IiwiYmFsbCIsIm1hc3MiLCJyYWRpdXMiLCJpbml0aWFsUG9zaXRpb24iLCJjb250YWluZXIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiaW5pdCIsInJlbmRlcmVyIiwid2lkdGgiLCJkb21FbGVtZW50IiwiaGVpZ2h0IiwidGhpcyIsInRocmVlQ2FtZXJhIiwicG9zaXRpb24iLCJzZXQiLCJ1cGRhdGVTaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVwZGF0ZVByb2plY3Rpb25NYXRyaXgiLCJ0aHJlZUNvbnRyb2xzIiwic2NlbmUiLCJtYXplRGltZW5zaW9uIiwiZ2VvIiwiZGltZW5zaW9uIiwibWFrZVNwaGVyZSIsIndpZHRoU2VnbWVudHMiLCJoZWlnaHRTZWdtZW50cyIsIm1ha2VQbGFuZSIsIm1ha2VCb3giLCJkZXB0aCIsImRlcHRoU2VnbWVudHMiLCJtYWtlQmFsbCIsIm1ha2VHcm91bmQiLCJtYWtlV2FsbHMiLCJtYXplQ29vcmRpbmF0ZXMiLCJvcmlnaW5IZWxwZXIiLCJPYmplY3QzRCIsInBvc2l0aW9uSGVscGVyIiwiZ2VvbWV0cmllcyIsImkiLCJsZW5ndGgiLCJqIiwiYm94R2VvbWV0cnkiLCJhZGQiLCJ1cGRhdGVXb3JsZE1hdHJpeCIsImFwcGx5TWF0cml4NCIsIm1hdHJpeFdvcmxkIiwicHVzaCIsIkJ1ZmZlckdlb21ldHJ5VXRpbHMiLCJ2aXNpYmxlIiwicGxhY2UiLCJsaWdodE5hbWUiLCJtYWtlUGhvbmdNYXRlcmlhbCIsIm1hcCIsImZvcmNlIiwiZHQiLCJmaXhlZFRpbWVTdGVwIiwibWF4U3ViU3RlcHMiLCJzZXR1cFdvcmxkIiwibWF6ZSIsImNyZWF0ZVplcm9HcmF2aXR5V29ybGQiLCJjcmVhdGVGcmljdGlvblN1cmZhY2VzIiwiY3JlYXRlR3JvdW5kIiwiY3JlYXRlQmFsbCIsImNyZWF0ZVdhbGwiLCJicm9hZHBoYXNlIiwiYmFsbE1hdGVyaWFsIiwiZ3JvdW5kTWF0ZXJpYWwiLCJ3YWxsTWF0ZXJpYWwiLCJncm91bmRfZ3JvdW5kX2NtIiwiZnJpY3Rpb24iLCJyZXN0aXR1dGlvbiIsImNvbnRhY3RFcXVhdGlvblN0aWZmbmVzcyIsImNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb24iLCJmcmljdGlvbkVxdWF0aW9uU3RpZmZuZXNzIiwiYWRkQ29udGFjdE1hdGVyaWFsIiwic2xpcHBlcnlfZ3JvdW5kX2NtIiwiYmFsbF93YWxsX2NtIiwibWF0ZXJpYWwiLCJjb2xsaXNpb25GaWx0ZXJHcm91cCIsIkdST1VQMSIsImNvbGxpc2lvbkZpbHRlck1hc2siLCJHUk9VUDIiLCJsaW5lYXJEYW1waW5nIiwiYW5ndWxhckRhbXBpbmciLCJzaGFwZSIsInR5cGUiLCJhZGRCb2R5IiwiZSIsImNvbnNvbGUiLCJsb2ciLCJib2R5IiwiZ3JvdW5kU2hhcGUiLCJncm91bmRCb2R5IiwiYWRkU2hhcGUiLCJzZXRaZXJvIiwid2FsbEJvZHkiLCJtb3ZlQmFsbCIsImRpcmVjdGlvbiIsImRpcmVjdGlvblZlY3RvciIsIm9yaWdpbiIsImFwcGx5SW1wdWxzZSIsInVwZGF0ZVBoeXNpY3MiLCJ0aW1lIiwic3RlcCIsInRocmVlUmVuZGVyZXIiLCJhbnRpYWxpYXMiLCJzZXRDbGVhckNvbG9yIiwic2V0UGl4ZWxSYXRpbyIsImRldmljZVBpeGVsUmF0aW8iLCJhcHBlbmRDaGlsZCIsInNoYWRvd01hcCIsImNhcGFiaWxpdGllcyIsImdldE1heEFuaXNvdHJvcHkiLCJzZXRTaXplIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJyZW5kZXIiLCJkaXJlY3Rpb25zIiwiY2xvY2siLCJnZW9tZXRyeSIsImxpZ2h0cyIsIlBoeXNpY3MiLCJnZW5lcmF0ZVNxdWFyZU1hemUiLCJzZXR1cFBoeXNpY3MiLCJsb2FkIiwidGhlbiIsInNldHVwUmVuZGVyV29ybGQiLCJiYWxsTWVzaCIsImdhbWVTdGF0ZSIsImJpbmQiLCJEYXRlIiwibm93IiwiZ3JvdW5kR2VvbWV0cnkiLCJ3YWxsR2VvbWV0cnkiLCJ0ZXh0dXJlcyIsImdyb3VuZFRleHR1cmUiLCJiYWxsVGV4dHVyZSIsImJyaWNrVGV4dHVyZSIsImJveE1hdGVyaWFsIiwibWVyZ2VkTWVzaCIsIndyYXBTIiwid3JhcFQiLCJyZXBlYXQiLCJwbGFuZU1lc2giLCJyb3RhdGlvbiIsInVwZGF0ZVJlbmRlcldvcmxkIiwiY29weSIsInF1YXRlcm5pb24iLCJmaWVsZCIsIkFycmF5IiwiaXRlcmF0ZSIsImRpciIsImZsb29yIiwicmFuZG9tIiwicG9pbnRMaWdodEludGVuc2l0eSIsImFicyIsIm1hemVYIiwibWF6ZVkiLCJsYXN0WCIsImxhc3RZIiwidmFsdWUiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VGltZW91dCIsImZvcm1zIiwic3VibWl0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW92ZUhhbmRsZXIiLCJyZXF1ZXN0SW50ZXJ2YWwiLCJmbiIsImRlbGF5IiwicmVxdWVzdEFuaW1GcmFtZSIsImNhbGxiYWNrIiwic3RhcnQiLCJnZXRUaW1lIiwiaGFuZGxlIiwibG9vcCIsImNhbGwiLCJwcmVzc0FuZEhvbGQiLCJlbGVtZW50IiwiY2IiLCJ0aW1lciIsInByZXNzaW5nRG93biIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJkZXByZXNzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ0aW1lb3V0Iiwia2V5Ym9hcmQiLCJvbk1vdXNlTW92ZSIsIm9uTW91c2VMZWF2ZSIsIm9uTW91c2VPdmVyIiwiZXZlbnRNYXRjaGVzIiwidXBLZXkiLCJxdWVyeVNlbGVjdG9yIiwibGVmdEtleSIsImRvd25LZXkiLCJyaWdodEtleSIsImNsZWFyVGltZW91dCIsImxvYWRlciIsInByb21pc2VBcnJheSIsInNldFBhdGgiLCJmb3JFYWNoIiwiaW1hZ2VGaWxlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJhbmlzb3Ryb3B5IiwibW9kZWxPQkoiLCJ4aHIiLCJFcnJvciIsIk9iamVjdCIsImtleXMiLCJyZWFzb24iLCJjb21wdXRlVGFuZ2VudHMiLCJ3YXJuIiwibWVyZ2VCdWZmZXJHZW9tZXRyaWVzIiwidXNlR3JvdXBzIiwiaXNJbmRleGVkIiwiaW5kZXgiLCJhdHRyaWJ1dGVzVXNlZCIsIlNldCIsImF0dHJpYnV0ZXMiLCJtb3JwaEF0dHJpYnV0ZXNVc2VkIiwibW9ycGhBdHRyaWJ1dGVzIiwibW9ycGhUYXJnZXRzUmVsYXRpdmUiLCJtZXJnZWRHZW9tZXRyeSIsIkJ1ZmZlckdlb21ldHJ5Iiwib2Zmc2V0IiwiYXR0cmlidXRlc0NvdW50IiwiZXJyb3IiLCJoYXMiLCJ1bmRlZmluZWQiLCJzaXplIiwidXNlckRhdGEiLCJtZXJnZWRVc2VyRGF0YSIsImNvdW50IiwiYWRkR3JvdXAiLCJpbmRleE9mZnNldCIsIm1lcmdlZEluZGV4IiwiZ2V0WCIsInNldEluZGV4IiwibWVyZ2VkQXR0cmlidXRlIiwibWVyZ2VCdWZmZXJBdHRyaWJ1dGVzIiwic2V0QXR0cmlidXRlIiwibnVtTW9ycGhUYXJnZXRzIiwibW9ycGhBdHRyaWJ1dGVzVG9NZXJnZSIsIm1lcmdlZE1vcnBoQXR0cmlidXRlIiwiVHlwZWRBcnJheSIsIml0ZW1TaXplIiwibm9ybWFsaXplZCIsImFycmF5TGVuZ3RoIiwiYXR0cmlidXRlIiwiaXNJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsImFycmF5IiwiY29uc3RydWN0b3IiLCJCdWZmZXJBdHRyaWJ1dGUiLCJpbnRlcmxlYXZlQXR0cmlidXRlcyIsInN0cmlkZSIsImwiLCJpbnRlcmxlYXZlZEJ1ZmZlciIsIkludGVybGVhdmVkQnVmZmVyIiwicmVzIiwiZ2V0dGVycyIsInNldHRlcnMiLCJpYmEiLCJJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZSIsImMiLCJrIiwiZXN0aW1hdGVCeXRlc1VzZWQiLCJtZW0iLCJhdHRyIiwiZ2V0QXR0cmlidXRlIiwiQllURVNfUEVSX0VMRU1FTlQiLCJpbmRpY2VzIiwiZ2V0SW5kZXgiLCJtZXJnZVZlcnRpY2VzIiwidG9sZXJhbmNlIiwibWF4IiwiTnVtYmVyIiwiRVBTSUxPTiIsImhhc2hUb0luZGV4IiwicG9zaXRpb25zIiwidmVydGV4Q291bnQiLCJuZXh0SW5kZXgiLCJhdHRyaWJ1dGVOYW1lcyIsImF0dHJBcnJheXMiLCJtb3JwaEF0dHJzQXJyYXlzIiwibmV3SW5kaWNlcyIsIm1vcnBoQXR0ciIsImZpbGwiLCJkZWNpbWFsU2hpZnQiLCJsb2cxMCIsInNoaWZ0TXVsdGlwbGllciIsInBvdyIsImhhc2giLCJuZXdhcnJheSIsIm5ld01vcnBoQXJyYXlzIiwiZ2V0dGVyRnVuYyIsIm0iLCJtbCIsInJlc3VsdCIsImNsb25lIiwib2xkQXR0cmlidXRlIiwiYnVmZmVyIiwib2xkTW9ycGhBdHRyaWJ1dGUiLCJtb3JwaEF0dHJpYnV0ZSIsInRvVHJpYW5nbGVzRHJhd01vZGUiLCJkcmF3TW9kZSIsIlRyaWFuZ2xlc0RyYXdNb2RlIiwiVHJpYW5nbGVGYW5EcmF3TW9kZSIsIlRyaWFuZ2xlU3RyaXBEcmF3TW9kZSIsIm51bWJlck9mVHJpYW5nbGVzIiwibmV3R2VvbWV0cnkiLCJjbGVhckdyb3VwcyIsImNvbXB1dGVNb3JwaGVkQXR0cmlidXRlcyIsIm9iamVjdCIsImlzQnVmZmVyR2VvbWV0cnkiLCJfdkEiLCJWZWN0b3IzIiwiX3ZCIiwiX3ZDIiwiX3RlbXBBIiwiX3RlbXBCIiwiX3RlbXBDIiwiX21vcnBoQSIsIl9tb3JwaEIiLCJfbW9ycGhDIiwiX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhIiwiYSIsImIiLCJtb2RpZmllZEF0dHJpYnV0ZUFycmF5IiwiZnJvbUJ1ZmZlckF0dHJpYnV0ZSIsIm1vcnBoSW5mbHVlbmNlcyIsIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsIm1vcnBoVGFyZ2V0cyIsImluZmx1ZW5jZSIsIm1vcnBoIiwiYWRkU2NhbGVkVmVjdG9yIiwic3ViIiwiaXNTa2lubmVkTWVzaCIsImJvbmVUcmFuc2Zvcm0iLCJpbCIsImpsIiwiZ3JvdXAiLCJncm91cE1hdGVyaWFsIiwicG9zaXRpb25BdHRyaWJ1dGUiLCJtb3JwaFBvc2l0aW9uIiwibm9ybWFsQXR0cmlidXRlIiwibm9ybWFsIiwibW9ycGhOb3JtYWwiLCJncm91cHMiLCJkcmF3UmFuZ2UiLCJtb2RpZmllZFBvc2l0aW9uIiwiRmxvYXQzMkFycmF5IiwibW9kaWZpZWROb3JtYWwiLCJpc0FycmF5IiwibWF0ZXJpYWxJbmRleCIsIm1pbiIsIm1vcnBoZWRQb3NpdGlvbkF0dHJpYnV0ZSIsIkZsb2F0MzJCdWZmZXJBdHRyaWJ1dGUiLCJtb3JwaGVkTm9ybWFsQXR0cmlidXRlIiwiY2FudmFzIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwid2ViZ2wiLCJjcmVhdGVFbGVtZW50IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiZ2V0Q29udGV4dCIsIndvcmtlcnMiLCJXb3JrZXIiLCJmaWxlYXBpIiwiRmlsZSIsIkZpbGVSZWFkZXIiLCJGaWxlTGlzdCIsIkJsb2IiLCJnZXRXZWJHTEVycm9yTWVzc2FnZSIsImlkIiwic3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250V2VpZ2h0IiwidGV4dEFsaWduIiwiYmFja2dyb3VuZCIsInBhZGRpbmciLCJtYXJnaW4iLCJpbm5lckhUTUwiLCJqb2luIiwiYWRkR2V0V2ViR0xNZXNzYWdlIiwicGFyYW1ldGVycyIsInBhcmVudCIsInBhcmVudEVsZW1lbnQiLCJ0aHJvdHRsZSIsInRocmVzaGhvbGQiLCJzY29wZSIsImxhc3QiLCJkZWZlclRpbWVyIiwiY29udGV4dCIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsImxvZ1Byb2dyZXNzIiwibGVuZ3RoQ29tcHV0YWJsZSIsInBlcmNlbnRDb21wbGV0ZSIsImxvYWRlZCIsInRvdGFsIiwicm91bmQiLCJsb2dFcnJvciIsImhhbmRsZUNvbG9yQ2hhbmdlIiwicmVwbGFjZSIsInNldEhleCIsInBhcnNlSW50IiwidXBkYXRlIiwibWVzaCIsIm5lZWRzVXBkYXRlIiwiTWF0ZXJpYWwiLCJzaWRlIiwibm9ybWFscyIsImNvbG9ycyIsInVwZGF0ZVRleHR1cmUiLCJtYXRlcmlhbEtleSIsImtleSIsIkFMSUFTIiwidXAiLCJkb3duIiwic3BhY2UiLCJ0YWIiLCJlc2NhcGUiLCJrZXlDb2RlcyIsIm9uS2V5Q2hhbmdlIiwib25CbHVyIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwcm9wIiwia2V5Q29kZSIsInByZXNzZWQiLCJrZXlEZXNjIiwic3BsaXQiLCJpbmRleE9mIiwidG9VcHBlckNhc2UiLCJjaGFyQ29kZUF0IiwiYWxpYXNlcyIsImFsaWFzS2V5cyIsInNoaWZ0S2V5IiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJfY2hhbmdlRXZlbnQiLCJfc3RhcnRFdmVudCIsIl9lbmRFdmVudCIsInF1YXQiLCJxdWF0SW52ZXJzZSIsImxhc3RQb3NpdGlvbiIsImxhc3RRdWF0ZXJuaW9uIiwidHdvUEkiLCJtaW5ab29tIiwibWF4Wm9vbSIsImVuYWJsZVJvdGF0ZSIsImVuYWJsZVBhbiIsInBhblNwZWVkIiwic2NyZWVuU3BhY2VQYW5uaW5nIiwia2V5UGFuU3BlZWQiLCJMRUZUIiwiVVAiLCJSSUdIVCIsIkJPVFRPTSIsIm1vdXNlQnV0dG9ucyIsIk1JRERMRSIsInRvdWNoZXMiLCJPTkUiLCJUV08iLCJ0YXJnZXQwIiwicG9zaXRpb24wIiwiem9vbTAiLCJ6b29tIiwiX2RvbUVsZW1lbnRLZXlFdmVudHMiLCJnZXRQb2xhckFuZ2xlIiwic3BoZXJpY2FsIiwicGhpIiwiZ2V0QXppbXV0aGFsQW5nbGUiLCJ0aGV0YSIsImxpc3RlblRvS2V5RXZlbnRzIiwib25LZXlEb3duIiwic2F2ZVN0YXRlIiwicmVzZXQiLCJkaXNwYXRjaEV2ZW50Iiwic3RhdGUiLCJTVEFURSIsIk5PTkUiLCJzZXRGcm9tVW5pdFZlY3RvcnMiLCJpbnZlcnQiLCJhcHBseVF1YXRlcm5pb24iLCJzZXRGcm9tVmVjdG9yMyIsInJvdGF0ZUxlZnQiLCJzcGhlcmljYWxEZWx0YSIsImlzRmluaXRlIiwibWFrZVNhZmUiLCJzY2FsZSIsInBhbk9mZnNldCIsInNldEZyb21TcGhlcmljYWwiLCJsb29rQXQiLCJtdWx0aXBseVNjYWxhciIsInpvb21DaGFuZ2VkIiwiZGlzdGFuY2VUb1NxdWFyZWQiLCJFUFMiLCJkb3QiLCJkaXNwb3NlIiwib25Db250ZXh0TWVudSIsIm9uUG9pbnRlckRvd24iLCJvbk1vdXNlV2hlZWwiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoRW5kIiwib25Ub3VjaE1vdmUiLCJvd25lckRvY3VtZW50Iiwib25Qb2ludGVyTW92ZSIsIm9uUG9pbnRlclVwIiwiUk9UQVRFIiwiRE9MTFkiLCJQQU4iLCJUT1VDSF9ST1RBVEUiLCJUT1VDSF9QQU4iLCJUT1VDSF9ET0xMWV9QQU4iLCJUT1VDSF9ET0xMWV9ST1RBVEUiLCJyb3RhdGVTdGFydCIsInJvdGF0ZUVuZCIsInJvdGF0ZURlbHRhIiwicGFuU3RhcnQiLCJwYW5FbmQiLCJwYW5EZWx0YSIsImRvbGx5U3RhcnQiLCJkb2xseUVuZCIsImRvbGx5RGVsdGEiLCJnZXRab29tU2NhbGUiLCJhbmdsZSIsInJvdGF0ZVVwIiwidiIsInBhbkxlZnQiLCJvYmplY3RNYXRyaXgiLCJzZXRGcm9tTWF0cml4Q29sdW1uIiwicGFuVXAiLCJjcm9zc1ZlY3RvcnMiLCJwYW4iLCJkZWx0YVgiLCJkZWx0YVkiLCJpc1BlcnNwZWN0aXZlQ2FtZXJhIiwidGFyZ2V0RGlzdGFuY2UiLCJ0YW4iLCJjbGllbnRIZWlnaHQiLCJtYXRyaXgiLCJpc09ydGhvZ3JhcGhpY0NhbWVyYSIsImNsaWVudFdpZHRoIiwiZG9sbHlPdXQiLCJkb2xseVNjYWxlIiwiZG9sbHlJbiIsImhhbmRsZU1vdXNlRG93blJvdGF0ZSIsImNsaWVudFgiLCJjbGllbnRZIiwiaGFuZGxlTW91c2VEb3duUGFuIiwiaGFuZGxlVG91Y2hTdGFydFJvdGF0ZSIsInBhZ2VYIiwicGFnZVkiLCJoYW5kbGVUb3VjaFN0YXJ0UGFuIiwiaGFuZGxlVG91Y2hTdGFydERvbGx5IiwiZHgiLCJkeSIsInNxcnQiLCJoYW5kbGVUb3VjaE1vdmVSb3RhdGUiLCJzdWJWZWN0b3JzIiwiaGFuZGxlVG91Y2hNb3ZlUGFuIiwiaGFuZGxlVG91Y2hNb3ZlRG9sbHkiLCJwb2ludGVyVHlwZSIsIm1vdXNlQWN0aW9uIiwiZm9jdXMiLCJidXR0b24iLCJoYW5kbGVNb3VzZURvd25Eb2xseSIsIm9uTW91c2VEb3duIiwiaGFuZGxlTW91c2VNb3ZlUm90YXRlIiwiaGFuZGxlTW91c2VNb3ZlRG9sbHkiLCJoYW5kbGVNb3VzZU1vdmVQYW4iLCJoYW5kbGVNb3VzZVdoZWVsIiwiY29kZSIsImhhbmRsZUtleURvd24iLCJoYW5kbGVUb3VjaFN0YXJ0RG9sbHlQYW4iLCJoYW5kbGVUb3VjaFN0YXJ0RG9sbHlSb3RhdGUiLCJoYW5kbGVUb3VjaE1vdmVEb2xseVBhbiIsImhhbmRsZVRvdWNoTW92ZURvbGx5Um90YXRlIiwicGFzc2l2ZSIsIk9yYml0Q29udHJvbHMiLCJNYXBDb250cm9scyJdLCJtYXBwaW5ncyI6Ijt1TUFHQSxTQUNFQSxPQUFPLEVBQ1BDLGdCQUFnQixFQUNoQkMsVUFBVSxFQUNWQyxZQUFZLEVBQ1pDLFlBQVksRUFDWkMsZUFBZSxFQUNmQyxhQUFhLEVBQ2JDLGNBQWUsRUFDZkMsSUFBSyxFQUNMQyxPLHdEQUFRQywrQkFDUkMsU0FBVSxJQUNWQyxRQUFTLENBQ1BDLEtBQU0scUJBQ05DLFdBQVksQ0FDVixDQUFFQyxLQUFNLFFBQVNDLE1BQU8sc0JBQ3hCLENBQUVELEtBQU0sT0FBUUMsTUFBTyxZQUN2QixDQUFFRCxLQUFNLE9BQVFDLE1BQU8sY0FHM0JDLElBQUssQ0FDSEMsTUFBTyxTQUNQQyxLQUFN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LGVBQzFCLEVBQUtJLFFBQVFDLElBQU0sWUFDbkIsRUFBS0QsUUFBUUUsSUFBTSxxQixFQUV2QixPQVYwQixPQVUxQixFQVZBLENBQTBCcUgsR0FhMUIsY0FBb0JDLEVBRXBCLGdCQUFzQkQsSSIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUV0VFTiBmcm9tIFwiQHR3ZWVuanMvdHdlZW4uanNcIjtcclxuXHJcbi8vIFRoaXMgb2JqZWN0IGNvbnRhaW5zIHRoZSBzdGF0ZSBvZiB0aGUgYXBwXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBpc0RldjogZmFsc2UsXHJcbiAgaXNTaG93aW5nU3RhdHM6IHRydWUsXHJcbiAgaXNMb2FkZWQ6IGZhbHNlLFxyXG4gIGlzVHdlZW5pbmc6IGZhbHNlLFxyXG4gIGlzUm90YXRpbmc6IHRydWUsXHJcbiAgaXNNb3VzZU1vdmluZzogZmFsc2UsXHJcbiAgaXNNb3VzZU92ZXI6IGZhbHNlLFxyXG4gIG1heEFuaXNvdHJvcHk6IDEsXHJcbiAgZHByOiAxLFxyXG4gIGVhc2luZzogVFdFRU4uRWFzaW5nLlF1YWRyYXRpYy5Jbk91dCxcclxuICBkdXJhdGlvbjogNTAwLFxyXG4gIHRleHR1cmU6IHtcclxuICAgIHBhdGg6IFwiLi9hc3NldHMvdGV4dHVyZXMvXCIsXHJcbiAgICBpbWFnZUZpbGVzOiBbXHJcbiAgICAgIHsgbmFtZTogXCJncmFzc1wiLCBpbWFnZTogXCJmb290YmFsbF9ncmFzcy5wbmdcIiB9LFxyXG4gICAgICB7IG5hbWU6IFwiYmFsbFwiLCBpbWFnZTogXCJiYWxsLnBuZ1wiIH0sXHJcbiAgICAgIHsgbmFtZTogXCJ3YWxsXCIsIGltYWdlOiBcImxvZ28ucG5nXCIgfSxcclxuICAgIF0sXHJcbiAgfSxcclxuICBmb2c6IHtcclxuICAgIGNvbG9yOiAweGZmZmZmZixcclxuICAgIG5lYXI6IDAuMDAwOCxcclxuICB9LFxyXG4gIGNhbWVyYToge1xyXG4gICAgZm92OiA2MCxcclxuICAgIG5lYXI6IDIsXHJcbiAgICBmYXI6IDEwMDAsXHJcbiAgICBhc3BlY3Q6IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0LFxyXG4gICAgcG9zWDogMSxcclxuICAgIHBvc1k6IDEsXHJcbiAgICBwb3NaOiA1LFxyXG4gIH0sXHJcbiAgY29udHJvbHM6IHtcclxuICAgIGF1dG9Sb3RhdGU6IGZhbHNlLFxyXG4gICAgYXV0b1JvdGF0ZVNwZWVkOiAtMC41LFxyXG4gICAgcm90YXRlU3BlZWQ6IDAuNSxcclxuICAgIHpvb21TcGVlZDogMC44LFxyXG4gICAgbWluRGlzdGFuY2U6IDEwLFxyXG4gICAgbWF4RGlzdGFuY2U6IDYwMDAsXHJcbiAgICBtaW5Qb2xhckFuZ2xlOiBNYXRoLlBJIC8gNSxcclxuICAgIG1heFBvbGFyQW5nbGU6IE1hdGguUEkgLyAyLFxyXG4gICAgbWluQXppbXV0aEFuZ2xlOiAtSW5maW5pdHksXHJcbiAgICBtYXhBemltdXRoQW5nbGU6IEluZmluaXR5LFxyXG4gICAgZW5hYmxlRGFtcGluZzogdHJ1ZSxcclxuICAgIGRhbXBpbmdGYWN0b3I6IDAuNSxcclxuICAgIGVuYWJsZVpvb206IHRydWUsXHJcbiAgICB0YXJnZXQ6IHtcclxuICAgICAgeDogMCxcclxuICAgICAgeTogMCxcclxuICAgICAgejogMCxcclxuICAgIH0sXHJcbiAgfSxcclxuICBhbWJpZW50TGlnaHQ6IHtcclxuICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgY29sb3I6IDB4NDA0MDQwLFxyXG4gIH0sXHJcbiAgZGlyZWN0aW9uYWxMaWdodDoge1xyXG4gICAgZW5hYmxlZDogdHJ1ZSxcclxuICAgIGNvbG9yOiAweGYwZjBmMCxcclxuICAgIGludGVuc2l0eTogMC40LFxyXG4gICAgeDogLTc1LFxyXG4gICAgeTogMjgwLFxyXG4gICAgejogMTUwLFxyXG4gIH0sXHJcbiAgc2hhZG93OiB7XHJcbiAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgaGVscGVyRW5hYmxlZDogdHJ1ZSxcclxuICAgIGJpYXM6IDAsXHJcbiAgICBtYXBXaWR0aDogMjA0OCxcclxuICAgIG1hcEhlaWdodDogMjA0OCxcclxuICAgIG5lYXI6IDI1MCxcclxuICAgIGZhcjogNDAwLFxyXG4gICAgdG9wOiAxMDAsXHJcbiAgICByaWdodDogMTAwLFxyXG4gICAgYm90dG9tOiAtMTAwLFxyXG4gICAgbGVmdDogLTEwMCxcclxuICB9LFxyXG4gIHBvaW50TGlnaHQ6IHtcclxuICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICBjb2xvcjogMHhmZmZmZmYsXHJcbiAgICBpbnRlbnNpdHk6IDAuNSxcclxuICAgIGRpc3RhbmNlOiAxMCxcclxuICAgIGRlY2F5OiAzLFxyXG4gICAgeDogMSxcclxuICAgIHk6IDEsXHJcbiAgICB6OiAxLjMsXHJcbiAgfSxcclxuICBoZW1pTGlnaHQ6IHtcclxuICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICBjb2xvcjogMHhjOGM4YzgsXHJcbiAgICBncm91bmRDb2xvcjogMHhmZmZmZmYsXHJcbiAgICBpbnRlbnNpdHk6IDAuNTUsXHJcbiAgICB4OiAwLFxyXG4gICAgeTogMCxcclxuICAgIHo6IDAsXHJcbiAgfSxcclxuICBwaHlzaWNzOiB7XHJcbiAgICB3b3JsZDoge1xyXG4gICAgICBncmF2aXR5OiB7XHJcbiAgICAgICAgeDogMCxcclxuICAgICAgICB5OiAwLFxyXG4gICAgICAgIHo6IDAsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgYmFsbDoge1xyXG4gICAgICBtYXNzOiAxLFxyXG4gICAgICByYWRpdXM6IDAuMjUsXHJcbiAgICAgIGluaXRpYWxQb3NpdGlvbjoge1xyXG4gICAgICAgIHg6IDEsXHJcbiAgICAgICAgeTogMSxcclxuICAgICAgICB6OiAwLjI1LFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9LFxyXG59O1xyXG4iLCJpbXBvcnQgQ29uZmlnIGZyb20gXCIuL2RhdGEvY29uZmlnXCI7XHJcbmltcG9ydCBEZXRlY3RvciBmcm9tIFwiLi91dGlscy9kZXRlY3RvclwiO1xyXG5pbXBvcnQgTWFpbiBmcm9tIFwiLi9hcHAvbWFpblwiO1xyXG5cclxuLy8gU3R5bGVzXHJcbmltcG9ydCBcIi4vLi4vY3NzL2FwcC5zY3NzXCI7XHJcblxyXG4vLyBDaGVjayBlbnZpcm9ubWVudCBhbmQgc2V0IHRoZSBDb25maWcgaGVscGVyXHJcbi8vIGlmKGdsb2JhbC5wcm9jZXNzLmVudi5fX0VOVl9fID09PSAnZGV2Jykge1xyXG4vLyAgIGNvbnNvbGUubG9nKCctLS0tLSBSVU5OSU5HIElOIERFViBFTlZJUk9OTUVOVCEgLS0tLS0nKTtcclxuXHJcbi8vICAgQ29uZmlnLmlzRGV2ID0gdHJ1ZTtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gaW5pdCgpIHtcclxuICAvLyBDaGVjayBmb3Igd2ViR0wgY2FwYWJpbGl0aWVzXHJcbiAgaWYgKCFEZXRlY3Rvci53ZWJnbCkge1xyXG4gICAgRGV0ZWN0b3IuYWRkR2V0V2ViR0xNZXNzYWdlKCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwQ29udGFpbmVyXCIpO1xyXG4gICAgbmV3IE1haW4oY29udGFpbmVyKTtcclxuICB9XHJcbn1cclxuXHJcbmluaXQoKTtcclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcblxyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5cclxuLy8gQ2xhc3MgdGhhdCBjcmVhdGVzIGFuZCB1cGRhdGVzIHRoZSBtYWluIGNhbWVyYVxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYW1lcmEge1xyXG4gIHRocmVlQ2FtZXJhO1xyXG4gIGNvbnN0cnVjdG9yKHJlbmRlcmVyOiBUSFJFRS5XZWJHTFJlbmRlcmVyKSB7XHJcbiAgICBjb25zdCB3aWR0aCA9IHJlbmRlcmVyLmRvbUVsZW1lbnQud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSByZW5kZXJlci5kb21FbGVtZW50LmhlaWdodDtcclxuXHJcbiAgICAvLyBDcmVhdGUgYW5kIHBvc2l0aW9uIGEgUGVyc3BlY3RpdmUgQ2FtZXJhXHJcbiAgICB0aGlzLnRocmVlQ2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKFxyXG4gICAgICBDb25maWcuY2FtZXJhLmZvdixcclxuICAgICAgd2lkdGggLyBoZWlnaHQsXHJcbiAgICAgIENvbmZpZy5jYW1lcmEubmVhcixcclxuICAgICAgQ29uZmlnLmNhbWVyYS5mYXJcclxuICAgICk7XHJcbiAgICB0aGlzLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnNldChcclxuICAgICAgQ29uZmlnLmNhbWVyYS5wb3NYLFxyXG4gICAgICBDb25maWcuY2FtZXJhLnBvc1ksXHJcbiAgICAgIENvbmZpZy5jYW1lcmEucG9zWlxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBJbml0aWFsIHNpemluZ1xyXG4gICAgdGhpcy51cGRhdGVTaXplKHJlbmRlcmVyKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHRoaXMudXBkYXRlU2l6ZShyZW5kZXJlciksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVNpemUocmVuZGVyZXI6IFRIUkVFLlJlbmRlcmVyKSB7XHJcbiAgICAvLyBVcGRhdGUgY2FtZXJhIGFzcGVjdCByYXRpbyB3aXRoIHdpbmRvdyBhc3BlY3QgcmF0aW9cclxuICAgIHRoaXMudGhyZWVDYW1lcmEuYXNwZWN0ID1cclxuICAgICAgcmVuZGVyZXIuZG9tRWxlbWVudC53aWR0aCAvIHJlbmRlcmVyLmRvbUVsZW1lbnQuaGVpZ2h0O1xyXG5cclxuICAgIC8vIEFsd2F5cyBjYWxsIHVwZGF0ZVByb2plY3Rpb25NYXRyaXggb24gY2FtZXJhIGNoYW5nZVxyXG4gICAgdGhpcy50aHJlZUNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG5cclxuaW1wb3J0IFwiLi4vLi4vdXRpbHMvb3JiaXRDb250cm9sc1wiO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5cclxuLy8gQ29udHJvbHMgYmFzZWQgb24gb3JiaXQgY29udHJvbHNcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udHJvbHMge1xyXG4gIHRocmVlQ29udHJvbHM6IFRIUkVFLk9yYml0Q29udHJvbHM7XHJcbiAgY29uc3RydWN0b3IoY2FtZXJhOiBUSFJFRS5DYW1lcmEsIGNvbnRhaW5lcjogSFRNTEVsZW1lbnQpIHtcclxuICAgIC8vIE9yYml0IGNvbnRyb2xzIGZpcnN0IG5lZWRzIHRvIHBhc3MgaW4gVEhSRUUgdG8gY29uc3RydWN0b3JcclxuICAgIC8vIGNvbnN0IG9yYml0Q29udHJvbHMgPSBuZXcgVEhSRUUuT3JiaXRDb250cm9scyhjYW1lcmEsIGNvbnRhaW5lcik7XHJcbiAgICAvLyB0aGlzLnRocmVlQ29udHJvbHMgPSBvcmJpdENvbnRyb2xzO1xyXG5cclxuICAgIC8vdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLnRhcmdldC5zZXQoXHJcbiAgICAgIENvbmZpZy5jb250cm9scy50YXJnZXQueCxcclxuICAgICAgQ29uZmlnLmNvbnRyb2xzLnRhcmdldC55LFxyXG4gICAgICBDb25maWcuY29udHJvbHMudGFyZ2V0LnpcclxuICAgICk7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuYXV0b1JvdGF0ZSA9IENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmF1dG9Sb3RhdGVTcGVlZCA9IENvbmZpZy5jb250cm9scy5hdXRvUm90YXRlU3BlZWQ7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMucm90YXRlU3BlZWQgPSBDb25maWcuY29udHJvbHMucm90YXRlU3BlZWQ7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuem9vbVNwZWVkID0gQ29uZmlnLmNvbnRyb2xzLnpvb21TcGVlZDtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5taW5EaXN0YW5jZSA9IENvbmZpZy5jb250cm9scy5taW5EaXN0YW5jZTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5tYXhEaXN0YW5jZSA9IENvbmZpZy5jb250cm9scy5tYXhEaXN0YW5jZTtcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5taW5Qb2xhckFuZ2xlID0gQ29uZmlnLmNvbnRyb2xzLm1pblBvbGFyQW5nbGU7XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMubWF4UG9sYXJBbmdsZSA9IENvbmZpZy5jb250cm9scy5tYXhQb2xhckFuZ2xlO1xyXG4gICAgdGhpcy50aHJlZUNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSBDb25maWcuY29udHJvbHMuZW5hYmxlRGFtcGluZztcclxuICAgIHRoaXMudGhyZWVDb250cm9scy5lbmFibGVab29tID0gQ29uZmlnLmNvbnRyb2xzLmVuYWJsZVpvb207XHJcbiAgICB0aGlzLnRocmVlQ29udHJvbHMuZGFtcGluZ0ZhY3RvciA9IENvbmZpZy5jb250cm9scy5kYW1waW5nRmFjdG9yO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuXHJcbmltcG9ydCBNYXRlcmlhbCBmcm9tIFwiLi9tYXRlcmlhbFwiO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5pbXBvcnQgeyBCdWZmZXJHZW9tZXRyeSwgT2JqZWN0M0QgfSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgQnVmZmVyR2VvbWV0cnlVdGlscyB9IGZyb20gXCIuLi8uLi91dGlscy9idWZmZXJHZW9tZXRyeVV0aWxzXCI7XHJcblxyXG4vLyBUaGlzIGhlbHBlciBjbGFzcyBjYW4gYmUgdXNlZCB0byBjcmVhdGUgYW5kIHRoZW4gcGxhY2UgZ2VvbWV0cnkgaW4gdGhlIHNjZW5lXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlb21ldHJ5IHtcclxuICBzY2VuZTogVEhSRUUuU2NlbmU7XHJcbiAgZ2VvOiBUSFJFRS5CdWZmZXJHZW9tZXRyeTtcclxuICBkaW1lbnNpb246IG51bWJlcjtcclxuICBjb25zdHJ1Y3RvcihzY2VuZTogVEhSRUUuU2NlbmUsIG1hemVEaW1lbnNpb246IG51bWJlcikge1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5nZW8gPSBudWxsO1xyXG4gICAgdGhpcy5kaW1lbnNpb24gPSBtYXplRGltZW5zaW9uO1xyXG4gIH1cclxuICBtYWtlU3BoZXJlKHJhZGl1czogbnVtYmVyLCB3aWR0aFNlZ21lbnRzID0gMzIsIGhlaWdodFNlZ21lbnRzID0gMzIpIHtcclxuICAgIHRoaXMuZ2VvID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KHJhZGl1cywgd2lkdGhTZWdtZW50cywgaGVpZ2h0U2VnbWVudHMpO1xyXG4gIH1cclxuICBtYWtlUGxhbmUoXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICB3aWR0aFNlZ21lbnRzID0gMSxcclxuICAgIGhlaWdodFNlZ21lbnRzID0gMVxyXG4gICkge1xyXG4gICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuUGxhbmVHZW9tZXRyeShcclxuICAgICAgd2lkdGgsXHJcbiAgICAgIGhlaWdodCxcclxuICAgICAgd2lkdGhTZWdtZW50cyxcclxuICAgICAgaGVpZ2h0U2VnbWVudHNcclxuICAgICk7XHJcbiAgfVxyXG4gIG1ha2VCb3goXHJcbiAgICB3aWR0aDogbnVtYmVyLFxyXG4gICAgaGVpZ2h0OiBudW1iZXIsXHJcbiAgICBkZXB0aDogbnVtYmVyLFxyXG4gICAgd2lkdGhTZWdtZW50czogbnVtYmVyLFxyXG4gICAgaGVpZ2h0U2VnbWVudHM6IG51bWJlcixcclxuICAgIGRlcHRoU2VnbWVudHM6IG51bWJlclxyXG4gICkge1xyXG4gICAgdGhpcy5nZW8gPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoXHJcbiAgICAgIHdpZHRoLFxyXG4gICAgICBoZWlnaHQsXHJcbiAgICAgIGRlcHRoLFxyXG4gICAgICB3aWR0aFNlZ21lbnRzLFxyXG4gICAgICBoZWlnaHRTZWdtZW50cyxcclxuICAgICAgZGVwdGhTZWdtZW50c1xyXG4gICAgKTtcclxuICB9XHJcbiAgbWFrZUJhbGwoKSB7XHJcbiAgICB0aGlzLm1ha2VTcGhlcmUoMC4yNSwgMzIsIDE2KTtcclxuICAgIHJldHVybiB0aGlzLmdlbztcclxuICB9XHJcbiAgbWFrZUdyb3VuZCgpIHtcclxuICAgIHRoaXMubWFrZVBsYW5lKFxyXG4gICAgICB0aGlzLmRpbWVuc2lvbiAqIDEwLFxyXG4gICAgICB0aGlzLmRpbWVuc2lvbiAqIDEwLFxyXG4gICAgICB0aGlzLmRpbWVuc2lvbixcclxuICAgICAgdGhpcy5kaW1lbnNpb25cclxuICAgICk7XHJcbiAgICByZXR1cm4gdGhpcy5nZW87XHJcbiAgfVxyXG5cclxuICBtYWtlV2FsbHMobWF6ZUNvb3JkaW5hdGVzOiBBcnJheTxBcnJheTxib29sZWFuPj4pIHtcclxuICAgIGNvbnN0IG9yaWdpbkhlbHBlciA9IG5ldyBPYmplY3QzRCgpO1xyXG4gICAgY29uc3QgcG9zaXRpb25IZWxwZXIgPSBuZXcgT2JqZWN0M0QoKTtcclxuICAgIGNvbnN0IGdlb21ldHJpZXM6IEJ1ZmZlckdlb21ldHJ5W10gPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF6ZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF6ZUNvb3JkaW5hdGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKG1hemVDb29yZGluYXRlc1tpXVtqXSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgY29uc3QgYm94R2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoMSwgMSwgMSwgMSwgMSwgMSk7XHJcbiAgICAgICAgICBwb3NpdGlvbkhlbHBlci5wb3NpdGlvbi54ID0gaTtcclxuICAgICAgICAgIHBvc2l0aW9uSGVscGVyLnBvc2l0aW9uLnkgPSBqO1xyXG4gICAgICAgICAgcG9zaXRpb25IZWxwZXIucG9zaXRpb24ueiA9IDA7XHJcbiAgICAgICAgICBwb3NpdGlvbkhlbHBlci5hZGQob3JpZ2luSGVscGVyKTtcclxuICAgICAgICAgIG9yaWdpbkhlbHBlci51cGRhdGVXb3JsZE1hdHJpeCh0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgICBib3hHZW9tZXRyeS5hcHBseU1hdHJpeDQob3JpZ2luSGVscGVyLm1hdHJpeFdvcmxkKTtcclxuICAgICAgICAgIGdlb21ldHJpZXMucHVzaChib3hHZW9tZXRyeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBtZXJnZWRHZW9tID0gQnVmZmVyR2VvbWV0cnlVdGlscy5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoZ2VvbWV0cmllcyk7XHJcbiAgICByZXR1cm4gbWVyZ2VkR2VvbTtcclxuICB9XHJcblxyXG4gIC8vIHBsYWNlKHBvc2l0aW9uLCByb3RhdGlvbikge1xyXG4gIC8vICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgTWF0ZXJpYWwoMHhlZWVlZWUpLnN0YW5kYXJkO1xyXG4gIC8vICAgY29uc3QgbWVzaCA9IG5ldyBUSFJFRS5NZXNoKHRoaXMuZ2VvLCBtYXRlcmlhbCk7XHJcblxyXG4gIC8vICAgLy8gVXNlIEVTNiBzcHJlYWQgdG8gc2V0IHBvc2l0aW9uIGFuZCByb3RhdGlvbiBmcm9tIHBhc3NlZCBpbiBhcnJheVxyXG4gIC8vICAgbWVzaC5wb3NpdGlvbi5zZXQoLi4ucG9zaXRpb24pO1xyXG4gIC8vICAgbWVzaC5yb3RhdGlvbi5zZXQoLi4ucm90YXRpb24pO1xyXG5cclxuICAvLyAgIGlmKENvbmZpZy5zaGFkb3cuZW5hYmxlZCkge1xyXG4gIC8vICAgICBtZXNoLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gIC8vICAgfVxyXG5cclxuICAvLyAgIHRoaXMuc2NlbmUuYWRkKG1lc2gpO1xyXG4gIC8vIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IHsgQW1iaWVudExpZ2h0LCBQb2ludExpZ2h0LCBTY2VuZSB9IGZyb20gXCJ0aHJlZVwiO1xyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5cclxuLy8gU2V0cyB1cCBhbmQgcGxhY2VzIGFsbCBsaWdodHMgaW4gc2NlbmVcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGlnaHQge1xyXG4gIHNjZW5lO1xyXG4gIHBvaW50TGlnaHQ6IFBvaW50TGlnaHQ7XHJcbiAgYW1iaWVudExpZ2h0OiBBbWJpZW50TGlnaHQ7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFNjZW5lKSB7XHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcblxyXG4gICAgdGhpcy5pbml0KCk7XHJcbiAgfVxyXG5cclxuICBpbml0KCkge1xyXG4gICAgLy8gUG9pbnQgbGlnaHRcclxuICAgIHRoaXMucG9pbnRMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC5jb2xvcixcclxuICAgICAgQ29uZmlnLnBvaW50TGlnaHQuaW50ZW5zaXR5LFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC5kaXN0YW5jZSxcclxuICAgICAgQ29uZmlnLnBvaW50TGlnaHQuZGVjYXlcclxuICAgICk7XHJcbiAgICB0aGlzLnBvaW50TGlnaHQucG9zaXRpb24uc2V0KFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC54LFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC55LFxyXG4gICAgICBDb25maWcucG9pbnRMaWdodC56XHJcbiAgICApO1xyXG4gICAgdGhpcy5wb2ludExpZ2h0LnZpc2libGUgPSBDb25maWcucG9pbnRMaWdodC5lbmFibGVkO1xyXG5cclxuICAgIHRoaXMuYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodChDb25maWcuYW1iaWVudExpZ2h0LmNvbG9yKTtcclxuICAgIHRoaXMuYW1iaWVudExpZ2h0LnZpc2libGUgPSBDb25maWcuYW1iaWVudExpZ2h0LmVuYWJsZWQ7XHJcbiAgfVxyXG5cclxuICBwbGFjZShsaWdodE5hbWU6IFwicG9pbnRcIiB8IFwiYW1iaWVudFwiKSB7XHJcbiAgICBzd2l0Y2ggKGxpZ2h0TmFtZSkge1xyXG4gICAgICBjYXNlIFwicG9pbnRcIjpcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLnBvaW50TGlnaHQpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiYW1iaWVudFwiOlxyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuYW1iaWVudExpZ2h0KTtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcblxyXG4vLyBVU2UgdGhpcyBjbGFzcyBhcyBhIGhlbHBlciB0byBzZXQgdXAgc29tZSBkZWZhdWx0IG1hdGVyaWFsc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRlcmlhbCB7XHJcbiAgY29uc3RydWN0b3IoKSB7fVxyXG5cclxuICBtYWtlUGhvbmdNYXRlcmlhbCh0ZXh0dXJlOiBUSFJFRS5UZXh0dXJlKSB7XHJcbiAgICByZXR1cm4gbmV3IFRIUkVFLk1lc2hQaG9uZ01hdGVyaWFsKHsgbWFwOiB0ZXh0dXJlIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBDYW5ub24gZnJvbSBcImNhbm5vbi1lc1wiO1xyXG5cclxuaW1wb3J0IGNvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcclxuZXhwb3J0IGNsYXNzIFBoeXNpY3Mge1xyXG4gICAgd29ybGQ6IENhbm5vbi5Xb3JsZDtcclxuICAgIGJhbGw6IENhbm5vbi5Cb2R5O1xyXG4gICAgZ3JvdW5kOiBDYW5ub24uQm9keTtcclxuICAgIGdyb3VuZE1hdGVyaWFsOiBDYW5ub24uTWF0ZXJpYWw7XHJcbiAgICBiYWxsTWF0ZXJpYWw6IENhbm5vbi5NYXRlcmlhbDtcclxuICAgIHdhbGxNYXRlcmlhbDogQ2Fubm9uLk1hdGVyaWFsO1xyXG4gICAgZm9yY2UgPSA1MDA7XHJcbiAgICBkdCA9IDEgLyA2MDtcclxuICAgIGZpeGVkVGltZVN0ZXAgPSAxIC8gNjA7XHJcbiAgICBtYXhTdWJTdGVwcyA9IDM7XHJcbiAgICBsYXN0VGltZTogbnVtYmVyO1xyXG4gICAgR1JPVVAxOiAxO1xyXG4gICAgR1JPVVAyOiAyO1xyXG4gICAgY29uc3RydWN0b3IoKSB7IH1cclxuICAgIHNldHVwV29ybGQobWF6ZTogQXJyYXk8QXJyYXk8Ym9vbGVhbj4+KSB7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVaZXJvR3Jhdml0eVdvcmxkKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVGcmljdGlvblN1cmZhY2VzKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVHcm91bmQoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJhbGwoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZVdhbGwobWF6ZSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVaZXJvR3Jhdml0eVdvcmxkKCkge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICAgICAgd29ybGQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBncmF2aXR5OiB7IHgsIHksIHogfSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLndvcmxkID0gbmV3IENhbm5vbi5Xb3JsZCh7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IG5ldyBDYW5ub24uVmVjMyh4LCB5LCB6KSxcclxuICAgICAgICAgICAgYnJvYWRwaGFzZTogKG5ldyBDYW5ub24uTmFpdmVCcm9hZHBoYXNlKCkgYXMgdW5rbm93bikgYXMgQ2Fubm9uLkJyb2FkcGhhc2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy90aGlzLndvcmxkLnNvbHZlci5pdGVyYXRpb25zID0gNTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUZyaWN0aW9uU3VyZmFjZXMoKSB7XHJcbiAgICAgICAgLy9DcmVhdGUgdGhlIG1hdGVyaWFsIG9mIHRoZSBiYWxsIHdpdGggZnJpY3Rpb24gYXMgMFxyXG4gICAgICAgIHRoaXMuYmFsbE1hdGVyaWFsID0gbmV3IENhbm5vbi5NYXRlcmlhbChcImJhbGxNYXRlcmlhbFwiKTtcclxuICAgICAgICB0aGlzLmdyb3VuZE1hdGVyaWFsID0gbmV3IENhbm5vbi5NYXRlcmlhbChcImdyb3VuZE1hdGVyaWFsXCIpO1xyXG4gICAgICAgIHRoaXMud2FsbE1hdGVyaWFsID0gbmV3IENhbm5vbi5NYXRlcmlhbCgnd2FsbE1hdGVyaWFsJyk7XHJcbiAgICAgICAgLy8gQWRqdXN0IGNvbnN0cmFpbnQgZXF1YXRpb24gcGFyYW1ldGVycyBmb3IgZ3JvdW5kL2dyb3VuZCBjb250YWN0XHJcbiAgICAgICAgLy9XaGVuIGdyb3VuZCB0b3VjaGVzIGdyb3VuZCAtLSBJIGRvbnQga25vdyB3aHkgdGhpcyBpcyBuZWVkZWRcclxuICAgICAgICBjb25zdCBncm91bmRfZ3JvdW5kX2NtID0gbmV3IENhbm5vbi5Db250YWN0TWF0ZXJpYWwoXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZyaWN0aW9uOiAxLFxyXG4gICAgICAgICAgICAgICAgcmVzdGl0dXRpb246IDAuMyxcclxuICAgICAgICAgICAgICAgIGNvbnRhY3RFcXVhdGlvblN0aWZmbmVzczogMWU4LFxyXG4gICAgICAgICAgICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMyxcclxuICAgICAgICAgICAgICAgIGZyaWN0aW9uRXF1YXRpb25TdGlmZm5lc3M6IDFlOCxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy53b3JsZC5hZGRDb250YWN0TWF0ZXJpYWwoZ3JvdW5kX2dyb3VuZF9jbSk7XHJcbiAgICAgICAgLy9XaGVuIGJhbGwgdG91Y2hlcyBncm91bmQgdGhlcmUgaXMgbG90IG9mIGZyaWN0aW9uXHJcbiAgICAgICAgY29uc3Qgc2xpcHBlcnlfZ3JvdW5kX2NtID0gbmV3IENhbm5vbi5Db250YWN0TWF0ZXJpYWwoXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIHRoaXMuYmFsbE1hdGVyaWFsLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBmcmljdGlvbjogMSxcclxuICAgICAgICAgICAgICAgIHJlc3RpdHV0aW9uOiAwLjMsXHJcbiAgICAgICAgICAgICAgICBjb250YWN0RXF1YXRpb25TdGlmZm5lc3M6IDFlOCxcclxuICAgICAgICAgICAgICAgIGNvbnRhY3RFcXVhdGlvblJlbGF4YXRpb246IDMsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvL2FkZCB0aGlzIGNvbnRhY3QgdG8gd29ybGRcclxuICAgICAgICB0aGlzLndvcmxkLmFkZENvbnRhY3RNYXRlcmlhbChzbGlwcGVyeV9ncm91bmRfY20pO1xyXG4gICAgICAgIC8vQ29udGFjdCBiZXR3ZWVuIGJhbGwgYW5kIHdhbGxcclxuICAgICAgICBjb25zdCBiYWxsX3dhbGxfY20gPSBuZXcgQ2Fubm9uLkNvbnRhY3RNYXRlcmlhbCh0aGlzLmJhbGxNYXRlcmlhbCwgdGhpcy53YWxsTWF0ZXJpYWwsIHtcclxuICAgICAgICAgICAgZnJpY3Rpb246IDAuNixcclxuICAgICAgICAgICAgLy9DYW4gaW5jcmVhc2UgdG8gbWFrZSBpdCBoYXJkZXIgdG8gbmF2aWdhdGUgd2l0aG91dCB0b3VjaGluZ1xyXG4gICAgICAgICAgICByZXN0aXR1dGlvbjogMC4zLFxyXG4gICAgICAgICAgICBjb250YWN0RXF1YXRpb25TdGlmZm5lc3M6IDFlOCxcclxuICAgICAgICAgICAgY29udGFjdEVxdWF0aW9uUmVsYXhhdGlvbjogMyxcclxuICAgICAgICB9KVxyXG4gICAgICAgIHRoaXMud29ybGQuYWRkQ29udGFjdE1hdGVyaWFsKGJhbGxfd2FsbF9jbSk7XHJcbiAgICB9XHJcbiAgICBjcmVhdGVCYWxsKCkge1xyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICAgICAgYmFsbDogeyBpbml0aWFsUG9zaXRpb24sIG1hc3MsIHJhZGl1cyB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0gPSBjb25maWc7XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IENhbm5vbi5Cb2R5KHtcclxuICAgICAgICAgICAgbWF0ZXJpYWw6IHRoaXMuYmFsbE1hdGVyaWFsLFxyXG4gICAgICAgICAgICBtYXNzLFxyXG4gICAgICAgICAgICBjb2xsaXNpb25GaWx0ZXJHcm91cDogdGhpcy5HUk9VUDEsXHJcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlck1hc2s6IHRoaXMuR1JPVVAyLFxyXG4gICAgICAgICAgICBsaW5lYXJEYW1waW5nOiAwLjc1LFxyXG4gICAgICAgICAgICBhbmd1bGFyRGFtcGluZzogMC43NSxcclxuICAgICAgICAgICAgc2hhcGU6IG5ldyBDYW5ub24uU3BoZXJlKHJhZGl1cyksXHJcbiAgICAgICAgICAgIHR5cGU6IENhbm5vbi5CT0RZX1RZUEVTLkRZTkFNSUMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgeyB4ID0gMCwgeSA9IDAsIHogPSAwIH0gPSBpbml0aWFsUG9zaXRpb247XHJcbiAgICAgICAgdGhpcy5iYWxsLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcclxuICAgICAgICB0aGlzLndvcmxkLmFkZEJvZHkodGhpcy5iYWxsKTtcclxuICAgICAgICAvL2lmIGJxbGwgdG91Y2hlcyB3YWxsXHJcbiAgICAgICAgdGhpcy5iYWxsLmFkZEV2ZW50TGlzdGVuZXIoXCJjb2xsaWRlXCIsZnVuY3Rpb24oZTogeyBib2R5OiB1bmtub3duLCBjb250YWN0OiB1bmtub3duIH0pe1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJUaGUgc3BoZXJlIGp1c3QgY29sbGlkZWQgd2l0aCB0aGUgZ3JvdW5kIVwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb2xsaWRlZCB3aXRoIGJvZHk6XCIsZS5ib2R5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGNyZWF0ZUdyb3VuZCgpIHtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kU2hhcGUgPSBuZXcgQ2Fubm9uLlBsYW5lKCk7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kQm9keSA9IG5ldyBDYW5ub24uQm9keSh7XHJcbiAgICAgICAgICAgIG1hc3M6IDAsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLmdyb3VuZE1hdGVyaWFsLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGdyb3VuZEJvZHkuYWRkU2hhcGUoZ3JvdW5kU2hhcGUpO1xyXG4gICAgICAgIGdyb3VuZEJvZHkucG9zaXRpb24uc2V0WmVybygpO1xyXG4gICAgICAgIHRoaXMud29ybGQuYWRkQm9keShncm91bmRCb2R5KTtcclxuICAgICAgICBcclxuICAgIH1cclxuICAgIGNyZWF0ZVdhbGwobWF6ZUNvb3JkaW5hdGVzOiBBcnJheTxBcnJheTxib29sZWFuPj4pIHtcclxuICAgICAgICBjb25zdCBib3hlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF6ZUNvb3JkaW5hdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbWF6ZUNvb3JkaW5hdGVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF6ZUNvb3JkaW5hdGVzW2ldW2pdID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgd2FsbEJvZHkgPSBuZXcgQ2Fubm9uLkJvZHkoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBDYW5ub24uQk9EWV9UWVBFUy5TVEFUSUMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGVyaWFsOiB0aGlzLndhbGxNYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IG5ldyBDYW5ub24uQm94KG5ldyBDYW5ub24uVmVjMygwLjUsIDAuNSwgMC41KSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlckdyb3VwOiB0aGlzLkdST1VQMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyTWFzazogdGhpcy5HUk9VUDEsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbEJvZHkucG9zaXRpb24ueCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbEJvZHkucG9zaXRpb24ueSA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FsbEJvZHkucG9zaXRpb24ueiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53b3JsZC5hZGRCb2R5KHdhbGxCb2R5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIG1vdmVCYWxsKGRpcmVjdGlvbjogXCJsZWZ0XCIgfCBcInJpZ2h0XCIgfCBcInVwXCIgfCBcImRvd25cIikge1xyXG4gICAgICAgIGxldCBkaXJlY3Rpb25WZWN0b3I7XHJcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gbmV3IENhbm5vbi5WZWMzKDAsIDAsIDAuMjUpO1xyXG4gICAgICAgIHN3aXRjaCAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvblZlY3RvciA9IG5ldyBDYW5ub24uVmVjMygtMSwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjoge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uVmVjdG9yID0gbmV3IENhbm5vbi5WZWMzKDEsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcInVwXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvblZlY3RvciA9IG5ldyBDYW5ub24uVmVjMygwLCAxLCAwKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJkb3duXCI6IHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvblZlY3RvciA9IG5ldyBDYW5ub24uVmVjMygwLCAtMSwgMCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJhbGwuYXBwbHlJbXB1bHNlKGRpcmVjdGlvblZlY3Rvciwgb3JpZ2luKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZVBoeXNpY3ModGltZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53b3JsZC5zdGVwKHRoaXMuZml4ZWRUaW1lU3RlcCwgdGltZSwgdGhpcy5tYXhTdWJTdGVwcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcblxyXG5pbXBvcnQgQ29uZmlnIGZyb20gXCIuLi8uLi9kYXRhL2NvbmZpZ1wiO1xyXG5cclxuLy8gTWFpbiB3ZWJHTCByZW5kZXJlciBjbGFzc1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZW5kZXJlciB7XHJcbiAgc2NlbmU7XHJcbiAgY29udGFpbmVyO1xyXG4gIHRocmVlUmVuZGVyZXI7XHJcbiAgY29uc3RydWN0b3Ioc2NlbmU6IFRIUkVFLlNjZW5lLCBjb250YWluZXI6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAvLyBQcm9wZXJ0aWVzXHJcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICAvLyBDcmVhdGUgV2ViR0wgcmVuZGVyZXIgYW5kIHNldCBpdHMgYW50aWFsaWFzXHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTtcclxuXHJcbiAgICAvLyBTZXQgY2xlYXIgY29sb3IgdG8gZm9nIHRvIGVuYWJsZSBmb2cgb3IgdG8gaGV4IGNvbG9yIGZvciBubyBmb2dcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRDbGVhckNvbG9yKHNjZW5lLmZvZy5jb2xvcik7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyk7IC8vIEZvciByZXRpbmFcclxuXHJcbiAgICAvLyBBcHBlbmRzIGNhbnZhc1xyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGhyZWVSZW5kZXJlci5kb21FbGVtZW50KTtcclxuXHJcbiAgICAvLyBTaGFkb3cgbWFwIG9wdGlvbnNcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLnRocmVlUmVuZGVyZXIuc2hhZG93TWFwLnR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xyXG5cclxuICAgIC8vIEdldCBhbmlzb3Ryb3B5IGZvciB0ZXh0dXJlc1xyXG4gICAgQ29uZmlnLm1heEFuaXNvdHJvcHkgPSB0aGlzLnRocmVlUmVuZGVyZXIuY2FwYWJpbGl0aWVzLmdldE1heEFuaXNvdHJvcHkoKTtcclxuXHJcbiAgICAvLyBJbml0aWFsIHNpemUgdXBkYXRlIHNldCB0byBjYW52YXMgY29udGFpbmVyXHJcbiAgICB0aGlzLnVwZGF0ZVNpemUoKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwiRE9NQ29udGVudExvYWRlZFwiLFxyXG4gICAgICAoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB0aGlzLnVwZGF0ZVNpemUoKSwgZmFsc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlU2l6ZSgpIHtcclxuICAgIHRoaXMudGhyZWVSZW5kZXJlci5zZXRTaXplKFxyXG4gICAgICB0aGlzLmNvbnRhaW5lci5vZmZzZXRXaWR0aCxcclxuICAgICAgdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0XHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVyKHNjZW5lOiBUSFJFRS5TY2VuZSwgY2FtZXJhOiBUSFJFRS5DYW1lcmEpIHtcclxuICAgIC8vIFJlbmRlcnMgc2NlbmUgdG8gY2FudmFzIHRhcmdldFxyXG4gICAgdGhpcy50aHJlZVJlbmRlcmVyLnJlbmRlcihzY2VuZSwgY2FtZXJhKTtcclxuICB9XHJcbn1cclxuIiwiLy8gR2xvYmFsIGltcG9ydHMgLVxyXG5pbXBvcnQgVFdFRU4gZnJvbSBcIkB0d2VlbmpzL3R3ZWVuLmpzXCI7XHJcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gXCJ0aHJlZVwiO1xyXG4vLyBkYXRhXHJcbmltcG9ydCBDb25maWcgZnJvbSBcIi4uL2RhdGEvY29uZmlnXCI7XHJcbmltcG9ydCBDYW1lcmEgZnJvbSBcIi4vY29tcG9uZW50cy9jYW1lcmFcIjtcclxuaW1wb3J0IENvbnRyb2xzIGZyb20gXCIuL2NvbXBvbmVudHMvY29udHJvbHNcIjtcclxuaW1wb3J0IEdlb21ldHJ5IGZyb20gXCIuL2NvbXBvbmVudHMvZ2VvbWV0cnlcIjtcclxuaW1wb3J0IExpZ2h0IGZyb20gXCIuL2NvbXBvbmVudHMvbGlnaHRcIjtcclxuaW1wb3J0IE1hdGVyaWFsIGZyb20gXCIuL2NvbXBvbmVudHMvbWF0ZXJpYWxcIjtcclxuaW1wb3J0IHsgUGh5c2ljcyB9IGZyb20gXCIuL2NvbXBvbmVudHMvcGh5c2ljc1wiO1xyXG4vLyBMb2NhbCBpbXBvcnRzIC1cclxuLy8gQ29tcG9uZW50c1xyXG5pbXBvcnQgUmVuZGVyZXIgZnJvbSBcIi4vY29tcG9uZW50cy9yZW5kZXJlclwiO1xyXG5pbXBvcnQgSW50ZXJhY3Rpb24gZnJvbSBcIi4vbWFuYWdlcnMvaW50ZXJhY3Rpb25cIjtcclxuLy8gTW9kZWxcclxuaW1wb3J0IFRleHR1cmUgZnJvbSBcIi4vbW9kZWwvdGV4dHVyZVwiO1xyXG5cclxuLy8gLS0gRW5kIG9mIGltcG9ydHNcclxubGV0IGRpcmVjdGlvbnM7XHJcbi8vIFRoaXMgY2xhc3MgaW5zdGFudGlhdGVzIGFuZCB0aWVzIGFsbCBvZiB0aGUgY29tcG9uZW50cyB0b2dldGhlciwgc3RhcnRzIHRoZSBsb2FkaW5nIHByb2Nlc3MgYW5kIHJlbmRlcnMgdGhlIG1haW4gbG9vcFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluIHtcclxuICBjb250YWluZXI7XHJcbiAgY2xvY2s7XHJcbiAgc2NlbmU7XHJcbiAgbWF6ZURpbWVuc2lvbjtcclxuICByZW5kZXJlcjtcclxuICBjYW1lcmE7XHJcbiAgdGV4dHVyZTtcclxuICBtYXplOiBBcnJheTxBcnJheTxib29sZWFuPj47XHJcbiAgbWF0ZXJpYWw7XHJcbiAgZ2VvbWV0cnk7XHJcbiAgY29udHJvbHM7XHJcbiAgZ2FtZVN0YXRlO1xyXG4gIGxpZ2h0cztcclxuICBwaHlzaWNzO1xyXG4gIGJhbGxNZXNoOiBUSFJFRS5NZXNoO1xyXG4gIHBhdGg6IEFycmF5PEFycmF5PG51bWJlcj4+ID0gW107XHJcbiAgY29uc3RydWN0b3IoY29udGFpbmVyOiBIVE1MRWxlbWVudCkge1xyXG4gICAgLy8gU2V0IGNvbnRhaW5lciBwcm9wZXJ0eSB0byBjb250YWluZXIgZWxlbWVudFxyXG4gICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4gICAgLy8gU3RhcnQgVGhyZWUgY2xvY2tcclxuICAgIHRoaXMuY2xvY2sgPSBuZXcgVEhSRUUuQ2xvY2soKTtcclxuICAgIHRoaXMubWF6ZURpbWVuc2lvbiA9IDExO1xyXG4gICAgLy8gTWFpbiBzY2VuZSBjcmVhdGlvblxyXG4gICAgdGhpcy5zY2VuZSA9IG5ldyBUSFJFRS5TY2VuZSgpO1xyXG4gICAgdGhpcy5zY2VuZS5mb2cgPSBuZXcgVEhSRUUuRm9nRXhwMihDb25maWcuZm9nLmNvbG9yLCBDb25maWcuZm9nLm5lYXIpO1xyXG4gICAgdGhpcy5tYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCgpO1xyXG4gICAgdGhpcy5nZW9tZXRyeSA9IG5ldyBHZW9tZXRyeSh0aGlzLnNjZW5lLCB0aGlzLm1hemVEaW1lbnNpb24pO1xyXG5cclxuICAgIC8vIEdldCBEZXZpY2UgUGl4ZWwgUmF0aW8gZmlyc3QgZm9yIHJldGluYVxyXG4gICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvKSB7XHJcbiAgICAgIENvbmZpZy5kcHIgPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYWluIHJlbmRlcmVyIGNvbnN0cnVjdG9yXHJcbiAgICB0aGlzLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKHRoaXMuc2NlbmUsIGNvbnRhaW5lcik7XHJcbiAgICAvL0luc3RhbnRpYXRlIGNhbWVyYVxyXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhKHRoaXMucmVuZGVyZXIudGhyZWVSZW5kZXJlcik7XHJcblxyXG4gICAgLy9BZGRpbmcgb3JiaXQgY29udHJvbHNcclxuICAgIHRoaXMuY29udHJvbHMgPSBuZXcgQ29udHJvbHModGhpcy5jYW1lcmEudGhyZWVDYW1lcmEsIGNvbnRhaW5lcik7XHJcbiAgICAvL0luc3RhbnRpYXRlIGxpZ2h0c1xyXG4gICAgdGhpcy5saWdodHMgPSBuZXcgTGlnaHQodGhpcy5zY2VuZSk7XHJcbiAgICAvLyBJbnN0YW50aWF0ZSB0ZXh0dXJlIGNsYXNzXHJcbiAgICB0aGlzLnRleHR1cmUgPSBuZXcgVGV4dHVyZSgpO1xyXG5cclxuICAgIC8vSW5zdGFudGlhdGUgdGhlIHBoeXNpY3NcclxuXHJcbiAgICB0aGlzLnBoeXNpY3MgPSBuZXcgUGh5c2ljcygpO1xyXG4gICAgdGhpcy5tYXplID0gdGhpcy5nZW5lcmF0ZVNxdWFyZU1hemUodGhpcy5tYXplRGltZW5zaW9uKTtcclxuICAgIHRoaXMubWF6ZVt0aGlzLm1hemVEaW1lbnNpb24gLSAxXVt0aGlzLm1hemVEaW1lbnNpb24gLSAyXSA9IGZhbHNlO1xyXG5cclxuICAgIHRoaXMuc2V0dXBQaHlzaWNzKCk7XHJcbiAgICAvLyBTdGFydCBsb2FkaW5nIHRoZSB0ZXh0dXJlcyBhbmQgdGhlbiBnbyBvbiB0byBsb2FkIHRoZSBtb2RlbCBhZnRlciB0aGUgdGV4dHVyZSBQcm9taXNlcyBoYXZlIHJlc29sdmVkXHJcbiAgICB0aGlzLnRleHR1cmUubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICB0aGlzLnNldHVwUmVuZGVyV29ybGQoKTtcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiYmFsbG1lc2hcIiwgdGhpcy5iYWxsTWVzaCk7XHJcbiAgICAgIHRoaXMuZ2FtZVN0YXRlID0gXCJmYWRlIGluXCI7XHJcbiAgICAgIG5ldyBJbnRlcmFjdGlvbihcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnRocmVlUmVuZGVyZXIsXHJcbiAgICAgICAgdGhpcy5zY2VuZSxcclxuICAgICAgICB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSxcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnRocmVlQ29udHJvbHMsXHJcbiAgICAgICAgdGhpcy5tb3ZlQmFsbC5iaW5kKHRoaXMpXHJcbiAgICAgICk7XHJcbiAgICAgIC8vIHRoaXMubGlnaHRzLnBvaW50TGlnaHQuaW50ZW5zaXR5ID0gMDtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5nYW1lU3RhdGUgPSBcImluaXRpYWxpemVcIjtcclxuICAgIC8vIFN0YXJ0IHJlbmRlciB3aGljaCBkb2VzIG5vdCB3YWl0IGZvciBtb2RlbCBmdWxseSBsb2FkZWRcclxuICAgIHRoaXMucmVuZGVyKERhdGUubm93KCkpO1xyXG4gIH1cclxuICBtb3ZlQmFsbChkaXJlY3Rpb246IFwibGVmdFwiIHwgXCJyaWdodFwiIHwgXCJ1cFwiIHwgXCJkb3duXCIpIHtcclxuICAgIHRoaXMucGh5c2ljcy5tb3ZlQmFsbChkaXJlY3Rpb24pO1xyXG4gIH1cclxuICBzZXR1cFJlbmRlcldvcmxkKCkge1xyXG4gICAgLy8gQWRkaW5nIGNhbWVyYSB0byB0aGUgc2NlbmVcclxuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhKTtcclxuXHJcbiAgICAvLyBBZGRpbmcgbGlnaHRzIHRvIHNjZW5lXHJcbiAgICB0aGlzLmxpZ2h0cy5wbGFjZShcImFtYmllbnRcIik7XHJcbiAgICB0aGlzLmxpZ2h0cy5wbGFjZShcInBvaW50XCIpO1xyXG4gICAgY29uc3QgYmFsbCA9IHRoaXMuZ2VvbWV0cnkubWFrZUJhbGwoKTtcclxuICAgIGNvbnN0IGdyb3VuZEdlb21ldHJ5ID0gdGhpcy5nZW9tZXRyeS5tYWtlR3JvdW5kKCk7XHJcbiAgICBjb25zdCB3YWxsR2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5Lm1ha2VXYWxscyh0aGlzLm1hemUpO1xyXG4gICAgY29uc3Qge1xyXG4gICAgICBncmFzczogZ3JvdW5kVGV4dHVyZSxcclxuICAgICAgYmFsbDogYmFsbFRleHR1cmUsXHJcbiAgICAgIHdhbGw6IGJyaWNrVGV4dHVyZSxcclxuICAgIH0gPSB0aGlzLnRleHR1cmUudGV4dHVyZXM7XHJcbiAgICBjb25zdCBiYWxsTWF0ZXJpYWwgPSB0aGlzLm1hdGVyaWFsLm1ha2VQaG9uZ01hdGVyaWFsKGJhbGxUZXh0dXJlKTtcclxuICAgIHRoaXMuYmFsbE1lc2ggPSBuZXcgVEhSRUUuTWVzaChiYWxsLCBiYWxsTWF0ZXJpYWwpO1xyXG4gICAgY29uc29sZS5sb2coJ0hlcmUhIScpO1xyXG4gICAgdGhpcy5iYWxsTWVzaC5wb3NpdGlvbi5zZXQoMSwgMSwgMC4yNSk7XHJcbiAgICAvL0FkZGluZyBiYWxsIHRvIHNjZW5lXHJcbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmJhbGxNZXNoKTtcclxuICAgIGNvbnN0IGJveE1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbC5tYWtlUGhvbmdNYXRlcmlhbChicmlja1RleHR1cmUpO1xyXG4gICAgY29uc3QgbWVyZ2VkTWVzaCA9IG5ldyBUSFJFRS5NZXNoKHdhbGxHZW9tZXRyeSwgYm94TWF0ZXJpYWwpO1xyXG4gICAgbWVyZ2VkTWVzaC5wb3NpdGlvbi56ID0gMC41O1xyXG4gICAgLy9BZGRpbmcgd2FsbCB0byBzY2VuZVxyXG4gICAgdGhpcy5zY2VuZS5hZGQobWVyZ2VkTWVzaCk7XHJcbiAgICAvL0FkZCBncm91bmQgdGV4dHVyZSBhbmQgY3JlYXRlIGdyb3VuZCBtZXNoXHJcbiAgICBncm91bmRUZXh0dXJlLndyYXBTID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XHJcbiAgICBncm91bmRUZXh0dXJlLndyYXBUID0gVEhSRUUuUmVwZWF0V3JhcHBpbmc7XHJcbiAgICBncm91bmRUZXh0dXJlLnJlcGVhdC5zZXQodGhpcy5tYXplRGltZW5zaW9uICogNSwgdGhpcy5tYXplRGltZW5zaW9uICogNSk7XHJcbiAgICBjb25zdCBncm91bmRNYXRlcmlhbCA9IHRoaXMubWF0ZXJpYWwubWFrZVBob25nTWF0ZXJpYWwoZ3JvdW5kVGV4dHVyZSk7XHJcbiAgICBjb25zdCBwbGFuZU1lc2ggPSBuZXcgVEhSRUUuTWVzaChncm91bmRHZW9tZXRyeSwgZ3JvdW5kTWF0ZXJpYWwpO1xyXG4gICAgcGxhbmVNZXNoLnBvc2l0aW9uLnNldChcclxuICAgICAgKHRoaXMubWF6ZURpbWVuc2lvbiAtIDEpIC8gMixcclxuICAgICAgKHRoaXMubWF6ZURpbWVuc2lvbiAtIDEpIC8gMixcclxuICAgICAgMFxyXG4gICAgKTtcclxuICAgIHBsYW5lTWVzaC5yb3RhdGlvbi5zZXQoMCwgMCwgMCk7XHJcbiAgICAvL0FkZGluZyBncm91bmQgdG8gc2NlbmVcclxuICAgIHRoaXMuc2NlbmUuYWRkKHBsYW5lTWVzaCk7XHJcbiAgfVxyXG4gIHVwZGF0ZVJlbmRlcldvcmxkKCkge1xyXG4gICAgdGhpcy5iYWxsTWVzaC5wb3NpdGlvbi5jb3B5KFxyXG4gICAgICAodGhpcy5waHlzaWNzLmJhbGwucG9zaXRpb24gYXMgdW5rbm93bikgYXMgVEhSRUUuVmVjdG9yM1xyXG4gICAgKTtcclxuICAgIHRoaXMuYmFsbE1lc2gucXVhdGVybmlvbi5jb3B5KFxyXG4gICAgICAodGhpcy5waHlzaWNzLmJhbGwucXVhdGVybmlvbiBhcyB1bmtub3duKSBhcyBUSFJFRS5RdWF0ZXJuaW9uXHJcbiAgICApO1xyXG4gICAgdGhpcy5saWdodHMucG9pbnRMaWdodC5wb3NpdGlvbi5jb3B5KFxyXG4gICAgICBuZXcgVEhSRUUuVmVjdG9yMyhcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYmFsbC5wb3NpdGlvbi54LFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5iYWxsLnBvc2l0aW9uLnksXHJcbiAgICAgICAgQ29uZmlnLnBvaW50TGlnaHQuelxyXG4gICAgICApXHJcbiAgICApO1xyXG4gICAgLy9qbGVlIHRha2UgYSBsb29rIGF0IHRoaXNcclxuICAgIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnggKz0gKHRoaXMuYmFsbE1lc2gucG9zaXRpb24ueCAtIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLnBvc2l0aW9uLngpICogMC4xO1xyXG4gICAgdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEucG9zaXRpb24ueSArPSAodGhpcy5iYWxsTWVzaC5wb3NpdGlvbi55IC0gdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEucG9zaXRpb24ueSkgKiAwLjE7XHJcbiAgICAvL3RoaXMuY2FtZXJhLnRocmVlQ2FtZXJhLnBvc2l0aW9uLnogKz0gKDUgLSB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYS5wb3NpdGlvbi56KSAqIDAuMTtcclxuXHJcbiAgfVxyXG4gIHNldHVwUGh5c2ljcygpIHtcclxuICAgIHRoaXMucGh5c2ljcy5zZXR1cFdvcmxkKHRoaXMubWF6ZSk7XHJcbiAgfVxyXG4gIGdlbmVyYXRlU3F1YXJlTWF6ZShkaW1lbnNpb246IG51bWJlcikge1xyXG4gICAgZnVuY3Rpb24gaXRlcmF0ZShmaWVsZDogQXJyYXk8QXJyYXk8Ym9vbGVhbj4+LCB4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICBmaWVsZFt4XVt5XSA9IGZhbHNlO1xyXG4gICAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICAgIGRpcmVjdGlvbnMgPSBbXTtcclxuICAgICAgICBpZiAoeCA+IDEgJiYgZmllbGRbeCAtIDJdW3ldID09IHRydWUpIHtcclxuICAgICAgICAgIGRpcmVjdGlvbnMucHVzaChbLTEsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHggPCBkaW1lbnNpb24gLSAyICYmIGZpZWxkW3ggKyAyXVt5XSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb25zLnB1c2goWzEsIDBdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHkgPiAxICYmIGZpZWxkW3hdW3kgLSAyXSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICBkaXJlY3Rpb25zLnB1c2goWzAsIC0xXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh5IDwgZGltZW5zaW9uIC0gMiAmJiBmaWVsZFt4XVt5ICsgMl0gPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgZGlyZWN0aW9ucy5wdXNoKFswLCAxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkaXJlY3Rpb25zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICByZXR1cm4gZmllbGQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGRpciA9IGRpcmVjdGlvbnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGlyZWN0aW9ucy5sZW5ndGgpXTtcclxuICAgICAgICBmaWVsZFt4ICsgZGlyWzBdXVt5ICsgZGlyWzFdXSA9IGZhbHNlO1xyXG4gICAgICAgIGZpZWxkID0gaXRlcmF0ZShmaWVsZCwgeCArIGRpclswXSAqIDIsIHkgKyBkaXJbMV0gKiAyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpemUgdGhlIGZpZWxkLlxyXG4gICAgdmFyIGZpZWxkID0gbmV3IEFycmF5KGRpbWVuc2lvbik7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpbWVuc2lvbjsgaSsrKSB7XHJcbiAgICAgIGZpZWxkW2ldID0gbmV3IEFycmF5KGRpbWVuc2lvbik7XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHtcclxuICAgICAgICBmaWVsZFtpXVtqXSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIEduZXJhdGUgdGhlIG1hemUgcmVjdXJzaXZlbHkuXHJcbiAgICBmaWVsZCA9IGl0ZXJhdGUoZmllbGQsIDEsIDEpO1xyXG4gICAgcmV0dXJuIGZpZWxkO1xyXG4gIH1cclxuICByZW5kZXIodGltZTogbnVtYmVyKSB7XHJcbiAgICBUV0VFTi51cGRhdGUoKTtcclxuICAgIHN3aXRjaCAodGhpcy5nYW1lU3RhdGUpIHtcclxuICAgICAgY2FzZSBcImluaXRpYWxpemVcIjoge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbml0aWFsemluZycpO1xyXG4gICAgICAgIC8vIHRoaXMuZ2FtZVN0YXRlID0gXCJmYWRlIGluXCI7XHJcbiAgICAgICAgdGhpcy5saWdodHMucG9pbnRMaWdodC5pbnRlbnNpdHkgPSAwO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCJmYWRlIGluXCI6IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZmFkZSBpbicpO1xyXG4gICAgICAgIGNvbnN0IHBvaW50TGlnaHRJbnRlbnNpdHkgPSB0aGlzLmxpZ2h0cy5wb2ludExpZ2h0LmludGVuc2l0eTtcclxuICAgICAgICB0aGlzLmxpZ2h0cy5wb2ludExpZ2h0LmludGVuc2l0eSArPSAwLjEgKiAoMS4wIC0gcG9pbnRMaWdodEludGVuc2l0eSk7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEudGhyZWVDYW1lcmEpO1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhwb2ludExpZ2h0SW50ZW5zaXR5IC0gMS4wKSA8IDAuMDUpIHtcclxuICAgICAgICAgIHRoaXMubGlnaHRzLnBvaW50TGlnaHQuaW50ZW5zaXR5ID0gMS4wO1xyXG4gICAgICAgICAgdGhpcy5nYW1lU3RhdGUgPSBcInBsYXlcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIGNhc2UgXCJwbGF5XCI6IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygncGxheScpO1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy51cGRhdGVQaHlzaWNzKHRpbWUpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUmVuZGVyV29ybGQoKTtcclxuICAgICAgICBjb25zdCBtYXplWCA9IE1hdGguZmxvb3IodGhpcy5iYWxsTWVzaC5wb3NpdGlvbi54ICsgMC41KTtcclxuICAgICAgICBjb25zdCBtYXplWSA9IE1hdGguZmxvb3IodGhpcy5iYWxsTWVzaC5wb3NpdGlvbi55ICsgMC41KTtcclxuICAgICAgICAvL0tlZXAgc2F2aW5nIHRoZSBjdXJyZW50IGNvb3JkaW5hdGUgdG8gdGhlIHBhdGhcclxuICAgICAgICBpZiAodGhpcy5wYXRoLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgdGhpcy5wYXRoLnB1c2goW21hemVYLCBtYXplWV0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXRoW3RoaXMucGF0aC5sZW5ndGggLSAxXSkge1xyXG4gICAgICAgICAgY29uc3QgW2xhc3RYLCBsYXN0WV0gPSB0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICAgIGlmIChsYXN0WCAhPT0gbWF6ZVggfHwgbGFzdFkgIT09IG1hemVZKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGF0aC5wdXNoKFttYXplWCwgbWF6ZVldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9DaGVjayBpZiB2aWN0b3J5IHdhcyBhdHRhaW5lZFxyXG4gICAgICAgIGlmIChtYXplWCA9PSB0aGlzLm1hemVEaW1lbnNpb24gJiYgbWF6ZVkgPT0gdGhpcy5tYXplRGltZW5zaW9uIC0gMikge1xyXG4gICAgICAgICAgLy9tYXplRGltZW5zaW9uICs9IDI7XHJcbiAgICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXplX3NvbHV0aW9uXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5wYXRoKTtcclxuICAgICAgICAgIHRoaXMuZ2FtZVN0YXRlID0gXCJmYWRlIG91dFwiO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvcm1zWzBdLnN1Ym1pdCgpO1xyXG4gICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhLnRocmVlQ2FtZXJhKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgICBjYXNlIFwiZmFkZSBvdXRcIjpcclxuICAgICAgLy91cGRhdGVQaHlzaWNzV29ybGQoKTtcclxuICAgICAgLy91cGRhdGVSZW5kZXJXb3JsZCgpO1xyXG4gICAgICB0aGlzLmxpZ2h0cy5wb2ludExpZ2h0LmludGVuc2l0eSArPSAwLjEgKiAoMC4wIC0gdGhpcy5saWdodHMucG9pbnRMaWdodC5pbnRlbnNpdHkpO1xyXG4gICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XHJcbiAgICAgIGlmIChNYXRoLmFicyh0aGlzLmxpZ2h0cy5wb2ludExpZ2h0LmludGVuc2l0eSAtIDAuMCkgPCAwLjEpIHtcclxuICAgICAgICB0aGlzLmxpZ2h0cy5wb2ludExpZ2h0LmludGVuc2l0eSA9IDAuMDtcclxuICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYS50aHJlZUNhbWVyYSk7XHJcbiAgICAgICAgLy9nYW1lU3RhdGUgPSBcImluaXRpYWxpemVcIjtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIC8vdGhpcy5jb250cm9scy50aHJlZUNvbnRyb2xzLnVwZGF0ZSgpO1xyXG5cclxuICAgIC8vIFJBRlxyXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMucmVuZGVyLmJpbmQodGhpcykpOyAvLyBCaW5kIHRoZSBtYWluIGNsYXNzIGluc3RlYWQgb2Ygd2luZG93IG9iamVjdFxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcclxuaW1wb3J0IEhlbHBlcnMgZnJvbSBcIi4uLy4uL3V0aWxzL2hlbHBlcnNcIjtcclxuaW1wb3J0IEtleWJvYXJkIGZyb20gXCIuLi8uLi91dGlscy9rZXlib2FyZFwiO1xyXG5cclxuLy8gTWFuYWdlcyBhbGwgaW5wdXQgaW50ZXJhY3Rpb25zXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyYWN0aW9uIHtcclxuICByZW5kZXJlcjogVEhSRUUuUmVuZGVyZXI7XHJcbiAgc2NlbmU7XHJcbiAgY2FtZXJhO1xyXG4gIGNvbnRyb2xzO1xyXG4gIHRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0O1xyXG4gIGtleWJvYXJkO1xyXG4gIHJpZ2h0S2V5OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICBsZWZ0S2V5OiBIVE1MQnV0dG9uRWxlbWVudDtcclxuICB1cEtleTogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgZG93bktleTogSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICByZW5kZXJlcjogVEhSRUUuUmVuZGVyZXIsXHJcbiAgICBzY2VuZTogVEhSRUUuU2NlbmUsXHJcbiAgICBjYW1lcmE6IFRIUkVFLkNhbWVyYSxcclxuICAgIGNvbnRyb2xzOiBUSFJFRS5PcmJpdENvbnRyb2xzLFxyXG4gICAgbW92ZUhhbmRsZXI6IChkaXJlY3Rpb246IHN0cmluZykgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgLy8gUHJvcGVydGllc1xyXG4gICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XHJcbiAgICB0aGlzLmNvbnRyb2xzID0gY29udHJvbHM7XHJcblxyXG4gICAgdGhpcy50aW1lb3V0ID0gbnVsbDtcclxuXHJcbiAgICAvLyBJbnN0YW50aWF0ZSBrZXlib2FyZCBoZWxwZXJcclxuICAgIHRoaXMua2V5Ym9hcmQgPSBuZXcgS2V5Ym9hcmQoKTtcclxuXHJcbiAgICAvLyBMaXN0ZW5lcnNcclxuICAgIC8vIE1vdXNlIGV2ZW50c1xyXG4gICAgdGhpcy5yZW5kZXJlci5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwibW91c2Vtb3ZlXCIsXHJcbiAgICAgIChldmVudCkgPT4gSGVscGVycy50aHJvdHRsZSgoKSA9PiB0aGlzLm9uTW91c2VNb3ZlKGV2ZW50KSwgMjUwKSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgICB0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJtb3VzZWxlYXZlXCIsXHJcbiAgICAgIChldmVudCkgPT4gdGhpcy5vbk1vdXNlTGVhdmUoZXZlbnQpLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuICAgIHRoaXMucmVuZGVyZXIuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcIm1vdXNlb3ZlclwiLFxyXG4gICAgICAoZXZlbnQpID0+IHRoaXMub25Nb3VzZU92ZXIoZXZlbnQpLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBLZXlib2FyZCBldmVudHNcclxuICAgIHRoaXMua2V5Ym9hcmQuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImtleWRvd25cIixcclxuICAgICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgICAgLy8gT25seSBvbmNlXHJcbiAgICAgICAgaWYgKGV2ZW50LnJlcGVhdCkge1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCBcImVzY2FwZVwiKSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJFc2NhcGUgcHJlc3NlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCBcImxlZnRcIikpIHtcclxuICAgICAgICAgIG1vdmVIYW5kbGVyKFwibGVmdFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCBcInJpZ2h0XCIpKSB7XHJcblxyXG4gICAgICAgICAgbW92ZUhhbmRsZXIoXCJyaWdodFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMua2V5Ym9hcmQuZXZlbnRNYXRjaGVzKGV2ZW50LCBcImRvd25cIikpIHtcclxuXHJcbiAgICAgICAgICBtb3ZlSGFuZGxlcihcImRvd25cIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5rZXlib2FyZC5ldmVudE1hdGNoZXMoZXZlbnQsIFwidXBcIikpIHtcclxuXHJcbiAgICAgICAgICBtb3ZlSGFuZGxlcihcInVwXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvL0J1dHRvbiBldmVudHNcclxuICAgIHRoaXMudXBLZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBrZXknKTtcclxuICAgIHRoaXMubGVmdEtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsZWZ0a2V5Jyk7XHJcbiAgICB0aGlzLmRvd25LZXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZG93bmtleScpO1xyXG4gICAgdGhpcy5yaWdodEtleSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyaWdodGtleScpO1xyXG4gICAgdGhpcy5wcmVzc0FuZEhvbGQodGhpcy51cEtleSwgSGVscGVycy50aHJvdHRsZSgoKSA9PiBtb3ZlSGFuZGxlcigndXAnKSwgNjApKTtcclxuICAgIHRoaXMucHJlc3NBbmRIb2xkKHRoaXMubGVmdEtleSwgSGVscGVycy50aHJvdHRsZSgoKSA9PiBtb3ZlSGFuZGxlcignbGVmdCcpLCA2MCkpO1xyXG4gICAgdGhpcy5wcmVzc0FuZEhvbGQodGhpcy5yaWdodEtleSwgSGVscGVycy50aHJvdHRsZSgoKSA9PiBtb3ZlSGFuZGxlcigncmlnaHQnKSwgNjApKTtcclxuICAgIHRoaXMucHJlc3NBbmRIb2xkKHRoaXMuZG93bktleSwgSGVscGVycy50aHJvdHRsZSgoKSA9PiBtb3ZlSGFuZGxlcignZG93bicpLCA2MCkpO1xyXG4gIH1cclxuICByZXF1ZXN0SW50ZXJ2YWwgPSAoZm46ICgpID0+IHZvaWQsIGRlbGF5OiBudW1iZXIpID0+IHtcclxuICAgIHZhciByZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGNhbGxiYWNrOiAoKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICByZXR1cm4gd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG4gICAgfSkoKSxcclxuICAgICAgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcclxuICAgICAgaGFuZGxlOiB7IHZhbHVlPzogbnVtYmVyIH0gPSB7fTtcclxuICAgIGZ1bmN0aW9uIGxvb3AoKSB7XHJcbiAgICAgIGhhbmRsZS52YWx1ZSA9IHJlcXVlc3RBbmltRnJhbWUobG9vcCk7XHJcbiAgICAgIHZhciBjdXJyZW50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCksXHJcbiAgICAgICAgZGVsdGEgPSBjdXJyZW50IC0gc3RhcnQ7XHJcbiAgICAgIGlmIChkZWx0YSA+PSBkZWxheSkge1xyXG4gICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgIGZuLmNhbGwoKTtcclxuICAgICAgICBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBoYW5kbGUudmFsdWUgPSByZXF1ZXN0QW5pbUZyYW1lKGxvb3ApO1xyXG4gICAgcmV0dXJuIGhhbmRsZTtcclxuICB9XHJcbiAgcHJlc3NBbmRIb2xkID0gKGVsZW1lbnQ6IEhUTUxCdXR0b25FbGVtZW50LCBjYjogKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkKSA9PiB7XHJcbiAgICBsZXQgdGltZXI6IHsgdmFsdWU/OiBudW1iZXIgfTtcclxuICAgIGNvbnN0IHByZXNzaW5nRG93biA9IChldmVudDogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aW1lciA9IHRoaXMucmVxdWVzdEludGVydmFsKGNiLCAxMDAwIC8gNjApO1xyXG4gICAgfVxyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHByZXNzaW5nRG93bik7XHJcbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGRlcHJlc3MpO1xyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBwcmVzc2luZ0Rvd24pO1xyXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZGVwcmVzcyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZGVwcmVzcyhldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aW1lci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uTW91c2VPdmVyKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIENvbmZpZy5pc01vdXNlT3ZlciA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTGVhdmUoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgQ29uZmlnLmlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuXHJcbiAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSBmYWxzZTtcclxuICAgIH0sIDIwMCk7XHJcblxyXG4gICAgQ29uZmlnLmlzTW91c2VNb3ZpbmcgPSB0cnVlO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgKiBhcyBUSFJFRSBmcm9tIFwidGhyZWVcIjtcclxuLy8gUHJvbWlzZSBwb2x5ZmlsbCBmb3IgSUVcclxuaW1wb3J0IHsgUHJvbWlzZSB9IGZyb20gXCJlczYtcHJvbWlzZVwiO1xyXG5cclxuaW1wb3J0IEhlbHBlcnMgZnJvbSBcIi4uLy4uL3V0aWxzL2hlbHBlcnNcIjtcclxuaW1wb3J0IENvbmZpZyBmcm9tIFwiLi4vLi4vZGF0YS9jb25maWdcIjtcclxuXHJcbi8vIFRoaXMgY2xhc3MgcHJlbG9hZHMgYWxsIHRleHR1cmVzIGluIHRoZSBpbWFnZUZpbGVzIGFycmF5IGluIHRoZSBDb25maWcgdmlhIEVTNiBQcm9taXNlcy5cclxuLy8gT25jZSBhbGwgdGV4dHVyZXMgYXJlIGRvbmUgbG9hZGluZyB0aGUgbW9kZWwgaXRzZWxmIHdpbGwgYmUgbG9hZGVkIGFmdGVyIHRoZSBQcm9taXNlIC50aGVuKCkgY2FsbGJhY2suXHJcbi8vIFVzaW5nIHByb21pc2VzIHRvIHByZWxvYWQgdGV4dHVyZXMgcHJldmVudHMgaXNzdWVzIHdoZW4gYXBwbHlpbmcgdGV4dHVyZXMgdG8gbWF0ZXJpYWxzXHJcbi8vIGJlZm9yZSB0aGUgdGV4dHVyZXMgaGF2ZSBsb2FkZWQuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHR1cmUge1xyXG4gIHRleHR1cmVzOiBSZWNvcmQ8c3RyaW5nLCBUSFJFRS5UZXh0dXJlPjtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIC8vIFByb3AgdGhhdCB3aWxsIGNvbnRhaW4gYWxsIGxvYWRlZCB0ZXh0dXJlc1xyXG4gICAgdGhpcy50ZXh0dXJlcyA9IHt9O1xyXG4gIH1cclxuXHJcbiAgbG9hZCgpIHtcclxuICAgIGNvbnN0IGxvYWRlciA9IG5ldyBUSFJFRS5UZXh0dXJlTG9hZGVyKCk7XHJcbiAgICBjb25zdCBtYXhBbmlzb3Ryb3B5ID0gQ29uZmlnLm1heEFuaXNvdHJvcHk7XHJcbiAgICBjb25zdCBpbWFnZUZpbGVzID0gQ29uZmlnLnRleHR1cmUuaW1hZ2VGaWxlcztcclxuICAgIGNvbnN0IHByb21pc2VBcnJheTogQXJyYXk8UHJvbWlzZTx7IFtrZXk6IHN0cmluZ106IFRIUkVFLlRleHR1cmUgfT4+ID0gW107XHJcblxyXG4gICAgbG9hZGVyLnNldFBhdGgoQ29uZmlnLnRleHR1cmUucGF0aCk7XHJcblxyXG4gICAgaW1hZ2VGaWxlcy5mb3JFYWNoKChpbWFnZUZpbGUpID0+IHtcclxuICAgICAgLy8gQWRkIGFuIGluZGl2aWR1YWwgUHJvbWlzZSBmb3IgZWFjaCBpbWFnZSBpbiBhcnJheVxyXG4gICAgICBwcm9taXNlQXJyYXkucHVzaChcclxuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAvLyBFYWNoIFByb21pc2Ugd2lsbCBhdHRlbXB0IHRvIGxvYWQgdGhlIGltYWdlIGZpbGVcclxuICAgICAgICAgIGxvYWRlci5sb2FkKFxyXG4gICAgICAgICAgICBpbWFnZUZpbGUuaW1hZ2UsXHJcbiAgICAgICAgICAgIC8vIFRoaXMgZ2V0cyBjYWxsZWQgb24gbG9hZCB3aXRoIHRoZSBsb2FkZWQgdGV4dHVyZVxyXG4gICAgICAgICAgICAodGV4dHVyZSkgPT4ge1xyXG4gICAgICAgICAgICAgIHRleHR1cmUuYW5pc290cm9weSA9IG1heEFuaXNvdHJvcHk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFJlc29sdmUgUHJvbWlzZSB3aXRoIG9iamVjdCBvZiB0ZXh0dXJlIGlmIGl0IGlzIGluc3RhbmNlIG9mIFRIUkVFLlRleHR1cmVcclxuICAgICAgICAgICAgICBjb25zdCBtb2RlbE9CSjogeyBba2V5OiBzdHJpbmddOiBUSFJFRS5UZXh0dXJlIH0gPSB7fTtcclxuICAgICAgICAgICAgICBtb2RlbE9CSltpbWFnZUZpbGUubmFtZV0gPSB0ZXh0dXJlO1xyXG4gICAgICAgICAgICAgIGlmIChtb2RlbE9CSltpbWFnZUZpbGUubmFtZV0gaW5zdGFuY2VvZiBUSFJFRS5UZXh0dXJlKVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShtb2RlbE9CSik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIEhlbHBlcnMubG9nUHJvZ3Jlc3MoKSxcclxuICAgICAgICAgICAgKHhocikgPT5cclxuICAgICAgICAgICAgICByZWplY3QoXHJcbiAgICAgICAgICAgICAgICBuZXcgRXJyb3IoXHJcbiAgICAgICAgICAgICAgICAgIHhociArXHJcbiAgICAgICAgICAgICAgICAgICAgXCJBbiBlcnJvciBvY2N1cnJlZCBsb2FkaW5nIHdoaWxlIGxvYWRpbmcgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlRmlsZS5pbWFnZVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhbGwgUHJvbWlzZXMgaW4gYXJyYXkgYW5kIHJldHVybiBhbm90aGVyIFByb21pc2Ugd2hlbiBhbGwgaGF2ZSByZXNvbHZlZCBvciBjb25zb2xlIGxvZyByZWFzb24gd2hlbiBhbnkgcmVqZWN0XHJcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKFxyXG4gICAgICAodGV4dHVyZXMpID0+IHtcclxuICAgICAgICAvLyBTZXQgdGhlIHRleHR1cmVzIHByb3Agb2JqZWN0IHRvIGhhdmUgbmFtZSBiZSB0aGUgcmVzb2x2ZWQgdGV4dHVyZVxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dHVyZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHRoaXMudGV4dHVyZXNbT2JqZWN0LmtleXModGV4dHVyZXNbaV0pWzBdXSA9XHJcbiAgICAgICAgICAgIHRleHR1cmVzW2ldW09iamVjdC5rZXlzKHRleHR1cmVzW2ldKVswXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdUZXh0dXJlcyBsb2FkZWQnKVxyXG4gICAgICB9LFxyXG4gICAgICAocmVhc29uKSA9PiBjb25zb2xlLmxvZyhyZWFzb24pXHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge1xyXG4gIEJ1ZmZlckF0dHJpYnV0ZSxcclxuICBCdWZmZXJHZW9tZXRyeSxcclxuICBGbG9hdDMyQnVmZmVyQXR0cmlidXRlLFxyXG4gIEludGVybGVhdmVkQnVmZmVyLFxyXG4gIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlLFxyXG4gIFRyaWFuZ2xlRmFuRHJhd01vZGUsXHJcbiAgVHJpYW5nbGVTdHJpcERyYXdNb2RlLFxyXG4gIFRyaWFuZ2xlc0RyYXdNb2RlLFxyXG4gIFZlY3RvcjMsXHJcbn0gZnJvbSBcIlRIUkVFXCI7XHJcblxyXG5jbGFzcyBCdWZmZXJHZW9tZXRyeVV0aWxzIHtcclxuICBzdGF0aWMgY29tcHV0ZVRhbmdlbnRzKGdlb21ldHJ5OiBUSFJFRS5CdWZmZXJHZW9tZXRyeSkge1xyXG4gICAgZ2VvbWV0cnkuY29tcHV0ZVRhbmdlbnRzKCk7XHJcbiAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLmNvbXB1dGVUYW5nZW50cygpIGhhcyBiZWVuIHJlbW92ZWQuIFVzZSBCdWZmZXJHZW9tZXRyeS5jb21wdXRlVGFuZ2VudHMoKSBpbnN0ZWFkLlwiXHJcbiAgICApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtICB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyaWVzXHJcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gdXNlR3JvdXBzXHJcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnl9XHJcbiAgICovXHJcbiAgc3RhdGljIG1lcmdlQnVmZmVyR2VvbWV0cmllcyhcclxuICAgIGdlb21ldHJpZXM6IEFycmF5PFRIUkVFLkJ1ZmZlckdlb21ldHJ5PixcclxuICAgIHVzZUdyb3VwcyA9IGZhbHNlXHJcbiAgKSB7XHJcbiAgICBjb25zdCBpc0luZGV4ZWQgPSBnZW9tZXRyaWVzWzBdLmluZGV4ICE9PSBudWxsO1xyXG5cclxuICAgIGNvbnN0IGF0dHJpYnV0ZXNVc2VkID0gbmV3IFNldChPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLmF0dHJpYnV0ZXMpKTtcclxuICAgIGNvbnN0IG1vcnBoQXR0cmlidXRlc1VzZWQgPSBuZXcgU2V0KFxyXG4gICAgICBPYmplY3Qua2V5cyhnZW9tZXRyaWVzWzBdLm1vcnBoQXR0cmlidXRlcylcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgYXR0cmlidXRlczogUmVjb3JkPFxyXG4gICAgICBzdHJpbmcsXHJcbiAgICAgIEFycmF5PFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZSB8IFRIUkVFLkludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlPlxyXG4gICAgPiA9IHt9O1xyXG4gICAgY29uc3QgbW9ycGhBdHRyaWJ1dGVzOiBSZWNvcmQ8XHJcbiAgICAgIHN0cmluZyxcclxuICAgICAgQXJyYXk8QXJyYXk8VEhSRUUuQnVmZmVyQXR0cmlidXRlIHwgVEhSRUUuSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+PlxyXG4gICAgPiA9IHt9O1xyXG5cclxuICAgIGNvbnN0IG1vcnBoVGFyZ2V0c1JlbGF0aXZlID0gZ2VvbWV0cmllc1swXS5tb3JwaFRhcmdldHNSZWxhdGl2ZTtcclxuXHJcbiAgICBjb25zdCBtZXJnZWRHZW9tZXRyeSA9IG5ldyBCdWZmZXJHZW9tZXRyeSgpO1xyXG5cclxuICAgIGxldCBvZmZzZXQgPSAwO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICBjb25zdCBnZW9tZXRyeSA9IGdlb21ldHJpZXNbaV07XHJcbiAgICAgIGxldCBhdHRyaWJ1dGVzQ291bnQgPSAwO1xyXG5cclxuICAgICAgLy8gZW5zdXJlIHRoYXQgYWxsIGdlb21ldHJpZXMgYXJlIGluZGV4ZWQsIG9yIG5vbmVcclxuXHJcbiAgICAgIGlmIChpc0luZGV4ZWQgIT09IChnZW9tZXRyeS5pbmRleCAhPT0gbnVsbCkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICBpICtcclxuICAgICAgICAgICAgXCIuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBpbmRleCBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBnYXRoZXIgYXR0cmlidXRlcywgZXhpdCBlYXJseSBpZiB0aGV5J3JlIGRpZmZlcmVudFxyXG5cclxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICBpZiAoIWF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAgICcuIEFsbCBnZW9tZXRyaWVzIG11c3QgaGF2ZSBjb21wYXRpYmxlIGF0dHJpYnV0ZXM7IG1ha2Ugc3VyZSBcIicgK1xyXG4gICAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICAgICdcIiBhdHRyaWJ1dGUgZXhpc3RzIGFtb25nIGFsbCBnZW9tZXRyaWVzLCBvciBpbiBub25lIG9mIHRoZW0uJ1xyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNbbmFtZV0gPT09IHVuZGVmaW5lZCkgYXR0cmlidXRlc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgICBhdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkuYXR0cmlidXRlc1tuYW1lXSk7XHJcblxyXG4gICAgICAgIGF0dHJpYnV0ZXNDb3VudCsrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBlbnN1cmUgZ2VvbWV0cmllcyBoYXZlIHRoZSBzYW1lIG51bWJlciBvZiBhdHRyaWJ1dGVzXHJcblxyXG4gICAgICBpZiAoYXR0cmlidXRlc0NvdW50ICE9PSBhdHRyaWJ1dGVzVXNlZC5zaXplKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4IFwiICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgIFwiLiBNYWtlIHN1cmUgYWxsIGdlb21ldHJpZXMgaGF2ZSB0aGUgc2FtZSBudW1iZXIgb2YgYXR0cmlidXRlcy5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGdhdGhlciBtb3JwaCBhdHRyaWJ1dGVzLCBleGl0IGVhcmx5IGlmIHRoZXkncmUgZGlmZmVyZW50XHJcblxyXG4gICAgICBpZiAobW9ycGhUYXJnZXRzUmVsYXRpdmUgIT09IGdlb21ldHJ5Lm1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogLm1lcmdlQnVmZmVyR2VvbWV0cmllcygpIGZhaWxlZCB3aXRoIGdlb21ldHJ5IGF0IGluZGV4IFwiICtcclxuICAgICAgICAgICAgaSArXHJcbiAgICAgICAgICAgIFwiLiAubW9ycGhUYXJnZXRzUmVsYXRpdmUgbXVzdCBiZSBjb25zaXN0ZW50IHRocm91Z2hvdXQgYWxsIGdlb21ldHJpZXMuXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzKSB7XHJcbiAgICAgICAgaWYgKCFtb3JwaEF0dHJpYnV0ZXNVc2VkLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAgIFwiLiAgLm1vcnBoQXR0cmlidXRlcyBtdXN0IGJlIGNvbnNpc3RlbnQgdGhyb3VnaG91dCBhbGwgZ2VvbWV0cmllcy5cIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG1vcnBoQXR0cmlidXRlc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0gPSBbXTtcclxuXHJcbiAgICAgICAgbW9ycGhBdHRyaWJ1dGVzW25hbWVdLnB1c2goZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZ2F0aGVyIC51c2VyRGF0YVxyXG5cclxuICAgICAgbWVyZ2VkR2VvbWV0cnkudXNlckRhdGEubWVyZ2VkVXNlckRhdGEgPVxyXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5LnVzZXJEYXRhLm1lcmdlZFVzZXJEYXRhIHx8IFtdO1xyXG4gICAgICBtZXJnZWRHZW9tZXRyeS51c2VyRGF0YS5tZXJnZWRVc2VyRGF0YS5wdXNoKGdlb21ldHJ5LnVzZXJEYXRhKTtcclxuXHJcbiAgICAgIGlmICh1c2VHcm91cHMpIHtcclxuICAgICAgICBsZXQgY291bnQ7XHJcblxyXG4gICAgICAgIGlmIChpc0luZGV4ZWQpIHtcclxuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuaW5kZXguY291bnQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGNvdW50ID0gZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5jb3VudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJHZW9tZXRyaWVzKCkgZmFpbGVkIHdpdGggZ2VvbWV0cnkgYXQgaW5kZXggXCIgK1xyXG4gICAgICAgICAgICAgIGkgK1xyXG4gICAgICAgICAgICAgIFwiLiBUaGUgZ2VvbWV0cnkgbXVzdCBoYXZlIGVpdGhlciBhbiBpbmRleCBvciBhIHBvc2l0aW9uIGF0dHJpYnV0ZVwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtZXJnZWRHZW9tZXRyeS5hZGRHcm91cChvZmZzZXQsIGNvdW50LCBpKTtcclxuXHJcbiAgICAgICAgb2Zmc2V0ICs9IGNvdW50O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gbWVyZ2UgaW5kaWNlc1xyXG5cclxuICAgIGlmIChpc0luZGV4ZWQpIHtcclxuICAgICAgbGV0IGluZGV4T2Zmc2V0ID0gMDtcclxuICAgICAgY29uc3QgbWVyZ2VkSW5kZXggPSBbXTtcclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2VvbWV0cmllcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZ2VvbWV0cmllc1tpXS5pbmRleDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBpbmRleC5jb3VudDsgKytqKSB7XHJcbiAgICAgICAgICBtZXJnZWRJbmRleC5wdXNoKGluZGV4LmdldFgoaikgKyBpbmRleE9mZnNldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpbmRleE9mZnNldCArPSBnZW9tZXRyaWVzW2ldLmF0dHJpYnV0ZXMucG9zaXRpb24uY291bnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5LnNldEluZGV4KG1lcmdlZEluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBhdHRyaWJ1dGVzXHJcblxyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgY29uc3QgbWVyZ2VkQXR0cmlidXRlID0gdGhpcy5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoYXR0cmlidXRlc1tuYW1lXSk7XHJcblxyXG4gICAgICBpZiAoIW1lcmdlZEF0dHJpYnV0ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSBcIiArXHJcbiAgICAgICAgICAgIG5hbWUgK1xyXG4gICAgICAgICAgICBcIiBhdHRyaWJ1dGUuXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5zZXRBdHRyaWJ1dGUobmFtZSwgbWVyZ2VkQXR0cmlidXRlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBtZXJnZSBtb3JwaCBhdHRyaWJ1dGVzXHJcblxyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIG1vcnBoQXR0cmlidXRlcykge1xyXG4gICAgICBjb25zdCBudW1Nb3JwaFRhcmdldHMgPSBtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bMF0ubGVuZ3RoO1xyXG5cclxuICAgICAgaWYgKG51bU1vcnBoVGFyZ2V0cyA9PT0gMCkgYnJlYWs7XHJcblxyXG4gICAgICBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgPSBtZXJnZWRHZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMgfHwge307XHJcbiAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Nb3JwaFRhcmdldHM7ICsraSkge1xyXG4gICAgICAgIGNvbnN0IG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb3JwaEF0dHJpYnV0ZXNbbmFtZV0ubGVuZ3RoOyArK2opIHtcclxuICAgICAgICAgIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2UucHVzaChtb3JwaEF0dHJpYnV0ZXNbbmFtZV1bal1baV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbWVyZ2VkTW9ycGhBdHRyaWJ1dGUgPSB0aGlzLm1lcmdlQnVmZmVyQXR0cmlidXRlcyhcclxuICAgICAgICAgIG1vcnBoQXR0cmlidXRlc1RvTWVyZ2VcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBpZiAoIW1lcmdlZE1vcnBoQXR0cmlidXRlKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckdlb21ldHJpZXMoKSBmYWlsZWQgd2hpbGUgdHJ5aW5nIHRvIG1lcmdlIHRoZSBcIiArXHJcbiAgICAgICAgICAgICAgbmFtZSArXHJcbiAgICAgICAgICAgICAgXCIgbW9ycGhBdHRyaWJ1dGUuXCJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lcmdlZEdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXS5wdXNoKG1lcmdlZE1vcnBoQXR0cmlidXRlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtZXJnZWRHZW9tZXRyeTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyQXR0cmlidXRlPn0gYXR0cmlidXRlc1xyXG4gICAqIEByZXR1cm4ge0J1ZmZlckF0dHJpYnV0ZX1cclxuICAgKi9cclxuICBzdGF0aWMgbWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKFxyXG4gICAgYXR0cmlidXRlczogQXJyYXk8QnVmZmVyQXR0cmlidXRlIHwgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGU+XHJcbiAgKSB7XHJcbiAgICBsZXQgVHlwZWRBcnJheTtcclxuICAgIGxldCBpdGVtU2l6ZTtcclxuICAgIGxldCBub3JtYWxpemVkO1xyXG4gICAgbGV0IGFycmF5TGVuZ3RoID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJpYnV0ZXMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAoYXR0cmlidXRlIGFzIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlKS5pc0ludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlXHJcbiAgICAgICkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZC5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XHJcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzOiAubWVyZ2VCdWZmZXJBdHRyaWJ1dGVzKCkgZmFpbGVkLiBCdWZmZXJBdHRyaWJ1dGUuYXJyYXkgbXVzdCBiZSBvZiBjb25zaXN0ZW50IGFycmF5IHR5cGVzIGFjcm9zcyBtYXRjaGluZyBhdHRyaWJ1dGVzLlwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGl0ZW1TaXplID09PSB1bmRlZmluZWQpIGl0ZW1TaXplID0gYXR0cmlidXRlLml0ZW1TaXplO1xyXG4gICAgICBpZiAoaXRlbVNpemUgIT09IGF0dHJpYnV0ZS5pdGVtU2l6ZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5pdGVtU2l6ZSBtdXN0IGJlIGNvbnNpc3RlbnQgYWNyb3NzIG1hdGNoaW5nIGF0dHJpYnV0ZXMuXCJcclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobm9ybWFsaXplZCA9PT0gdW5kZWZpbmVkKSBub3JtYWxpemVkID0gYXR0cmlidXRlLm5vcm1hbGl6ZWQ7XHJcbiAgICAgIGlmIChub3JtYWxpemVkICE9PSBhdHRyaWJ1dGUubm9ybWFsaXplZCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHM6IC5tZXJnZUJ1ZmZlckF0dHJpYnV0ZXMoKSBmYWlsZWQuIEJ1ZmZlckF0dHJpYnV0ZS5ub3JtYWxpemVkIG11c3QgYmUgY29uc2lzdGVudCBhY3Jvc3MgbWF0Y2hpbmcgYXR0cmlidXRlcy5cIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XHJcbiAgICB9XHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgIGNvbnN0IGFycmF5ID0gbmV3IFR5cGVkQXJyYXkoYXJyYXlMZW5ndGgpO1xyXG4gICAgbGV0IG9mZnNldCA9IDA7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRyaWJ1dGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgIGFycmF5LnNldChhdHRyaWJ1dGVzW2ldLmFycmF5LCBvZmZzZXQpO1xyXG5cclxuICAgICAgb2Zmc2V0ICs9IGF0dHJpYnV0ZXNbaV0uYXJyYXkubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgQnVmZmVyQXR0cmlidXRlKGFycmF5LCBpdGVtU2l6ZSwgbm9ybWFsaXplZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0FycmF5PEJ1ZmZlckF0dHJpYnV0ZT59IGF0dHJpYnV0ZXNcclxuICAgKiBAcmV0dXJuIHtBcnJheTxJbnRlcmxlYXZlZEJ1ZmZlckF0dHJpYnV0ZT59XHJcbiAgICovXHJcbiAgc3RhdGljIGludGVybGVhdmVBdHRyaWJ1dGVzKGF0dHJpYnV0ZXM6IEFycmF5PEJ1ZmZlckF0dHJpYnV0ZT4pIHtcclxuICAgIC8vIEludGVybGVhdmVzIHRoZSBwcm92aWRlZCBhdHRyaWJ1dGVzIGludG8gYW4gSW50ZXJsZWF2ZWRCdWZmZXIgYW5kIHJldHVybnNcclxuICAgIC8vIGEgc2V0IG9mIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcyBmb3IgZWFjaCBhdHRyaWJ1dGVcclxuICAgIGxldCBUeXBlZEFycmF5O1xyXG4gICAgbGV0IGFycmF5TGVuZ3RoID0gMDtcclxuICAgIGxldCBzdHJpZGUgPSAwO1xyXG5cclxuICAgIC8vIGNhbGN1bGF0ZSB0aGUgdGhlIGxlbmd0aCBhbmQgdHlwZSBvZiB0aGUgaW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgIGZvciAobGV0IGkgPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGkgPCBsOyArK2kpIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tpXTtcclxuXHJcbiAgICAgIGlmIChUeXBlZEFycmF5ID09PSB1bmRlZmluZWQpIFR5cGVkQXJyYXkgPSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3I7XHJcbiAgICAgIGlmIChUeXBlZEFycmF5ICE9PSBhdHRyaWJ1dGUuYXJyYXkuY29uc3RydWN0b3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgXCJBdHRyaWJ1dGVCdWZmZXJzIG9mIGRpZmZlcmVudCB0eXBlcyBjYW5ub3QgYmUgaW50ZXJsZWF2ZWRcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFycmF5TGVuZ3RoICs9IGF0dHJpYnV0ZS5hcnJheS5sZW5ndGg7XHJcbiAgICAgIHN0cmlkZSArPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYXRlIHRoZSBzZXQgb2YgYnVmZmVyIGF0dHJpYnV0ZXNcclxuICAgIFxyXG4gICAgY29uc3QgaW50ZXJsZWF2ZWRCdWZmZXIgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXIoXHJcbiAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICBuZXcgVHlwZWRBcnJheShhcnJheUxlbmd0aCksXHJcbiAgICAgIHN0cmlkZVxyXG4gICAgKTtcclxuICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgY29uc3QgcmVzID0gW107XHJcbiAgICBjb25zdCBnZXR0ZXJzID0gW1wiZ2V0WFwiLCBcImdldFlcIiwgXCJnZXRaXCIsIFwiZ2V0V1wiXTtcclxuICAgIGNvbnN0IHNldHRlcnMgPSBbXCJzZXRYXCIsIFwic2V0WVwiLCBcInNldFpcIiwgXCJzZXRXXCJdO1xyXG5cclxuICAgIGZvciAobGV0IGogPSAwLCBsID0gYXR0cmlidXRlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcclxuICAgICAgY29uc3QgYXR0cmlidXRlID0gYXR0cmlidXRlc1tqXTtcclxuICAgICAgY29uc3QgaXRlbVNpemUgPSBhdHRyaWJ1dGUuaXRlbVNpemU7XHJcbiAgICAgIGNvbnN0IGNvdW50ID0gYXR0cmlidXRlLmNvdW50O1xyXG4gICAgICBjb25zdCBpYmEgPSBuZXcgSW50ZXJsZWF2ZWRCdWZmZXJBdHRyaWJ1dGUoXHJcbiAgICAgICAgaW50ZXJsZWF2ZWRCdWZmZXIsXHJcbiAgICAgICAgaXRlbVNpemUsXHJcbiAgICAgICAgb2Zmc2V0LFxyXG4gICAgICAgIGF0dHJpYnV0ZS5ub3JtYWxpemVkXHJcbiAgICAgICk7XHJcbiAgICAgIHJlcy5wdXNoKGliYSk7XHJcblxyXG4gICAgICBvZmZzZXQgKz0gaXRlbVNpemU7XHJcblxyXG4gICAgICAvLyBNb3ZlIHRoZSBkYXRhIGZvciBlYWNoIGF0dHJpYnV0ZSBpbnRvIHRoZSBuZXcgaW50ZXJsZWF2ZWRCdWZmZXJcclxuICAgICAgLy8gYXQgdGhlIGFwcHJvcHJpYXRlIG9mZnNldFxyXG4gICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGNvdW50OyBjKyspIHtcclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcclxuICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgaWJhW3NldHRlcnNba11dKGMsIGF0dHJpYnV0ZVtnZXR0ZXJzW2tdXShjKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXk8QnVmZmVyR2VvbWV0cnk+fSBnZW9tZXRyeVxyXG4gICAqIEByZXR1cm4ge251bWJlcn1cclxuICAgKi9cclxuICBzdGF0aWMgZXN0aW1hdGVCeXRlc1VzZWQoZ2VvbWV0cnk6IEJ1ZmZlckdlb21ldHJ5KSB7XHJcbiAgICAvLyBSZXR1cm4gdGhlIGVzdGltYXRlZCBtZW1vcnkgdXNlZCBieSB0aGlzIGdlb21ldHJ5IGluIGJ5dGVzXHJcbiAgICAvLyBDYWxjdWxhdGUgdXNpbmcgaXRlbVNpemUsIGNvdW50LCBhbmQgQllURVNfUEVSX0VMRU1FTlQgdG8gYWNjb3VudFxyXG4gICAgLy8gZm9yIEludGVybGVhdmVkQnVmZmVyQXR0cmlidXRlcy5cclxuICAgIGxldCBtZW0gPSAwO1xyXG4gICAgZm9yIChjb25zdCBuYW1lIGluIGdlb21ldHJ5LmF0dHJpYnV0ZXMpIHtcclxuICAgICAgY29uc3QgYXR0ciA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIG1lbSArPSBhdHRyLmNvdW50ICogYXR0ci5pdGVtU2l6ZSAqIGF0dHIuYXJyYXkuQllURVNfUEVSX0VMRU1FTlQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcbiAgICBcclxuICAgIG1lbSArPSBpbmRpY2VzXHJcbiAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgPyBpbmRpY2VzLmNvdW50ICogaW5kaWNlcy5pdGVtU2l6ZSAqIGluZGljZXMuYXJyYXkuQllURVNfUEVSX0VMRU1FTlRcclxuICAgICAgOiAwO1xyXG4gICAgcmV0dXJuIG1lbTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHRvbGVyYW5jZVxyXG4gICAqIEByZXR1cm4ge0J1ZmZlckdlb21ldHJ5Pn1cclxuICAgKi9cclxuICBzdGF0aWMgbWVyZ2VWZXJ0aWNlcyhnZW9tZXRyeTogQnVmZmVyR2VvbWV0cnksIHRvbGVyYW5jZSA9IDFlLTQpIHtcclxuICAgIHRvbGVyYW5jZSA9IE1hdGgubWF4KHRvbGVyYW5jZSwgTnVtYmVyLkVQU0lMT04pO1xyXG5cclxuICAgIC8vIEdlbmVyYXRlIGFuIGluZGV4IGJ1ZmZlciBpZiB0aGUgZ2VvbWV0cnkgZG9lc24ndCBoYXZlIG9uZSwgb3Igb3B0aW1pemUgaXRcclxuICAgIC8vIGlmIGl0J3MgYWxyZWFkeSBhdmFpbGFibGUuXHJcbiAgICBjb25zdCBoYXNoVG9JbmRleDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgY29uc3QgaW5kaWNlcyA9IGdlb21ldHJ5LmdldEluZGV4KCk7XHJcbiAgICBjb25zdCBwb3NpdGlvbnMgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUoXCJwb3NpdGlvblwiKTtcclxuICAgIGNvbnN0IHZlcnRleENvdW50ID0gaW5kaWNlcyA/IGluZGljZXMuY291bnQgOiBwb3NpdGlvbnMuY291bnQ7XHJcblxyXG4gICAgLy8gbmV4dCB2YWx1ZSBmb3IgdHJpYW5nbGUgaW5kaWNlc1xyXG4gICAgbGV0IG5leHRJbmRleCA9IDA7XHJcblxyXG4gICAgLy8gYXR0cmlidXRlcyBhbmQgbmV3IGF0dHJpYnV0ZSBhcnJheXNcclxuICAgIGNvbnN0IGF0dHJpYnV0ZU5hbWVzID0gT2JqZWN0LmtleXMoZ2VvbWV0cnkuYXR0cmlidXRlcyk7XHJcbiAgICBjb25zdCBhdHRyQXJyYXlzOiBSZWNvcmQ8c3RyaW5nLCBBcnJheTxCdWZmZXJBdHRyaWJ1dGU+PiA9IHt9O1xyXG4gICAgY29uc3QgbW9ycGhBdHRyc0FycmF5czogUmVjb3JkPHN0cmluZywgQXJyYXk8YW55Pj4gPSB7fTtcclxuICAgIGNvbnN0IG5ld0luZGljZXMgPSBbXTtcclxuICAgIGNvbnN0IGdldHRlcnMgPSBbXCJnZXRYXCIsIFwiZ2V0WVwiLCBcImdldFpcIiwgXCJnZXRXXCJdO1xyXG5cclxuICAgIC8vIGluaXRpYWxpemUgdGhlIGFycmF5c1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG5cclxuICAgICAgYXR0ckFycmF5c1tuYW1lXSA9IFtdO1xyXG5cclxuICAgICAgY29uc3QgbW9ycGhBdHRyID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzW25hbWVdO1xyXG4gICAgICBpZiAobW9ycGhBdHRyKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbW9ycGhBdHRyc0FycmF5c1tuYW1lXSA9IG5ldyBBcnJheShtb3JwaEF0dHIubGVuZ3RoKVxyXG4gICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgLmZpbGwoKVxyXG4gICAgICAgICAgLm1hcCgoKSA9PiBbXSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBjb252ZXJ0IHRoZSBlcnJvciB0b2xlcmFuY2UgdG8gYW4gYW1vdW50IG9mIGRlY2ltYWwgcGxhY2VzIHRvIHRydW5jYXRlIHRvXHJcbiAgICBjb25zdCBkZWNpbWFsU2hpZnQgPSBNYXRoLmxvZzEwKDEgLyB0b2xlcmFuY2UpO1xyXG4gICAgY29uc3Qgc2hpZnRNdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIGRlY2ltYWxTaGlmdCk7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyBpKyspIHtcclxuICAgICAgY29uc3QgaW5kZXggPSBpbmRpY2VzID8gaW5kaWNlcy5nZXRYKGkpIDogaTtcclxuXHJcbiAgICAgIC8vIEdlbmVyYXRlIGEgaGFzaCBmb3IgdGhlIHZlcnRleCBhdHRyaWJ1dGVzIGF0IHRoZSBjdXJyZW50IGluZGV4ICdpJ1xyXG4gICAgICBsZXQgaGFzaCA9IFwiXCI7XHJcbiAgICAgIGZvciAobGV0IGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XHJcbiAgICAgICAgY29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2pdO1xyXG4gICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IGdlb21ldHJ5LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICBjb25zdCBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBpdGVtU2l6ZTsgaysrKSB7XHJcbiAgICAgICAgICAvLyBkb3VibGUgdGlsZGUgdHJ1bmNhdGVzIHRoZSBkZWNpbWFsIHZhbHVlXHJcbiAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgIGhhc2ggKz0gYCR7fn4oYXR0cmlidXRlW2dldHRlcnNba11dKGluZGV4KSAqIHNoaWZ0TXVsdGlwbGllcil9LGA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBZGQgYW5vdGhlciByZWZlcmVuY2UgdG8gdGhlIHZlcnRleCBpZiBpdCdzIGFscmVhZHlcclxuICAgICAgLy8gdXNlZCBieSBhbm90aGVyIGluZGV4XHJcbiAgICAgIGlmIChoYXNoIGluIGhhc2hUb0luZGV4KSB7XHJcbiAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGhhc2hUb0luZGV4W2hhc2hdKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBjb3B5IGRhdGEgdG8gdGhlIG5ldyBpbmRleCBpbiB0aGUgYXR0cmlidXRlIGFycmF5c1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwLCBsID0gYXR0cmlidXRlTmFtZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBuYW1lID0gYXR0cmlidXRlTmFtZXNbal07XHJcbiAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgICAgICBjb25zdCBtb3JwaEF0dHIgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXNbbmFtZV07XHJcbiAgICAgICAgICBjb25zdCBpdGVtU2l6ZSA9IGF0dHJpYnV0ZS5pdGVtU2l6ZTtcclxuICAgICAgICAgIGNvbnN0IG5ld2FycmF5ID0gYXR0ckFycmF5c1tuYW1lXTtcclxuICAgICAgICAgIGNvbnN0IG5ld01vcnBoQXJyYXlzID0gbW9ycGhBdHRyc0FycmF5c1tuYW1lXTtcclxuXHJcbiAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGl0ZW1TaXplOyBrKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZ2V0dGVyRnVuYyA9IGdldHRlcnNba107XHJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBuZXdhcnJheS5wdXNoKGF0dHJpYnV0ZVtnZXR0ZXJGdW5jIGFzIFwiZ2V0WFwiXShpbmRleCkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKG1vcnBoQXR0cikge1xyXG4gICAgICAgICAgICAgIGZvciAobGV0IG0gPSAwLCBtbCA9IG1vcnBoQXR0ci5sZW5ndGg7IG0gPCBtbDsgbSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIG5ld01vcnBoQXJyYXlzW21dLnB1c2gobW9ycGhBdHRyW21dW2dldHRlckZ1bmNdKGluZGV4KSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBoYXNoVG9JbmRleFtoYXNoXSA9IG5leHRJbmRleDtcclxuICAgICAgICBuZXdJbmRpY2VzLnB1c2gobmV4dEluZGV4KTtcclxuICAgICAgICBuZXh0SW5kZXgrKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYXRlIHR5cGVkIGFycmF5cyBmcm9tIG5ldyBhdHRyaWJ1dGUgYXJyYXlzIGFuZCB1cGRhdGVcclxuICAgIC8vIHRoZSBhdHRyaWJ1dGVCdWZmZXJzXHJcbiAgICBjb25zdCByZXN1bHQgPSBnZW9tZXRyeS5jbG9uZSgpO1xyXG4gICAgZm9yIChsZXQgaSA9IDAsIGwgPSBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgY29uc3QgbmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xyXG4gICAgICBjb25zdCBvbGRBdHRyaWJ1dGUgPSBnZW9tZXRyeS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICBjb25zdCBidWZmZXIgPSBuZXcgb2xkQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKGF0dHJBcnJheXNbbmFtZV0pO1xyXG4gICAgICBjb25zdCBhdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgIGJ1ZmZlcixcclxuICAgICAgICBvbGRBdHRyaWJ1dGUuaXRlbVNpemUsXHJcbiAgICAgICAgb2xkQXR0cmlidXRlLm5vcm1hbGl6ZWRcclxuICAgICAgKTtcclxuXHJcbiAgICAgIHJlc3VsdC5zZXRBdHRyaWJ1dGUobmFtZSwgYXR0cmlidXRlKTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgYXR0cmlidXRlIGFycmF5c1xyXG4gICAgICBpZiAobmFtZSBpbiBtb3JwaEF0dHJzQXJyYXlzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBtb3JwaEF0dHJzQXJyYXlzW25hbWVdLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICBjb25zdCBvbGRNb3JwaEF0dHJpYnV0ZSA9IGdlb21ldHJ5Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXTtcclxuICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgY29uc3QgYnVmZmVyID0gbmV3IG9sZE1vcnBoQXR0cmlidXRlLmFycmF5LmNvbnN0cnVjdG9yKFxyXG4gICAgICAgICAgICBtb3JwaEF0dHJzQXJyYXlzW25hbWVdW2pdXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgY29uc3QgbW9ycGhBdHRyaWJ1dGUgPSBuZXcgQnVmZmVyQXR0cmlidXRlKFxyXG4gICAgICAgICAgICBidWZmZXIsXHJcbiAgICAgICAgICAgIG9sZE1vcnBoQXR0cmlidXRlLml0ZW1TaXplLFxyXG4gICAgICAgICAgICBvbGRNb3JwaEF0dHJpYnV0ZS5ub3JtYWxpemVkXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgcmVzdWx0Lm1vcnBoQXR0cmlidXRlc1tuYW1lXVtqXSA9IG1vcnBoQXR0cmlidXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGluZGljZXNcclxuXHJcbiAgICByZXN1bHQuc2V0SW5kZXgobmV3SW5kaWNlcyk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QnVmZmVyR2VvbWV0cnl9IGdlb21ldHJ5XHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGRyYXdNb2RlXHJcbiAgICogQHJldHVybiB7QnVmZmVyR2VvbWV0cnk+fVxyXG4gICAqL1xyXG4gIHN0YXRpYyB0b1RyaWFuZ2xlc0RyYXdNb2RlKGdlb21ldHJ5OiBCdWZmZXJHZW9tZXRyeSwgZHJhd01vZGU6IG51bWJlcikge1xyXG4gICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZXNEcmF3TW9kZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogR2VvbWV0cnkgYWxyZWFkeSBkZWZpbmVkIGFzIHRyaWFuZ2xlcy5cIlxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm4gZ2VvbWV0cnk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBkcmF3TW9kZSA9PT0gVHJpYW5nbGVGYW5EcmF3TW9kZSB8fFxyXG4gICAgICBkcmF3TW9kZSA9PT0gVHJpYW5nbGVTdHJpcERyYXdNb2RlXHJcbiAgICApIHtcclxuICAgICAgbGV0IGluZGV4ID0gZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcclxuXHJcbiAgICAgIC8vIGdlbmVyYXRlIGluZGV4IGlmIG5vdCBwcmVzZW50XHJcblxyXG4gICAgICBpZiAoaW5kZXggPT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCBpbmRpY2VzID0gW107XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZ2VvbWV0cnkuZ2V0QXR0cmlidXRlKFwicG9zaXRpb25cIik7XHJcblxyXG4gICAgICAgIGlmIChwb3NpdGlvbiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvc2l0aW9uLmNvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGdlb21ldHJ5LnNldEluZGV4KGluZGljZXMpO1xyXG4gICAgICAgICAgaW5kZXggPSBnZW9tZXRyeS5nZXRJbmRleCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgICBcIlRIUkVFLkJ1ZmZlckdlb21ldHJ5VXRpbHMudG9UcmlhbmdsZXNEcmF3TW9kZSgpOiBVbmRlZmluZWQgcG9zaXRpb24gYXR0cmlidXRlLiBQcm9jZXNzaW5nIG5vdCBwb3NzaWJsZS5cIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHJldHVybiBnZW9tZXRyeTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vXHJcblxyXG4gICAgICBjb25zdCBudW1iZXJPZlRyaWFuZ2xlcyA9IGluZGV4LmNvdW50IC0gMjtcclxuICAgICAgY29uc3QgbmV3SW5kaWNlcyA9IFtdO1xyXG5cclxuICAgICAgaWYgKGRyYXdNb2RlID09PSBUcmlhbmdsZUZhbkRyYXdNb2RlKSB7XHJcbiAgICAgICAgLy8gZ2wuVFJJQU5HTEVfRkFOXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IG51bWJlck9mVHJpYW5nbGVzOyBpKyspIHtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKDApKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGdsLlRSSUFOR0xFX1NUUklQXHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtYmVyT2ZUcmlhbmdsZXM7IGkrKykge1xyXG4gICAgICAgICAgaWYgKGkgJSAyID09PSAwKSB7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDEpKTtcclxuICAgICAgICAgICAgbmV3SW5kaWNlcy5wdXNoKGluZGV4LmdldFgoaSArIDIpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAyKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkgKyAxKSk7XHJcbiAgICAgICAgICAgIG5ld0luZGljZXMucHVzaChpbmRleC5nZXRYKGkpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuZXdJbmRpY2VzLmxlbmd0aCAvIDMgIT09IG51bWJlck9mVHJpYW5nbGVzKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcclxuICAgICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlscy50b1RyaWFuZ2xlc0RyYXdNb2RlKCk6IFVuYWJsZSB0byBnZW5lcmF0ZSBjb3JyZWN0IGFtb3VudCBvZiB0cmlhbmdsZXMuXCJcclxuICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBidWlsZCBmaW5hbCBnZW9tZXRyeVxyXG5cclxuICAgICAgY29uc3QgbmV3R2VvbWV0cnkgPSBnZW9tZXRyeS5jbG9uZSgpO1xyXG4gICAgICBuZXdHZW9tZXRyeS5zZXRJbmRleChuZXdJbmRpY2VzKTtcclxuICAgICAgbmV3R2VvbWV0cnkuY2xlYXJHcm91cHMoKTtcclxuXHJcbiAgICAgIHJldHVybiBuZXdHZW9tZXRyeTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXHJcbiAgICAgICAgXCJUSFJFRS5CdWZmZXJHZW9tZXRyeVV0aWxzLnRvVHJpYW5nbGVzRHJhd01vZGUoKTogVW5rbm93biBkcmF3IG1vZGU6XCIsXHJcbiAgICAgICAgZHJhd01vZGVcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIGdlb21ldHJ5O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsY3VsYXRlcyB0aGUgbW9ycGhlZCBhdHRyaWJ1dGVzIG9mIGEgbW9ycGhlZC9za2lubmVkIEJ1ZmZlckdlb21ldHJ5LlxyXG4gICAqIEhlbHBmdWwgZm9yIFJheXRyYWNpbmcgb3IgRGVjYWxzLlxyXG4gICAqIEBwYXJhbSB7TWVzaCB8IExpbmUgfCBQb2ludHN9IG9iamVjdCBBbiBpbnN0YW5jZSBvZiBNZXNoLCBMaW5lIG9yIFBvaW50cy5cclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IEFuIE9iamVjdCB3aXRoIG9yaWdpbmFsIHBvc2l0aW9uL25vcm1hbCBhdHRyaWJ1dGVzIGFuZCBtb3JwaGVkIG9uZXMuXHJcbiAgICovXHJcbiAgc3RhdGljIGNvbXB1dGVNb3JwaGVkQXR0cmlidXRlcyhcclxuICAgIG9iamVjdDogVEhSRUUuTWVzaCB8IFRIUkVFLkxpbmUgfCBUSFJFRS5Qb2ludHNcclxuICApIHtcclxuICAgIGlmIChvYmplY3QuZ2VvbWV0cnkuaXNCdWZmZXJHZW9tZXRyeSAhPT0gdHJ1ZSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgIFwiVEhSRUUuQnVmZmVyR2VvbWV0cnlVdGlsczogR2VvbWV0cnkgaXMgbm90IG9mIHR5cGUgQnVmZmVyR2VvbWV0cnkuXCJcclxuICAgICAgKTtcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX3ZBID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIGNvbnN0IF92QiA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICBjb25zdCBfdkMgPSBuZXcgVmVjdG9yMygpO1xyXG5cclxuICAgIGNvbnN0IF90ZW1wQSA9IG5ldyBWZWN0b3IzKCk7XHJcbiAgICBjb25zdCBfdGVtcEIgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgY29uc3QgX3RlbXBDID0gbmV3IFZlY3RvcjMoKTtcclxuXHJcbiAgICBjb25zdCBfbW9ycGhBID0gbmV3IFZlY3RvcjMoKTtcclxuICAgIGNvbnN0IF9tb3JwaEIgPSBuZXcgVmVjdG9yMygpO1xyXG4gICAgY29uc3QgX21vcnBoQyA9IG5ldyBWZWN0b3IzKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxyXG4gICAgICBvYmplY3Q6IFRIUkVFLk1lc2gsXHJcbiAgICAgIG1hdGVyaWFsOiBUSFJFRS5NZXNoQmFzaWNNYXRlcmlhbCxcclxuICAgICAgYXR0cmlidXRlOiBUSFJFRS5CdWZmZXJBdHRyaWJ1dGUsXHJcbiAgICAgIG1vcnBoQXR0cmlidXRlOiBUSFJFRS5CdWZmZXJBdHRyaWJ1dGVbXSxcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgYSxcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIGIsXHJcbiAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICBjLFxyXG4gICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVxyXG4gICAgKSB7XHJcbiAgICAgIF92QS5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSwgYSk7XHJcbiAgICAgIF92Qi5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSwgYik7XHJcbiAgICAgIF92Qy5mcm9tQnVmZmVyQXR0cmlidXRlKGF0dHJpYnV0ZSwgYyk7XHJcblxyXG4gICAgICBjb25zdCBtb3JwaEluZmx1ZW5jZXMgPSBvYmplY3QubW9ycGhUYXJnZXRJbmZsdWVuY2VzO1xyXG5cclxuICAgICAgaWYgKG1hdGVyaWFsLm1vcnBoVGFyZ2V0cyAmJiBtb3JwaEF0dHJpYnV0ZSAmJiBtb3JwaEluZmx1ZW5jZXMpIHtcclxuICAgICAgICBfbW9ycGhBLnNldCgwLCAwLCAwKTtcclxuICAgICAgICBfbW9ycGhCLnNldCgwLCAwLCAwKTtcclxuICAgICAgICBfbW9ycGhDLnNldCgwLCAwLCAwKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGlsID0gbW9ycGhBdHRyaWJ1dGUubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgY29uc3QgaW5mbHVlbmNlID0gbW9ycGhJbmZsdWVuY2VzW2ldO1xyXG4gICAgICAgICAgY29uc3QgbW9ycGggPSBtb3JwaEF0dHJpYnV0ZVtpXTtcclxuXHJcbiAgICAgICAgICBpZiAoaW5mbHVlbmNlID09PSAwKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICBfdGVtcEEuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaCwgYSk7XHJcbiAgICAgICAgICBfdGVtcEIuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaCwgYik7XHJcbiAgICAgICAgICBfdGVtcEMuZnJvbUJ1ZmZlckF0dHJpYnV0ZShtb3JwaCwgYyk7XHJcblxyXG4gICAgICAgICAgaWYgKG1vcnBoVGFyZ2V0c1JlbGF0aXZlKSB7XHJcbiAgICAgICAgICAgIF9tb3JwaEEuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQSwgaW5mbHVlbmNlKTtcclxuICAgICAgICAgICAgX21vcnBoQi5hZGRTY2FsZWRWZWN0b3IoX3RlbXBCLCBpbmZsdWVuY2UpO1xyXG4gICAgICAgICAgICBfbW9ycGhDLmFkZFNjYWxlZFZlY3RvcihfdGVtcEMsIGluZmx1ZW5jZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfbW9ycGhBLmFkZFNjYWxlZFZlY3RvcihfdGVtcEEuc3ViKF92QSksIGluZmx1ZW5jZSk7XHJcbiAgICAgICAgICAgIF9tb3JwaEIuYWRkU2NhbGVkVmVjdG9yKF90ZW1wQi5zdWIoX3ZCKSwgaW5mbHVlbmNlKTtcclxuICAgICAgICAgICAgX21vcnBoQy5hZGRTY2FsZWRWZWN0b3IoX3RlbXBDLnN1YihfdkMpLCBpbmZsdWVuY2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3ZBLmFkZChfbW9ycGhBKTtcclxuICAgICAgICBfdkIuYWRkKF9tb3JwaEIpO1xyXG4gICAgICAgIF92Qy5hZGQoX21vcnBoQyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICgob2JqZWN0IGFzIFRIUkVFLlNraW5uZWRNZXNoKS5pc1NraW5uZWRNZXNoKSB7XHJcbiAgICAgICAgKG9iamVjdCBhcyBUSFJFRS5Ta2lubmVkTWVzaCkuYm9uZVRyYW5zZm9ybShhLCBfdkEpO1xyXG4gICAgICAgIChvYmplY3QgYXMgVEhSRUUuU2tpbm5lZE1lc2gpLmJvbmVUcmFuc2Zvcm0oYiwgX3ZCKTtcclxuICAgICAgICAob2JqZWN0IGFzIFRIUkVFLlNraW5uZWRNZXNoKS5ib25lVHJhbnNmb3JtKGMsIF92Qyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbYSAqIDMgKyAwXSA9IF92QS54O1xyXG4gICAgICBtb2RpZmllZEF0dHJpYnV0ZUFycmF5W2EgKiAzICsgMV0gPSBfdkEueTtcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVthICogMyArIDJdID0gX3ZBLno7XHJcbiAgICAgIG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbYiAqIDMgKyAwXSA9IF92Qi54O1xyXG4gICAgICBtb2RpZmllZEF0dHJpYnV0ZUFycmF5W2IgKiAzICsgMV0gPSBfdkIueTtcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVtiICogMyArIDJdID0gX3ZCLno7XHJcbiAgICAgIG1vZGlmaWVkQXR0cmlidXRlQXJyYXlbYyAqIDMgKyAwXSA9IF92Qy54O1xyXG4gICAgICBtb2RpZmllZEF0dHJpYnV0ZUFycmF5W2MgKiAzICsgMV0gPSBfdkMueTtcclxuICAgICAgbW9kaWZpZWRBdHRyaWJ1dGVBcnJheVtjICogMyArIDJdID0gX3ZDLno7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2VvbWV0cnkgPSBvYmplY3QuZ2VvbWV0cnk7XHJcbiAgICBjb25zdCBtYXRlcmlhbCA9IG9iamVjdC5tYXRlcmlhbDtcclxuXHJcbiAgICBsZXQgYSwgYiwgYztcclxuICAgIGNvbnN0IGluZGV4ID0gZ2VvbWV0cnkuaW5kZXg7XHJcbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcbiAgICBjb25zdCBtb3JwaFBvc2l0aW9uID0gZ2VvbWV0cnkubW9ycGhBdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG4gICAgY29uc3QgbW9ycGhUYXJnZXRzUmVsYXRpdmUgPSBnZW9tZXRyeS5tb3JwaFRhcmdldHNSZWxhdGl2ZTtcclxuICAgIGNvbnN0IG5vcm1hbEF0dHJpYnV0ZSA9IGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFsO1xyXG4gICAgY29uc3QgbW9ycGhOb3JtYWwgPSBnZW9tZXRyeS5tb3JwaEF0dHJpYnV0ZXMucG9zaXRpb247XHJcblxyXG4gICAgY29uc3QgZ3JvdXBzID0gZ2VvbWV0cnkuZ3JvdXBzO1xyXG4gICAgY29uc3QgZHJhd1JhbmdlID0gZ2VvbWV0cnkuZHJhd1JhbmdlO1xyXG4gICAgbGV0IGksIGosIGlsLCBqbDtcclxuICAgIGxldCBncm91cCwgZ3JvdXBNYXRlcmlhbDtcclxuICAgIGxldCBzdGFydCwgZW5kO1xyXG5cclxuICAgIGNvbnN0IG1vZGlmaWVkUG9zaXRpb24gPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICBwb3NpdGlvbkF0dHJpYnV0ZS5jb3VudCAqIHBvc2l0aW9uQXR0cmlidXRlLml0ZW1TaXplXHJcbiAgICApO1xyXG4gICAgY29uc3QgbW9kaWZpZWROb3JtYWwgPSBuZXcgRmxvYXQzMkFycmF5KFxyXG4gICAgICBub3JtYWxBdHRyaWJ1dGUuY291bnQgKiBub3JtYWxBdHRyaWJ1dGUuaXRlbVNpemVcclxuICAgICk7XHJcblxyXG4gICAgaWYgKGluZGV4ICE9PSBudWxsKSB7XHJcbiAgICAgIC8vIGluZGV4ZWQgYnVmZmVyIGdlb21ldHJ5XHJcblxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShtYXRlcmlhbCkpIHtcclxuICAgICAgICBmb3IgKGkgPSAwLCBpbCA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7XHJcbiAgICAgICAgICBncm91cCA9IGdyb3Vwc1tpXTtcclxuICAgICAgICAgIGdyb3VwTWF0ZXJpYWwgPSBtYXRlcmlhbFtncm91cC5tYXRlcmlhbEluZGV4XTtcclxuXHJcbiAgICAgICAgICBzdGFydCA9IE1hdGgubWF4KGdyb3VwLnN0YXJ0LCBkcmF3UmFuZ2Uuc3RhcnQpO1xyXG4gICAgICAgICAgZW5kID0gTWF0aC5taW4oXHJcbiAgICAgICAgICAgIGdyb3VwLnN0YXJ0ICsgZ3JvdXAuY291bnQsXHJcbiAgICAgICAgICAgIGRyYXdSYW5nZS5zdGFydCArIGRyYXdSYW5nZS5jb3VudFxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBmb3IgKGogPSBzdGFydCwgamwgPSBlbmQ7IGogPCBqbDsgaiArPSAzKSB7XHJcbiAgICAgICAgICAgIGEgPSBpbmRleC5nZXRYKGopO1xyXG4gICAgICAgICAgICBiID0gaW5kZXguZ2V0WChqICsgMSk7XHJcbiAgICAgICAgICAgIGMgPSBpbmRleC5nZXRYKGogKyAyKTtcclxuXHJcbiAgICAgICAgICAgIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcclxuICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICBvYmplY3QsXHJcbiAgICAgICAgICAgICAgZ3JvdXBNYXRlcmlhbCxcclxuICAgICAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgICBtb3JwaFBvc2l0aW9uLFxyXG4gICAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgICAgYixcclxuICAgICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICAgIG1vZGlmaWVkUG9zaXRpb25cclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcclxuICAgICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgICBvYmplY3QsXHJcbiAgICAgICAgICAgICAgZ3JvdXBNYXRlcmlhbCxcclxuICAgICAgICAgICAgICBub3JtYWxBdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgICAgbW9ycGhOb3JtYWwsXHJcbiAgICAgICAgICAgICAgbW9ycGhUYXJnZXRzUmVsYXRpdmUsXHJcbiAgICAgICAgICAgICAgYSxcclxuICAgICAgICAgICAgICBiLFxyXG4gICAgICAgICAgICAgIGMsXHJcbiAgICAgICAgICAgICAgbW9kaWZpZWROb3JtYWxcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RhcnQgPSBNYXRoLm1heCgwLCBkcmF3UmFuZ2Uuc3RhcnQpO1xyXG4gICAgICAgIGVuZCA9IE1hdGgubWluKGluZGV4LmNvdW50LCBkcmF3UmFuZ2Uuc3RhcnQgKyBkcmF3UmFuZ2UuY291bnQpO1xyXG5cclxuICAgICAgICBmb3IgKGkgPSBzdGFydCwgaWwgPSBlbmQ7IGkgPCBpbDsgaSArPSAzKSB7XHJcbiAgICAgICAgICBhID0gaW5kZXguZ2V0WChpKTtcclxuICAgICAgICAgIGIgPSBpbmRleC5nZXRYKGkgKyAxKTtcclxuICAgICAgICAgIGMgPSBpbmRleC5nZXRYKGkgKyAyKTtcclxuXHJcbiAgICAgICAgICBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXHJcbiAgICAgICAgICAgIC8vQHRzLWlnbm9yZVxyXG4gICAgICAgICAgICBvYmplY3QsXHJcbiAgICAgICAgICAgIG1hdGVyaWFsLFxyXG4gICAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgbW9ycGhQb3NpdGlvbixcclxuICAgICAgICAgICAgbW9ycGhUYXJnZXRzUmVsYXRpdmUsXHJcbiAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgIGIsXHJcbiAgICAgICAgICAgIGMsXHJcbiAgICAgICAgICAgIG1vZGlmaWVkUG9zaXRpb25cclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICBtYXRlcmlhbCxcclxuICAgICAgICAgICAgbm9ybWFsQXR0cmlidXRlLFxyXG4gICAgICAgICAgICBtb3JwaE5vcm1hbCxcclxuICAgICAgICAgICAgbW9ycGhUYXJnZXRzUmVsYXRpdmUsXHJcbiAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgIGIsXHJcbiAgICAgICAgICAgIGMsXHJcbiAgICAgICAgICAgIG1vZGlmaWVkTm9ybWFsXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbkF0dHJpYnV0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIC8vIG5vbi1pbmRleGVkIGJ1ZmZlciBnZW9tZXRyeVxyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobWF0ZXJpYWwpKSB7XHJcbiAgICAgICAgZm9yIChpID0gMCwgaWwgPSBncm91cHMubGVuZ3RoOyBpIDwgaWw7IGkrKykge1xyXG4gICAgICAgICAgZ3JvdXAgPSBncm91cHNbaV07XHJcbiAgICAgICAgICBncm91cE1hdGVyaWFsID0gbWF0ZXJpYWxbZ3JvdXAubWF0ZXJpYWxJbmRleF07XHJcblxyXG4gICAgICAgICAgc3RhcnQgPSBNYXRoLm1heChncm91cC5zdGFydCwgZHJhd1JhbmdlLnN0YXJ0KTtcclxuICAgICAgICAgIGVuZCA9IE1hdGgubWluKFxyXG4gICAgICAgICAgICBncm91cC5zdGFydCArIGdyb3VwLmNvdW50LFxyXG4gICAgICAgICAgICBkcmF3UmFuZ2Uuc3RhcnQgKyBkcmF3UmFuZ2UuY291bnRcclxuICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgZm9yIChqID0gc3RhcnQsIGpsID0gZW5kOyBqIDwgamw7IGogKz0gMykge1xyXG4gICAgICAgICAgICBhID0gajtcclxuICAgICAgICAgICAgYiA9IGogKyAxO1xyXG4gICAgICAgICAgICBjID0gaiArIDI7XHJcblxyXG4gICAgICAgICAgICBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXHJcbiAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICAgIGdyb3VwTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgICAgbW9ycGhQb3NpdGlvbixcclxuICAgICAgICAgICAgICBtb3JwaFRhcmdldHNSZWxhdGl2ZSxcclxuICAgICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICAgIGIsXHJcbiAgICAgICAgICAgICAgYyxcclxuICAgICAgICAgICAgICBtb2RpZmllZFBvc2l0aW9uXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBfY2FsY3VsYXRlTW9ycGhlZEF0dHJpYnV0ZURhdGEoXHJcbiAgICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICAgIGdyb3VwTWF0ZXJpYWwsXHJcbiAgICAgICAgICAgICAgbm9ybWFsQXR0cmlidXRlLFxyXG4gICAgICAgICAgICAgIG1vcnBoTm9ybWFsLFxyXG4gICAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICAgIGEsXHJcbiAgICAgICAgICAgICAgYixcclxuICAgICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICAgIG1vZGlmaWVkTm9ybWFsXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoMCwgZHJhd1JhbmdlLnN0YXJ0KTtcclxuICAgICAgICBlbmQgPSBNYXRoLm1pbihcclxuICAgICAgICAgIHBvc2l0aW9uQXR0cmlidXRlLmNvdW50LFxyXG4gICAgICAgICAgZHJhd1JhbmdlLnN0YXJ0ICsgZHJhd1JhbmdlLmNvdW50XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gc3RhcnQsIGlsID0gZW5kOyBpIDwgaWw7IGkgKz0gMykge1xyXG4gICAgICAgICAgYSA9IGk7XHJcbiAgICAgICAgICBiID0gaSArIDE7XHJcbiAgICAgICAgICBjID0gaSArIDI7XHJcblxyXG4gICAgICAgICAgX2NhbGN1bGF0ZU1vcnBoZWRBdHRyaWJ1dGVEYXRhKFxyXG4gICAgICAgICAgICAvL0B0cy1pZ25vcmVcclxuICAgICAgICAgICAgb2JqZWN0LFxyXG4gICAgICAgICAgICBtYXRlcmlhbCxcclxuICAgICAgICAgICAgcG9zaXRpb25BdHRyaWJ1dGUsXHJcbiAgICAgICAgICAgIG1vcnBoUG9zaXRpb24sXHJcbiAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICBiLFxyXG4gICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICBtb2RpZmllZFBvc2l0aW9uXHJcbiAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgIF9jYWxjdWxhdGVNb3JwaGVkQXR0cmlidXRlRGF0YShcclxuICAgICAgICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgICAgICAgIG9iamVjdCxcclxuICAgICAgICAgICAgbWF0ZXJpYWwsXHJcbiAgICAgICAgICAgIG5vcm1hbEF0dHJpYnV0ZSxcclxuICAgICAgICAgICAgbW9ycGhOb3JtYWwsXHJcbiAgICAgICAgICAgIG1vcnBoVGFyZ2V0c1JlbGF0aXZlLFxyXG4gICAgICAgICAgICBhLFxyXG4gICAgICAgICAgICBiLFxyXG4gICAgICAgICAgICBjLFxyXG4gICAgICAgICAgICBtb2RpZmllZE5vcm1hbFxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBtb3JwaGVkUG9zaXRpb25BdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgbW9kaWZpZWRQb3NpdGlvbixcclxuICAgICAgM1xyXG4gICAgKTtcclxuICAgIGNvbnN0IG1vcnBoZWROb3JtYWxBdHRyaWJ1dGUgPSBuZXcgRmxvYXQzMkJ1ZmZlckF0dHJpYnV0ZShcclxuICAgICAgbW9kaWZpZWROb3JtYWwsXHJcbiAgICAgIDNcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcG9zaXRpb25BdHRyaWJ1dGU6IHBvc2l0aW9uQXR0cmlidXRlLFxyXG4gICAgICBub3JtYWxBdHRyaWJ1dGU6IG5vcm1hbEF0dHJpYnV0ZSxcclxuICAgICAgbW9ycGhlZFBvc2l0aW9uQXR0cmlidXRlOiBtb3JwaGVkUG9zaXRpb25BdHRyaWJ1dGUsXHJcbiAgICAgIG1vcnBoZWROb3JtYWxBdHRyaWJ1dGU6IG1vcnBoZWROb3JtYWxBdHRyaWJ1dGUsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHsgQnVmZmVyR2VvbWV0cnlVdGlscyB9O1xyXG4iLCIvKipcclxuICogQGF1dGhvciBhbHRlcmVkcSAvIGh0dHA6Ly9hbHRlcmVkcXVhbGlhLmNvbS9cclxuICogQGF1dGhvciBtci5kb29iIC8gaHR0cDovL21yZG9vYi5jb20vXHJcbiAqL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGNhbnZhczogISF3aW5kb3cuQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELFxyXG4gIHdlYmdsOiAoZnVuY3Rpb24gKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XHJcblxyXG4gICAgICByZXR1cm4gISEoXHJcbiAgICAgICAgd2luZG93LldlYkdMUmVuZGVyaW5nQ29udGV4dCAmJlxyXG4gICAgICAgIChjYW52YXMuZ2V0Q29udGV4dChcIndlYmdsXCIpIHx8IGNhbnZhcy5nZXRDb250ZXh0KFwiZXhwZXJpbWVudGFsLXdlYmdsXCIpKVxyXG4gICAgICApO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSkoKSxcclxuXHJcbiAgd29ya2VyczogISF3aW5kb3cuV29ya2VyLFxyXG4gIGZpbGVhcGk6IHdpbmRvdy5GaWxlICYmIHdpbmRvdy5GaWxlUmVhZGVyICYmIHdpbmRvdy5GaWxlTGlzdCAmJiB3aW5kb3cuQmxvYixcclxuXHJcbiAgZ2V0V2ViR0xFcnJvck1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGVsZW1lbnQuaWQgPSBcIndlYmdsLWVycm9yLW1lc3NhZ2VcIjtcclxuICAgIGVsZW1lbnQuc3R5bGUuZm9udEZhbWlseSA9IFwibW9ub3NwYWNlXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRTaXplID0gXCIxM3B4XCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmZvbnRXZWlnaHQgPSBcIm5vcm1hbFwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kID0gXCIjZmZmXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLmNvbG9yID0gXCIjMDAwXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLnBhZGRpbmcgPSBcIjEuNWVtXCI7XHJcbiAgICBlbGVtZW50LnN0eWxlLndpZHRoID0gXCI0MDBweFwiO1xyXG4gICAgZWxlbWVudC5zdHlsZS5tYXJnaW4gPSBcIjVlbSBhdXRvIDBcIjtcclxuXHJcbiAgICBpZiAoIXRoaXMud2ViZ2wpIHtcclxuICAgICAgZWxlbWVudC5pbm5lckhUTUwgPSB3aW5kb3cuV2ViR0xSZW5kZXJpbmdDb250ZXh0XHJcbiAgICAgICAgPyBbXHJcbiAgICAgICAgICAgICdZb3VyIGdyYXBoaWNzIGNhcmQgZG9lcyBub3Qgc2VlbSB0byBzdXBwb3J0IDxhIGhyZWY9XCJodHRwOi8va2hyb25vcy5vcmcvd2ViZ2wvd2lraS9HZXR0aW5nX2FfV2ViR0xfSW1wbGVtZW50YXRpb25cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5XZWJHTDwvYT4uPGJyIC8+JyxcclxuICAgICAgICAgICAgJ0ZpbmQgb3V0IGhvdyB0byBnZXQgaXQgPGEgaHJlZj1cImh0dHA6Ly9nZXQud2ViZ2wub3JnL1wiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPmhlcmU8L2E+LicsXHJcbiAgICAgICAgICBdLmpvaW4oXCJcXG5cIilcclxuICAgICAgICA6IFtcclxuICAgICAgICAgICAgJ1lvdXIgYnJvd3NlciBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgPGEgaHJlZj1cImh0dHA6Ly9raHJvbm9zLm9yZy93ZWJnbC93aWtpL0dldHRpbmdfYV9XZWJHTF9JbXBsZW1lbnRhdGlvblwiIHN0eWxlPVwiY29sb3I6IzAwMDAwMFwiPldlYkdMPC9hPi48YnIvPicsXHJcbiAgICAgICAgICAgICdGaW5kIG91dCBob3cgdG8gZ2V0IGl0IDxhIGhyZWY9XCJodHRwOi8vZ2V0LndlYmdsLm9yZy9cIiBzdHlsZT1cImNvbG9yOiMwMDAwMDBcIj5oZXJlPC9hPi4nLFxyXG4gICAgICAgICAgXS5qb2luKFwiXFxuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBlbGVtZW50O1xyXG4gIH0sXHJcblxyXG4gIGFkZEdldFdlYkdMTWVzc2FnZTogZnVuY3Rpb24gKHBhcmFtZXRlcnM/OiBIVE1MRWxlbWVudCkge1xyXG4gICAgbGV0IHBhcmVudCwgaWQsIGVsZW1lbnQ7XHJcbiAgICBwYXJlbnQgPVxyXG4gICAgICBwYXJhbWV0ZXJzPy5wYXJlbnRFbGVtZW50ICE9PSB1bmRlZmluZWRcclxuICAgICAgICA/IHBhcmFtZXRlcnMucGFyZW50RWxlbWVudFxyXG4gICAgICAgIDogZG9jdW1lbnQuYm9keTtcclxuICAgIGlkID0gcGFyYW1ldGVycz8uaWQgIT09IHVuZGVmaW5lZCA/IHBhcmFtZXRlcnMuaWQgOiBcIm9sZGllXCI7XHJcbiAgICBlbGVtZW50ID0gdGhpcy5nZXRXZWJHTEVycm9yTWVzc2FnZSgpO1xyXG4gICAgZWxlbWVudC5pZCA9IGlkO1xyXG4gICAgcGFyZW50LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xyXG4gIH0sXHJcbn07XHJcbiIsImltcG9ydCB7IE1hdGVyaWFsIH0gZnJvbSBcInRocmVlXCI7XHJcblxyXG4vLyBQcm92aWRlcyBzaW1wbGUgc3RhdGljIGZ1bmN0aW9ucyB0aGF0IGFyZSB1c2VkIG11bHRpcGxlIHRpbWVzIGluIHRoZSBhcHBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGVscGVycyB7XHJcbiAgc3RhdGljIHRocm90dGxlKFxyXG4gICAgZm46ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZCxcclxuICAgIHRocmVzaGhvbGQ6IG51bWJlcixcclxuICAgIHNjb3BlPzogYW55XHJcbiAgKSB7XHJcbiAgICB0aHJlc2hob2xkIHx8ICh0aHJlc2hob2xkID0gMjUwKTtcclxuICAgIGxldCBsYXN0OiBudW1iZXIsIGRlZmVyVGltZXI6IE5vZGVKUy5UaW1lb3V0O1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSBzY29wZSB8fCB0aGlzO1xyXG5cclxuICAgICAgY29uc3Qgbm93ID0gK25ldyBEYXRlKCksXHJcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcclxuXHJcbiAgICAgIGlmIChsYXN0ICYmIG5vdyA8IGxhc3QgKyB0aHJlc2hob2xkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlZmVyVGltZXIpO1xyXG4gICAgICAgIGRlZmVyVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGxhc3QgPSBub3c7XHJcbiAgICAgICAgICBmbi5hcHBseShjb250ZXh0LCBhcmdzKTtcclxuICAgICAgICB9LCB0aHJlc2hob2xkKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsYXN0ID0gbm93O1xyXG4gICAgICAgIGZuLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc3RhdGljIGxvZ1Byb2dyZXNzKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh4aHI6IFByb2dyZXNzRXZlbnQpIHtcclxuICAgICAgaWYgKHhoci5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbiAgICAgICAgY29uc3QgcGVyY2VudENvbXBsZXRlID0gKHhoci5sb2FkZWQgLyB4aHIudG90YWwpICogMTAwO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhNYXRoLnJvdW5kKHBlcmNlbnRDb21wbGV0ZSkgKyBcIiUgZG93bmxvYWRlZFwiKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBsb2dFcnJvcigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoeGhyOiBQcm9ncmVzc0V2ZW50KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoeGhyKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgaGFuZGxlQ29sb3JDaGFuZ2UoY29sb3I6IFRIUkVFLkNvbG9yKSB7XHJcbiAgICByZXR1cm4gKHZhbHVlOiBzdHJpbmcpID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShcIiNcIiwgXCIweFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29sb3Iuc2V0SGV4KHBhcnNlSW50KHZhbHVlLCAxMikpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyB1cGRhdGUobWVzaDogVEhSRUUuTWVzaCkge1xyXG4gICAgdGhpcy5uZWVkc1VwZGF0ZShtZXNoLm1hdGVyaWFsLCBtZXNoLmdlb21ldHJ5KTtcclxuICB9XHJcblxyXG4gIHN0YXRpYyBuZWVkc1VwZGF0ZShcclxuICAgIG1hdGVyaWFsOiBUSFJFRS5NZXNoW1wibWF0ZXJpYWxcIl0sXHJcbiAgICBnZW9tZXRyeTogVEhSRUUuQnVmZmVyR2VvbWV0cnlcclxuICApIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChtYXRlcmlhbCBpbnN0YW5jZW9mIE1hdGVyaWFsKSB7XHJcbiAgICAgICAgbWF0ZXJpYWwuc2lkZSA9ICttYXRlcmlhbC5zaWRlOyAvL0Vuc3VyZSBudW1iZXJcclxuICAgICAgICBtYXRlcmlhbC5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXMubm9ybWFscy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIGdlb21ldHJ5LmF0dHJpYnV0ZXMuY29sb3JzLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzdGF0aWMgdXBkYXRlVGV4dHVyZShtYXRlcmlhbDogYW55LCBtYXRlcmlhbEtleTogc3RyaW5nLCB0ZXh0dXJlczogYW55KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGtleTogc3RyaW5nKSB7XHJcbiAgICAgIG1hdGVyaWFsW21hdGVyaWFsS2V5XSA9IHRleHR1cmVzW2tleV07XHJcbiAgICAgIG1hdGVyaWFsLm5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgIH07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBBTElBUyA9IHtcclxuICBsZWZ0OiAzNyxcclxuICB1cDogMzgsXHJcbiAgcmlnaHQ6IDM5LFxyXG4gIGRvd246IDQwLFxyXG4gIHNwYWNlOiAzMixcclxuICB0YWI6IDksXHJcbiAgZXNjYXBlOiAyNyxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcclxuICBkb21FbGVtZW50OiBIVE1MRWxlbWVudCB8IERvY3VtZW50O1xyXG4gIGtleUNvZGVzOiBQYXJ0aWFsPHsgW2s6IG51bWJlcl06IGJvb2xlYW4gfT47XHJcbiAgY29uc3RydWN0b3IoZG9tRWxlbWVudD86IEhUTUxFbGVtZW50IHwgRG9jdW1lbnQpIHtcclxuICAgIHRoaXMuZG9tRWxlbWVudCA9IGRvbUVsZW1lbnQgfHwgZG9jdW1lbnQ7XHJcbiAgICB0aGlzLmtleUNvZGVzID0ge307XHJcblxyXG4gICAgLy8gYmluZCBrZXlFdmVudHNcclxuICAgIHRoaXMuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcImtleWRvd25cIixcclxuICAgICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJrZXl1cFwiLFxyXG4gICAgICAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHRoaXMub25LZXlDaGFuZ2UoZXZlbnQpLFxyXG4gICAgICBmYWxzZVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBiaW5kIHdpbmRvdyBibHVyXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIGRlc3Ryb3koKSB7XHJcbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJrZXlkb3duXCIsXHJcbiAgICAgIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4gdGhpcy5vbktleUNoYW5nZShldmVudCksXHJcbiAgICAgIGZhbHNlXHJcbiAgICApO1xyXG4gICAgdGhpcy5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgIFwia2V5dXBcIixcclxuICAgICAgKGV2ZW50OiBLZXlib2FyZEV2ZW50KSA9PiB0aGlzLm9uS2V5Q2hhbmdlKGV2ZW50KSxcclxuICAgICAgZmFsc2VcclxuICAgICk7XHJcblxyXG4gICAgLy8gdW5iaW5kIHdpbmRvdyBibHVyIGV2ZW50XHJcbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgKCkgPT4gdGhpcy5vbkJsdXIsIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIG9uQmx1cigpIHtcclxuICAgIGZvciAoY29uc3QgcHJvcCBpbiB0aGlzLmtleUNvZGVzKSB0aGlzLmtleUNvZGVzW3Byb3BdID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBvbktleUNoYW5nZShldmVudDogS2V5Ym9hcmRFdmVudCkge1xyXG4gICAgLy8gbG9nIHRvIGRlYnVnXHJcbiAgICAvL2NvbnNvbGUubG9nKCdvbktleUNoYW5nZScsIGV2ZW50LCBldmVudC5rZXlDb2RlLCBldmVudC5zaGlmdEtleSwgZXZlbnQuY3RybEtleSwgZXZlbnQuYWx0S2V5LCBldmVudC5tZXRhS2V5KVxyXG4gICAgY29uc29sZTtcclxuICAgIC8vIHVwZGF0ZSB0aGlzLmtleUNvZGVzXHJcbiAgICBjb25zdCBrZXlDb2RlID0gZXZlbnQua2V5Q29kZTtcclxuICAgIHRoaXMua2V5Q29kZXNba2V5Q29kZV0gPSBldmVudC50eXBlID09PSBcImtleWRvd25cIjtcclxuICB9XHJcblxyXG4gIHByZXNzZWQoa2V5RGVzYzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5zcGxpdChcIitcIik7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKE9iamVjdC5rZXlzKEFMSUFTKS5pbmRleE9mKGtleSkgIT0gLTEpIHtcclxuICAgICAgICBwcmVzc2VkID0gdGhpcy5rZXlDb2Rlc1tBTElBU1trZXkgYXMga2V5b2YgdHlwZW9mIEFMSUFTXV07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcHJlc3NlZCA9IHRoaXMua2V5Q29kZXNba2V5LnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKV07XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwcmVzc2VkKSByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG5cclxuICBldmVudE1hdGNoZXMoZXZlbnQ6IEtleWJvYXJkRXZlbnQsIGtleURlc2M6IGtleW9mIHR5cGVvZiBBTElBUykge1xyXG4gICAgY29uc3QgYWxpYXNlcyA9IEFMSUFTO1xyXG4gICAgY29uc3QgYWxpYXNLZXlzID0gT2JqZWN0LmtleXMoYWxpYXNlcyk7XHJcbiAgICBjb25zdCBrZXlzID0ga2V5RGVzYy5pbmRleE9mKFwiK1wiKSAhPSAtMSA/IGtleURlc2Muc3BsaXQoXCIrXCIpIDogW2tleURlc2NdO1xyXG4gICAgLy8gbG9nIHRvIGRlYnVnXHJcbiAgICAvLyBjb25zb2xlLmxvZygnZXZlbnRNYXRjaGVzJywgZXZlbnQsIGV2ZW50LmtleUNvZGUsIGV2ZW50LnNoaWZ0S2V5LCBldmVudC5jdHJsS2V5LCBldmVudC5hbHRLZXksIGV2ZW50Lm1ldGFLZXkpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcclxuICAgICAgbGV0IHByZXNzZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKGtleSA9PT0gXCJzaGlmdFwiKSB7XHJcbiAgICAgICAgcHJlc3NlZCA9IGV2ZW50LnNoaWZ0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJjdHJsXCIpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuY3RybEtleSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmIChrZXkgPT09IFwiYWx0XCIpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQuYWx0S2V5ID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gXCJtZXRhXCIpIHtcclxuICAgICAgICBwcmVzc2VkID0gZXZlbnQubWV0YUtleSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmIChhbGlhc0tleXMuaW5kZXhPZihrZXkpICE9PSAtMSkge1xyXG4gICAgICAgIHByZXNzZWQgPSBldmVudC5rZXlDb2RlID09PSBhbGlhc2VzW2tleSBhcyBrZXlvZiB0eXBlb2YgQUxJQVNdO1xyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IGtleS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCkpIHtcclxuICAgICAgICBwcmVzc2VkID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXByZXNzZWQpIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSBcInRocmVlXCI7XHJcbmRlY2xhcmUgbW9kdWxlIFwidGhyZWVcIiB7XHJcbiAgZXhwb3J0IGNsYXNzIE9yYml0Q29udHJvbHMge1xyXG4gICAgY29uc3RydWN0b3IoY2FtZXJhOiBUSFJFRS5DYW1lcmEsIGVsZW1lbnQ6IEhUTUxFbGVtZW50KTtcclxuICAgIGRvbUVsZW1lbnQ6IEhUTUxFbGVtZW50O1xyXG4gICAgZW5hYmxlZDogYm9vbGVhbjtcclxuICAgIG9iamVjdDogVEhSRUUuQ2FtZXJhO1xyXG4gICAgdGFyZ2V0OiBUSFJFRS5WZWN0b3IzO1xyXG4gICAgbWluWm9vbTogbnVtYmVyO1xyXG4gICAgbWF4Wm9vbTogbnVtYmVyO1xyXG4gICAgbWluUG9sYXJBbmdsZTogbnVtYmVyO1xyXG4gICAgbWF4UG9sYXJBbmdsZTogbnVtYmVyO1xyXG4gICAgbWluRGlzdGFuY2U6IG51bWJlcjtcclxuICAgIG1heERpc3RhbmNlOiBudW1iZXI7XHJcbiAgICBtaW5BemltdXRoQW5nbGU6IG51bWJlcjtcclxuICAgIG1heEF6aW11dGhBbmdsZTogbnVtYmVyO1xyXG4gICAgZW5hYmxlRGFtcGluZzogYm9vbGVhbjtcclxuICAgIGRhbXBpbmdGYWN0b3I6IG51bWJlcjtcclxuICAgIGVuYWJsZVpvb206IGJvb2xlYW47XHJcbiAgICB6b29tU3BlZWQ6IG51bWJlcjtcclxuICAgIGVuYWJsZVJvdGF0ZTogYm9vbGVhbjtcclxuICAgIHJvdGF0ZVNwZWVkOiBudW1iZXI7XHJcbiAgICBlbmFibGVQYW46IGJvb2xlYW47XHJcbiAgICBwYW5TcGVlZDogbnVtYmVyO1xyXG4gICAgc2NyZWVuU3BhY2VQYW5uaW5nOiBib29sZWFuO1xyXG4gICAga2V5UGFuU3BlZWQ6IG51bWJlcjtcclxuICAgIGF1dG9Sb3RhdGU6IGJvb2xlYW47XHJcbiAgICBhdXRvUm90YXRlU3BlZWQ6IG51bWJlcjtcclxuICAgIGtleXM6IHtcclxuICAgICAgUklHSFQ6IHN0cmluZztcclxuICAgICAgTEVGVDogc3RyaW5nO1xyXG4gICAgICBVUDogc3RyaW5nO1xyXG4gICAgICBCT1RUT006IHN0cmluZztcclxuICAgIH07XHJcbiAgICBtb3VzZUJ1dHRvbnM6IHtcclxuICAgICAgTEVGVDogVEhSRUUuTU9VU0U7XHJcbiAgICAgIE1JRERMRTogVEhSRUUuTU9VU0U7XHJcbiAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRTtcclxuICAgIH07XHJcbiAgICB0b3VjaGVzOiB7XHJcbiAgICAgIE9ORTogVEhSRUUuVE9VQ0g7XHJcbiAgICAgIFRXTzogVEhSRUUuVE9VQ0g7XHJcbiAgICB9O1xyXG4gICAgdGFyZ2V0MDogVEhSRUUuVmVjdG9yMztcclxuICAgIHBvc2l0aW9uMDogVEhSRUUuQ2FtZXJhW1wicG9zaXRpb25cIl07XHJcbiAgICB6b29tMDogbnVtYmVyO1xyXG4gICAgX2RvbUVsZW1lbnRLZXlFdmVudHM6IEhUTUxFbGVtZW50O1xyXG4gICAgZ2V0UG9sYXJBbmdsZTogKCkgPT4gbnVtYmVyO1xyXG4gICAgZ2V0QXppbXV0aGFsQW5nbGU6ICgpID0+IG51bWJlcjtcclxuICAgIGxpc3RlblRvS2V5RXZlbnRzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgICBzYXZlU3RhdGU6ICgpID0+IHZvaWQ7XHJcbiAgICByZXNldDogKCkgPT4gdm9pZDtcclxuICAgIHVwZGF0ZTogKCkgPT4gYm9vbGVhbjtcclxuICAgIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbiAgfVxyXG4gIGV4cG9ydCBjbGFzcyBNYXBDb250cm9scyB7XHJcbiAgICBjb25zdHJ1Y3RvcihjYW1lcmE6IFRIUkVFLkNhbWVyYSwgZWxlbWVudDogSFRNTEVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuICAvLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxyXG4gIC8vXHJcbiAgLy8gICAgT3JiaXQgLSBsZWZ0IG1vdXNlIC8gdG91Y2g6IG9uZS1maW5nZXIgbW92ZVxyXG4gIC8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvLWZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXHJcbiAgLy8gICAgUGFuIC0gcmlnaHQgbW91c2UsIG9yIGxlZnQgbW91c2UgKyBjdHJsL21ldGEvc2hpZnRLZXksIG9yIGFycm93IGtleXMgLyB0b3VjaDogdHdvLWZpbmdlciBtb3ZlXHJcblxyXG4gIGNvbnN0IF9jaGFuZ2VFdmVudCA9IHtcclxuICAgIHR5cGU6IFwiY2hhbmdlXCIsXHJcbiAgfTtcclxuICBjb25zdCBfc3RhcnRFdmVudCA9IHtcclxuICAgIHR5cGU6IFwic3RhcnRcIixcclxuICB9O1xyXG4gIGNvbnN0IF9lbmRFdmVudCA9IHtcclxuICAgIHR5cGU6IFwiZW5kXCIsXHJcbiAgfTtcclxuXHJcbiAgY2xhc3MgT3JiaXRDb250cm9scyBleHRlbmRzIFRIUkVFLkV2ZW50RGlzcGF0Y2hlciB7XHJcbiAgICBkb21FbGVtZW50O1xyXG4gICAgZW5hYmxlZDtcclxuICAgIG9iamVjdDtcclxuICAgIHRhcmdldDtcclxuICAgIG1pblpvb207XHJcbiAgICBtYXhab29tO1xyXG4gICAgbWluUG9sYXJBbmdsZTtcclxuICAgIG1heFBvbGFyQW5nbGU7XHJcbiAgICBtaW5EaXN0YW5jZTtcclxuICAgIG1heERpc3RhbmNlO1xyXG4gICAgbWluQXppbXV0aEFuZ2xlO1xyXG4gICAgbWF4QXppbXV0aEFuZ2xlO1xyXG4gICAgZW5hYmxlRGFtcGluZztcclxuICAgIGRhbXBpbmdGYWN0b3I7XHJcbiAgICBlbmFibGVab29tO1xyXG4gICAgem9vbVNwZWVkO1xyXG4gICAgZW5hYmxlUm90YXRlO1xyXG4gICAgcm90YXRlU3BlZWQ7XHJcbiAgICBlbmFibGVQYW47XHJcbiAgICBwYW5TcGVlZDtcclxuICAgIHNjcmVlblNwYWNlUGFubmluZztcclxuICAgIGtleVBhblNwZWVkO1xyXG4gICAgYXV0b1JvdGF0ZTtcclxuICAgIGF1dG9Sb3RhdGVTcGVlZDtcclxuICAgIGtleXM6IHtcclxuICAgICAgUklHSFQ6IHN0cmluZztcclxuICAgICAgTEVGVDogc3RyaW5nO1xyXG4gICAgICBVUDogc3RyaW5nO1xyXG4gICAgICBCT1RUT006IHN0cmluZztcclxuICAgIH07XHJcbiAgICBtb3VzZUJ1dHRvbnM6IHtcclxuICAgICAgTEVGVDogVEhSRUUuTU9VU0U7XHJcbiAgICAgIE1JRERMRTogVEhSRUUuTU9VU0U7XHJcbiAgICAgIFJJR0hUOiBUSFJFRS5NT1VTRTtcclxuICAgIH07XHJcbiAgICB0b3VjaGVzOiB7XHJcbiAgICAgIE9ORTogVEhSRUUuVE9VQ0g7XHJcbiAgICAgIFRXTzogVEhSRUUuVE9VQ0g7XHJcbiAgICB9O1xyXG4gICAgdGFyZ2V0MDtcclxuICAgIHBvc2l0aW9uMDtcclxuICAgIHpvb20wO1xyXG4gICAgX2RvbUVsZW1lbnRLZXlFdmVudHM6IEhUTUxFbGVtZW50O1xyXG4gICAgZ2V0UG9sYXJBbmdsZTogKCkgPT4gbnVtYmVyO1xyXG4gICAgZ2V0QXppbXV0aGFsQW5nbGU6ICgpID0+IG51bWJlcjtcclxuICAgIGxpc3RlblRvS2V5RXZlbnRzOiAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHZvaWQ7XHJcbiAgICBzYXZlU3RhdGU6ICgpID0+IHZvaWQ7XHJcbiAgICByZXNldDogKCkgPT4gdm9pZDtcclxuICAgIHVwZGF0ZTtcclxuICAgIGRpc3Bvc2U6ICgpID0+IHZvaWQ7XHJcbiAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IFRIUkVFLkNhbWVyYSwgZG9tRWxlbWVudDogSFRNTEVsZW1lbnQpIHtcclxuICAgICAgc3VwZXIoKTtcclxuICAgICAgaWYgKGRvbUVsZW1lbnQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAnVEhSRUUuT3JiaXRDb250cm9sczogVGhlIHNlY29uZCBwYXJhbWV0ZXIgXCJkb21FbGVtZW50XCIgaXMgbm93IG1hbmRhdG9yeS4nXHJcbiAgICAgICAgKTtcclxuICAgICAgLy9AdHMtaWdub3JlXHJcbiAgICAgIGlmIChkb21FbGVtZW50ID09PSBkb2N1bWVudClcclxuICAgICAgICBjb25zb2xlLmVycm9yKFxyXG4gICAgICAgICAgJ1RIUkVFLk9yYml0Q29udHJvbHM6IFwiZG9jdW1lbnRcIiBzaG91bGQgbm90IGJlIHVzZWQgYXMgdGhlIHRhcmdldCBcImRvbUVsZW1lbnRcIi4gUGxlYXNlIHVzZSBcInJlbmRlcmVyLmRvbUVsZW1lbnRcIiBpbnN0ZWFkLidcclxuICAgICAgICApO1xyXG4gICAgICB0aGlzLm9iamVjdCA9IG9iamVjdDtcclxuICAgICAgdGhpcy5kb21FbGVtZW50ID0gZG9tRWxlbWVudDsgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sXHJcblxyXG4gICAgICB0aGlzLmVuYWJsZWQgPSB0cnVlOyAvLyBcInRhcmdldFwiIHNldHMgdGhlIGxvY2F0aW9uIG9mIGZvY3VzLCB3aGVyZSB0aGUgb2JqZWN0IG9yYml0cyBhcm91bmRcclxuXHJcbiAgICAgIHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTsgLy8gSG93IGZhciB5b3UgY2FuIGRvbGx5IGluIGFuZCBvdXQgKCBQZXJzcGVjdGl2ZUNhbWVyYSBvbmx5IClcclxuXHJcbiAgICAgIHRoaXMubWluRGlzdGFuY2UgPSAwO1xyXG4gICAgICB0aGlzLm1heERpc3RhbmNlID0gSW5maW5pdHk7IC8vIEhvdyBmYXIgeW91IGNhbiB6b29tIGluIGFuZCBvdXQgKCBPcnRob2dyYXBoaWNDYW1lcmEgb25seSApXHJcblxyXG4gICAgICB0aGlzLm1pblpvb20gPSAwO1xyXG4gICAgICB0aGlzLm1heFpvb20gPSBJbmZpbml0eTsgLy8gSG93IGZhciB5b3UgY2FuIG9yYml0IHZlcnRpY2FsbHksIHVwcGVyIGFuZCBsb3dlciBsaW1pdHMuXHJcbiAgICAgIC8vIFJhbmdlIGlzIDAgdG8gTWF0aC5QSSByYWRpYW5zLlxyXG5cclxuICAgICAgdGhpcy5taW5Qb2xhckFuZ2xlID0gMDsgLy8gcmFkaWFuc1xyXG5cclxuICAgICAgdGhpcy5tYXhQb2xhckFuZ2xlID0gTWF0aC5QSTsgLy8gcmFkaWFuc1xyXG4gICAgICAvLyBIb3cgZmFyIHlvdSBjYW4gb3JiaXQgaG9yaXpvbnRhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxyXG4gICAgICAvLyBJZiBzZXQsIHRoZSBpbnRlcnZhbCBbIG1pbiwgbWF4IF0gbXVzdCBiZSBhIHN1Yi1pbnRlcnZhbCBvZiBbIC0gMiBQSSwgMiBQSSBdLCB3aXRoICggbWF4IC0gbWluIDwgMiBQSSApXHJcblxyXG4gICAgICB0aGlzLm1pbkF6aW11dGhBbmdsZSA9IC1JbmZpbml0eTsgLy8gcmFkaWFuc1xyXG5cclxuICAgICAgdGhpcy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTsgLy8gcmFkaWFuc1xyXG4gICAgICAvLyBTZXQgdG8gdHJ1ZSB0byBlbmFibGUgZGFtcGluZyAoaW5lcnRpYSlcclxuICAgICAgLy8gSWYgZGFtcGluZyBpcyBlbmFibGVkLCB5b3UgbXVzdCBjYWxsIGNvbnRyb2xzLnVwZGF0ZSgpIGluIHlvdXIgYW5pbWF0aW9uIGxvb3BcclxuXHJcbiAgICAgIHRoaXMuZW5hYmxlRGFtcGluZyA9IGZhbHNlO1xyXG4gICAgICB0aGlzLmRhbXBpbmdGYWN0b3IgPSAwLjA1OyAvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxyXG4gICAgICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nXHJcblxyXG4gICAgICB0aGlzLmVuYWJsZVpvb20gPSB0cnVlO1xyXG4gICAgICB0aGlzLnpvb21TcGVlZCA9IDEuMDsgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcm90YXRpbmdcclxuXHJcbiAgICAgIHRoaXMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcclxuICAgICAgdGhpcy5yb3RhdGVTcGVlZCA9IDEuMDsgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgcGFubmluZ1xyXG5cclxuICAgICAgdGhpcy5lbmFibGVQYW4gPSB0cnVlO1xyXG4gICAgICB0aGlzLnBhblNwZWVkID0gMS4wO1xyXG4gICAgICB0aGlzLnNjcmVlblNwYWNlUGFubmluZyA9IHRydWU7IC8vIGlmIGZhbHNlLCBwYW4gb3J0aG9nb25hbCB0byB3b3JsZC1zcGFjZSBkaXJlY3Rpb24gY2FtZXJhLnVwXHJcblxyXG4gICAgICB0aGlzLmtleVBhblNwZWVkID0gNy4wOyAvLyBwaXhlbHMgbW92ZWQgcGVyIGFycm93IGtleSBwdXNoXHJcbiAgICAgIC8vIFNldCB0byB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgcm90YXRlIGFyb3VuZCB0aGUgdGFyZ2V0XHJcbiAgICAgIC8vIElmIGF1dG8tcm90YXRlIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxyXG5cclxuICAgICAgdGhpcy5hdXRvUm90YXRlID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuYXV0b1JvdGF0ZVNwZWVkID0gMi4wOyAvLyAzMCBzZWNvbmRzIHBlciBvcmJpdCB3aGVuIGZwcyBpcyA2MFxyXG4gICAgICAvLyBUaGUgZm91ciBhcnJvdyBrZXlzXHJcblxyXG4gICAgICB0aGlzLmtleXMgPSB7XHJcbiAgICAgICAgTEVGVDogXCJBcnJvd0xlZnRcIixcclxuICAgICAgICBVUDogXCJBcnJvd1VwXCIsXHJcbiAgICAgICAgUklHSFQ6IFwiQXJyb3dSaWdodFwiLFxyXG4gICAgICAgIEJPVFRPTTogXCJBcnJvd0Rvd25cIixcclxuICAgICAgfTsgLy8gTW91c2UgYnV0dG9uc1xyXG5cclxuICAgICAgdGhpcy5tb3VzZUJ1dHRvbnMgPSB7XHJcbiAgICAgICAgTEVGVDogVEhSRUUuTU9VU0UuUk9UQVRFLFxyXG4gICAgICAgIE1JRERMRTogVEhSRUUuTU9VU0UuRE9MTFksXHJcbiAgICAgICAgUklHSFQ6IFRIUkVFLk1PVVNFLlBBTixcclxuICAgICAgfTsgLy8gVG91Y2ggZmluZ2Vyc1xyXG5cclxuICAgICAgdGhpcy50b3VjaGVzID0ge1xyXG4gICAgICAgIE9ORTogVEhSRUUuVE9VQ0guUk9UQVRFLFxyXG4gICAgICAgIFRXTzogVEhSRUUuVE9VQ0guRE9MTFlfUEFOLFxyXG4gICAgICB9OyAvLyBmb3IgcmVzZXRcclxuXHJcbiAgICAgIHRoaXMudGFyZ2V0MCA9IHRoaXMudGFyZ2V0LmNsb25lKCk7XHJcbiAgICAgIHRoaXMucG9zaXRpb24wID0gdGhpcy5vYmplY3QucG9zaXRpb24uY2xvbmUoKTtcclxuICAgICAgdGhpcy56b29tMCA9ICh0aGlzLm9iamVjdCBhcyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkuem9vbTsgLy8gdGhlIHRhcmdldCBET00gZWxlbWVudCBmb3Iga2V5IGV2ZW50c1xyXG5cclxuICAgICAgdGhpcy5fZG9tRWxlbWVudEtleUV2ZW50cyA9IG51bGw7IC8vXHJcbiAgICAgIC8vIHB1YmxpYyBtZXRob2RzXHJcbiAgICAgIC8vXHJcblxyXG4gICAgICB0aGlzLmdldFBvbGFyQW5nbGUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHNwaGVyaWNhbC5waGk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmdldEF6aW11dGhhbEFuZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBzcGhlcmljYWwudGhldGE7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLmxpc3RlblRvS2V5RXZlbnRzID0gZnVuY3Rpb24gKGRvbUVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xyXG4gICAgICAgIHRoaXMuX2RvbUVsZW1lbnRLZXlFdmVudHMgPSBkb21FbGVtZW50O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdGhpcy5zYXZlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2NvcGUudGFyZ2V0MC5jb3B5KHNjb3BlLnRhcmdldCk7XHJcbiAgICAgICAgc2NvcGUucG9zaXRpb24wLmNvcHkoc2NvcGUub2JqZWN0LnBvc2l0aW9uKTtcclxuICAgICAgICBzY29wZS56b29tMCA9IChzY29wZS5vYmplY3QgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpLnpvb207XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNjb3BlLnRhcmdldC5jb3B5KHNjb3BlLnRhcmdldDApO1xyXG4gICAgICAgIHNjb3BlLm9iamVjdC5wb3NpdGlvbi5jb3B5KHNjb3BlLnBvc2l0aW9uMCk7XHJcbiAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkuem9vbSA9IHNjb3BlLnpvb20wO1xyXG4gICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpLnVwZGF0ZVByb2plY3Rpb25NYXRyaXgoKTtcclxuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KF9jaGFuZ2VFdmVudCk7XHJcbiAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICB9OyAvLyB0aGlzIG1ldGhvZCBpcyBleHBvc2VkLCBidXQgcGVyaGFwcyBpdCB3b3VsZCBiZSBiZXR0ZXIgaWYgd2UgY2FuIG1ha2UgaXQgcHJpdmF0ZS4uLlxyXG5cclxuICAgICAgdGhpcy51cGRhdGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7IC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xyXG5cclxuICAgICAgICBjb25zdCBxdWF0ID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnMoXHJcbiAgICAgICAgICBvYmplY3QudXAsXHJcbiAgICAgICAgICBuZXcgVEhSRUUuVmVjdG9yMygwLCAxLCAwKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29uc3QgcXVhdEludmVyc2UgPSBxdWF0LmNsb25lKCkuaW52ZXJ0KCk7XHJcbiAgICAgICAgY29uc3QgbGFzdFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICBjb25zdCBsYXN0UXVhdGVybmlvbiA9IG5ldyBUSFJFRS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgY29uc3QgdHdvUEkgPSAyICogTWF0aC5QSTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKCkge1xyXG4gICAgICAgICAgY29uc3QgcG9zaXRpb24gPSBzY29wZS5vYmplY3QucG9zaXRpb247XHJcbiAgICAgICAgICBvZmZzZXQuY29weShwb3NpdGlvbikuc3ViKHNjb3BlLnRhcmdldCk7IC8vIHJvdGF0ZSBvZmZzZXQgdG8gXCJ5LWF4aXMtaXMtdXBcIiBzcGFjZVxyXG5cclxuICAgICAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24ocXVhdCk7IC8vIGFuZ2xlIGZyb20gei1heGlzIGFyb3VuZCB5LWF4aXNcclxuXHJcbiAgICAgICAgICBzcGhlcmljYWwuc2V0RnJvbVZlY3RvcjMob2Zmc2V0KTtcclxuXHJcbiAgICAgICAgICBpZiAoc2NvcGUuYXV0b1JvdGF0ZSAmJiBzdGF0ZSA9PT0gU1RBVEUuTk9ORSkge1xyXG4gICAgICAgICAgICByb3RhdGVMZWZ0KGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVEYW1waW5nKSB7XHJcbiAgICAgICAgICAgIHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YSAqIHNjb3BlLmRhbXBpbmdGYWN0b3I7XHJcbiAgICAgICAgICAgIHNwaGVyaWNhbC5waGkgKz0gc3BoZXJpY2FsRGVsdGEucGhpICogc2NvcGUuZGFtcGluZ0ZhY3RvcjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNwaGVyaWNhbC50aGV0YSArPSBzcGhlcmljYWxEZWx0YS50aGV0YTtcclxuICAgICAgICAgICAgc3BoZXJpY2FsLnBoaSArPSBzcGhlcmljYWxEZWx0YS5waGk7XHJcbiAgICAgICAgICB9IC8vIHJlc3RyaWN0IHRoZXRhIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuXHJcbiAgICAgICAgICBsZXQgbWluID0gc2NvcGUubWluQXppbXV0aEFuZ2xlO1xyXG4gICAgICAgICAgbGV0IG1heCA9IHNjb3BlLm1heEF6aW11dGhBbmdsZTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNGaW5pdGUobWluKSAmJiBpc0Zpbml0ZShtYXgpKSB7XHJcbiAgICAgICAgICAgIGlmIChtaW4gPCAtTWF0aC5QSSkgbWluICs9IHR3b1BJO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtaW4gPiBNYXRoLlBJKSBtaW4gLT0gdHdvUEk7XHJcbiAgICAgICAgICAgIGlmIChtYXggPCAtTWF0aC5QSSkgbWF4ICs9IHR3b1BJO1xyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXggPiBNYXRoLlBJKSBtYXggLT0gdHdvUEk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWluIDw9IG1heCkge1xyXG4gICAgICAgICAgICAgIHNwaGVyaWNhbC50aGV0YSA9IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCBzcGhlcmljYWwudGhldGEpKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzcGhlcmljYWwudGhldGEgPVxyXG4gICAgICAgICAgICAgICAgc3BoZXJpY2FsLnRoZXRhID4gKG1pbiArIG1heCkgLyAyXHJcbiAgICAgICAgICAgICAgICAgID8gTWF0aC5tYXgobWluLCBzcGhlcmljYWwudGhldGEpXHJcbiAgICAgICAgICAgICAgICAgIDogTWF0aC5taW4obWF4LCBzcGhlcmljYWwudGhldGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IC8vIHJlc3RyaWN0IHBoaSB0byBiZSBiZXR3ZWVuIGRlc2lyZWQgbGltaXRzXHJcblxyXG4gICAgICAgICAgc3BoZXJpY2FsLnBoaSA9IE1hdGgubWF4KFxyXG4gICAgICAgICAgICBzY29wZS5taW5Qb2xhckFuZ2xlLFxyXG4gICAgICAgICAgICBNYXRoLm1pbihzY29wZS5tYXhQb2xhckFuZ2xlLCBzcGhlcmljYWwucGhpKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHNwaGVyaWNhbC5tYWtlU2FmZSgpO1xyXG4gICAgICAgICAgc3BoZXJpY2FsLnJhZGl1cyAqPSBzY2FsZTsgLy8gcmVzdHJpY3QgcmFkaXVzIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcclxuXHJcbiAgICAgICAgICBzcGhlcmljYWwucmFkaXVzID0gTWF0aC5tYXgoXHJcbiAgICAgICAgICAgIHNjb3BlLm1pbkRpc3RhbmNlLFxyXG4gICAgICAgICAgICBNYXRoLm1pbihzY29wZS5tYXhEaXN0YW5jZSwgc3BoZXJpY2FsLnJhZGl1cylcclxuICAgICAgICAgICk7IC8vIG1vdmUgdGFyZ2V0IHRvIHBhbm5lZCBsb2NhdGlvblxyXG5cclxuICAgICAgICAgIGlmIChzY29wZS5lbmFibGVEYW1waW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnRhcmdldC5hZGRTY2FsZWRWZWN0b3IocGFuT2Zmc2V0LCBzY29wZS5kYW1waW5nRmFjdG9yKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjb3BlLnRhcmdldC5hZGQocGFuT2Zmc2V0KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBvZmZzZXQuc2V0RnJvbVNwaGVyaWNhbChzcGhlcmljYWwpOyAvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2VcclxuXHJcbiAgICAgICAgICBvZmZzZXQuYXBwbHlRdWF0ZXJuaW9uKHF1YXRJbnZlcnNlKTtcclxuICAgICAgICAgIHBvc2l0aW9uLmNvcHkoc2NvcGUudGFyZ2V0KS5hZGQob2Zmc2V0KTtcclxuICAgICAgICAgIHNjb3BlLm9iamVjdC5sb29rQXQoc2NvcGUudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlRGFtcGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBzcGhlcmljYWxEZWx0YS50aGV0YSAqPSAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvcjtcclxuICAgICAgICAgICAgc3BoZXJpY2FsRGVsdGEucGhpICo9IDEgLSBzY29wZS5kYW1waW5nRmFjdG9yO1xyXG4gICAgICAgICAgICBwYW5PZmZzZXQubXVsdGlwbHlTY2FsYXIoMSAtIHNjb3BlLmRhbXBpbmdGYWN0b3IpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc3BoZXJpY2FsRGVsdGEuc2V0KDAsIDAsIDApO1xyXG4gICAgICAgICAgICBwYW5PZmZzZXQuc2V0KDAsIDAsIDApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNjYWxlID0gMTsgLy8gdXBkYXRlIGNvbmRpdGlvbiBpczpcclxuICAgICAgICAgIC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xyXG4gICAgICAgICAgLy8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XHJcblxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB6b29tQ2hhbmdlZCB8fFxyXG4gICAgICAgICAgICBsYXN0UG9zaXRpb24uZGlzdGFuY2VUb1NxdWFyZWQoc2NvcGUub2JqZWN0LnBvc2l0aW9uKSA+IEVQUyB8fFxyXG4gICAgICAgICAgICA4ICogKDEgLSBsYXN0UXVhdGVybmlvbi5kb3Qoc2NvcGUub2JqZWN0LnF1YXRlcm5pb24pKSA+IEVQU1xyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX2NoYW5nZUV2ZW50KTtcclxuICAgICAgICAgICAgbGFzdFBvc2l0aW9uLmNvcHkoc2NvcGUub2JqZWN0LnBvc2l0aW9uKTtcclxuICAgICAgICAgICAgbGFzdFF1YXRlcm5pb24uY29weShzY29wZS5vYmplY3QucXVhdGVybmlvbik7XHJcbiAgICAgICAgICAgIHpvb21DaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KSgpO1xyXG5cclxuICAgICAgdGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbnRleHRtZW51XCIsIG9uQ29udGV4dE1lbnUpO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24pO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIG9uTW91c2VXaGVlbCk7XHJcbiAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBvblRvdWNoU3RhcnQpO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIG9uVG91Y2hFbmQpO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBvblRvdWNoTW92ZSk7XHJcbiAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICBcInBvaW50ZXJtb3ZlXCIsXHJcbiAgICAgICAgICBvblBvaW50ZXJNb3ZlXHJcbiAgICAgICAgKTtcclxuICAgICAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgIFwicG9pbnRlcnVwXCIsXHJcbiAgICAgICAgICBvblBvaW50ZXJVcFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmIChzY29wZS5fZG9tRWxlbWVudEtleUV2ZW50cyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgc2NvcGUuX2RvbUVsZW1lbnRLZXlFdmVudHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgb25LZXlEb3duKTtcclxuICAgICAgICB9IC8vc2NvcGUuZGlzcGF0Y2hFdmVudCggeyB0eXBlOiAnZGlzcG9zZScgfSApOyAvLyBzaG91bGQgdGhpcyBiZSBhZGRlZCBoZXJlP1xyXG4gICAgICB9OyAvL1xyXG4gICAgICAvLyBpbnRlcm5hbHNcclxuICAgICAgLy9cclxuXHJcbiAgICAgIGNvbnN0IHNjb3BlID0gdGhpcztcclxuICAgICAgY29uc3QgU1RBVEUgPSB7XHJcbiAgICAgICAgTk9ORTogLTEsXHJcbiAgICAgICAgUk9UQVRFOiAwLFxyXG4gICAgICAgIERPTExZOiAxLFxyXG4gICAgICAgIFBBTjogMixcclxuICAgICAgICBUT1VDSF9ST1RBVEU6IDMsXHJcbiAgICAgICAgVE9VQ0hfUEFOOiA0LFxyXG4gICAgICAgIFRPVUNIX0RPTExZX1BBTjogNSxcclxuICAgICAgICBUT1VDSF9ET0xMWV9ST1RBVEU6IDYsXHJcbiAgICAgIH07XHJcbiAgICAgIGxldCBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgIGNvbnN0IEVQUyA9IDAuMDAwMDAxOyAvLyBjdXJyZW50IHBvc2l0aW9uIGluIHNwaGVyaWNhbCBjb29yZGluYXRlc1xyXG5cclxuICAgICAgY29uc3Qgc3BoZXJpY2FsID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xyXG4gICAgICBjb25zdCBzcGhlcmljYWxEZWx0YSA9IG5ldyBUSFJFRS5TcGhlcmljYWwoKTtcclxuICAgICAgbGV0IHNjYWxlID0gMTtcclxuICAgICAgY29uc3QgcGFuT2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgbGV0IHpvb21DaGFuZ2VkID0gZmFsc2U7XHJcbiAgICAgIGNvbnN0IHJvdGF0ZVN0YXJ0ID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3Qgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3Qgcm90YXRlRGVsdGEgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xyXG4gICAgICBjb25zdCBwYW5TdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICAgIGNvbnN0IHBhbkVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICAgIGNvbnN0IHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3QgZG9sbHlTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcbiAgICAgIGNvbnN0IGRvbGx5RW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcclxuICAgICAgY29uc3QgZG9sbHlEZWx0YSA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRBdXRvUm90YXRpb25BbmdsZSgpIHtcclxuICAgICAgICByZXR1cm4gKCgyICogTWF0aC5QSSkgLyA2MCAvIDYwKSAqIHNjb3BlLmF1dG9Sb3RhdGVTcGVlZDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0Wm9vbVNjYWxlKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnBvdygwLjk1LCBzY29wZS56b29tU3BlZWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByb3RhdGVMZWZ0KGFuZ2xlOiBudW1iZXIpIHtcclxuICAgICAgICBzcGhlcmljYWxEZWx0YS50aGV0YSAtPSBhbmdsZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcm90YXRlVXAoYW5nbGU6IG51bWJlcikge1xyXG4gICAgICAgIHNwaGVyaWNhbERlbHRhLnBoaSAtPSBhbmdsZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcGFuTGVmdCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHBhbkxlZnQoZGlzdGFuY2U6IG51bWJlciwgb2JqZWN0TWF0cml4OiBUSFJFRS5NYXRyaXg0KSB7XHJcbiAgICAgICAgICB2LnNldEZyb21NYXRyaXhDb2x1bW4ob2JqZWN0TWF0cml4LCAwKTsgLy8gZ2V0IFggY29sdW1uIG9mIG9iamVjdE1hdHJpeFxyXG5cclxuICAgICAgICAgIHYubXVsdGlwbHlTY2FsYXIoLWRpc3RhbmNlKTtcclxuICAgICAgICAgIHBhbk9mZnNldC5hZGQodik7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKTtcclxuXHJcbiAgICAgIGNvbnN0IHBhblVwID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCB2ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcGFuVXAoZGlzdGFuY2U6IG51bWJlciwgb2JqZWN0TWF0cml4OiBUSFJFRS5NYXRyaXg0KSB7XHJcbiAgICAgICAgICBpZiAoc2NvcGUuc2NyZWVuU3BhY2VQYW5uaW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHYuc2V0RnJvbU1hdHJpeENvbHVtbihvYmplY3RNYXRyaXgsIDEpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdi5zZXRGcm9tTWF0cml4Q29sdW1uKG9iamVjdE1hdHJpeCwgMCk7XHJcbiAgICAgICAgICAgIHYuY3Jvc3NWZWN0b3JzKHNjb3BlLm9iamVjdC51cCwgdik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgdi5tdWx0aXBseVNjYWxhcihkaXN0YW5jZSk7XHJcbiAgICAgICAgICBwYW5PZmZzZXQuYWRkKHYpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKCk7IC8vIGRlbHRhWCBhbmQgZGVsdGFZIGFyZSBpbiBwaXhlbHM7IHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxyXG5cclxuICAgICAgY29uc3QgcGFuID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBwYW4oZGVsdGFYOiBudW1iZXIsIGRlbHRhWTogbnVtYmVyKSB7XHJcbiAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2NvcGUuZG9tRWxlbWVudDtcclxuXHJcbiAgICAgICAgICBpZiAoKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSkuaXNQZXJzcGVjdGl2ZUNhbWVyYSkge1xyXG4gICAgICAgICAgICAvLyBwZXJzcGVjdGl2ZVxyXG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHNjb3BlLm9iamVjdC5wb3NpdGlvbjtcclxuICAgICAgICAgICAgb2Zmc2V0LmNvcHkocG9zaXRpb24pLnN1YihzY29wZS50YXJnZXQpO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7IC8vIGhhbGYgb2YgdGhlIGZvdiBpcyBjZW50ZXIgdG8gdG9wIG9mIHNjcmVlblxyXG5cclxuICAgICAgICAgICAgdGFyZ2V0RGlzdGFuY2UgKj0gTWF0aC50YW4oXHJcbiAgICAgICAgICAgICAgKCgoc2NvcGUub2JqZWN0IGFzIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKS5mb3YgLyAyKSAqIE1hdGguUEkpIC9cclxuICAgICAgICAgICAgICAgIDE4MC4wXHJcbiAgICAgICAgICAgICk7IC8vIHdlIHVzZSBvbmx5IGNsaWVudEhlaWdodCBoZXJlIHNvIGFzcGVjdCByYXRpbyBkb2VzIG5vdCBkaXN0b3J0IHNwZWVkXHJcblxyXG4gICAgICAgICAgICBwYW5MZWZ0KFxyXG4gICAgICAgICAgICAgICgyICogZGVsdGFYICogdGFyZ2V0RGlzdGFuY2UpIC8gZWxlbWVudC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgc2NvcGUub2JqZWN0Lm1hdHJpeFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBwYW5VcChcclxuICAgICAgICAgICAgICAoMiAqIGRlbHRhWSAqIHRhcmdldERpc3RhbmNlKSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICAgIHNjb3BlLm9iamVjdC5tYXRyaXhcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5pc09ydGhvZ3JhcGhpY0NhbWVyYVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIC8vIG9ydGhvZ3JhcGhpY1xyXG4gICAgICAgICAgICBwYW5MZWZ0KFxyXG4gICAgICAgICAgICAgIChkZWx0YVggKlxyXG4gICAgICAgICAgICAgICAgKChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5yaWdodCAtXHJcbiAgICAgICAgICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5sZWZ0KSkgL1xyXG4gICAgICAgICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gL1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICBzY29wZS5vYmplY3QubWF0cml4XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHBhblVwKFxyXG4gICAgICAgICAgICAgIChkZWx0YVkgKlxyXG4gICAgICAgICAgICAgICAgKChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS50b3AgLVxyXG4gICAgICAgICAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkuYm90dG9tKSkgL1xyXG4gICAgICAgICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gL1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgc2NvcGUub2JqZWN0Lm1hdHJpeFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY2FtZXJhIG5laXRoZXIgb3J0aG9ncmFwaGljIG5vciBwZXJzcGVjdGl2ZVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgICAgXCJXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBwYW4gZGlzYWJsZWQuXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgc2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSkoKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRvbGx5T3V0KGRvbGx5U2NhbGU6IG51bWJlcikge1xyXG4gICAgICAgIGlmICgoc2NvcGUub2JqZWN0IGFzIFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKS5pc1BlcnNwZWN0aXZlQ2FtZXJhKSB7XHJcbiAgICAgICAgICBzY2FsZSAvPSBkb2xseVNjYWxlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkuaXNPcnRob2dyYXBoaWNDYW1lcmFcclxuICAgICAgICApIHtcclxuICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS56b29tID0gTWF0aC5tYXgoXHJcbiAgICAgICAgICAgIHNjb3BlLm1pblpvb20sXHJcbiAgICAgICAgICAgIE1hdGgubWluKFxyXG4gICAgICAgICAgICAgIHNjb3BlLm1heFpvb20sXHJcbiAgICAgICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gKiBkb2xseVNjYWxlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpO1xyXG4gICAgICAgICAgem9vbUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oXHJcbiAgICAgICAgICAgIFwiV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gZG9sbHkvem9vbSBkaXNhYmxlZC5cIlxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRvbGx5SW4oZG9sbHlTY2FsZTogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKChzY29wZS5vYmplY3QgYXMgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEpLmlzUGVyc3BlY3RpdmVDYW1lcmEpIHtcclxuICAgICAgICAgIHNjYWxlICo9IGRvbGx5U2NhbGU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS5pc09ydGhvZ3JhcGhpY0NhbWVyYVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgKHNjb3BlLm9iamVjdCBhcyBUSFJFRS5PcnRob2dyYXBoaWNDYW1lcmEpLnpvb20gPSBNYXRoLm1heChcclxuICAgICAgICAgICAgc2NvcGUubWluWm9vbSxcclxuICAgICAgICAgICAgTWF0aC5taW4oXHJcbiAgICAgICAgICAgICAgc2NvcGUubWF4Wm9vbSxcclxuICAgICAgICAgICAgICAoc2NvcGUub2JqZWN0IGFzIFRIUkVFLk9ydGhvZ3JhcGhpY0NhbWVyYSkuem9vbSAvIGRvbGx5U2NhbGVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIChzY29wZS5vYmplY3QgYXMgVEhSRUUuT3J0aG9ncmFwaGljQ2FtZXJhKS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XHJcbiAgICAgICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybihcclxuICAgICAgICAgICAgXCJXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLlwiXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc2NvcGUuZW5hYmxlWm9vbSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSAvL1xyXG4gICAgICAvLyBldmVudCBjYWxsYmFja3MgLSB1cGRhdGUgdGhlIG9iamVjdCBzdGF0ZVxyXG4gICAgICAvL1xyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VEb3duUm90YXRlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Eb2xseShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGRvbGx5U3RhcnQuc2V0KGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25QYW4oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVJvdGF0ZShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHJvdGF0ZUVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgcm90YXRlRGVsdGFcclxuICAgICAgICAgIC5zdWJWZWN0b3JzKHJvdGF0ZUVuZCwgcm90YXRlU3RhcnQpXHJcbiAgICAgICAgICAubXVsdGlwbHlTY2FsYXIoc2NvcGUucm90YXRlU3BlZWQpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50O1xyXG4gICAgICAgIHJvdGF0ZUxlZnQoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueCkgLyBlbGVtZW50LmNsaWVudEhlaWdodCk7IC8vIHllcywgaGVpZ2h0XHJcblxyXG4gICAgICAgIHJvdGF0ZVVwKCgyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkpIC8gZWxlbWVudC5jbGllbnRIZWlnaHQpO1xyXG4gICAgICAgIHJvdGF0ZVN0YXJ0LmNvcHkocm90YXRlRW5kKTtcclxuICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlRG9sbHkoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBkb2xseUVuZC5zZXQoZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSk7XHJcbiAgICAgICAgZG9sbHlEZWx0YS5zdWJWZWN0b3JzKGRvbGx5RW5kLCBkb2xseVN0YXJ0KTtcclxuXHJcbiAgICAgICAgaWYgKGRvbGx5RGVsdGEueSA+IDApIHtcclxuICAgICAgICAgIGRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRvbGx5RGVsdGEueSA8IDApIHtcclxuICAgICAgICAgIGRvbGx5SW4oZ2V0Wm9vbVNjYWxlKCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9sbHlTdGFydC5jb3B5KGRvbGx5RW5kKTtcclxuICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VNb3ZlUGFuKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgcGFuRW5kLnNldChldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZKTtcclxuICAgICAgICBwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCwgcGFuU3RhcnQpLm11bHRpcGx5U2NhbGFyKHNjb3BlLnBhblNwZWVkKTtcclxuICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XHJcbiAgICAgICAgcGFuU3RhcnQuY29weShwYW5FbmQpO1xyXG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gbm8tb3BcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbChldmVudDogV2hlZWxFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5kZWx0YVkgPCAwKSB7XHJcbiAgICAgICAgICBkb2xseUluKGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRlbHRhWSA+IDApIHtcclxuICAgICAgICAgIGRvbGx5T3V0KGdldFpvb21TY2FsZSgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgbGV0IG5lZWRzVXBkYXRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQuY29kZSkge1xyXG4gICAgICAgICAgY2FzZSBzY29wZS5rZXlzLlVQOlxyXG4gICAgICAgICAgICBwYW4oMCwgc2NvcGUua2V5UGFuU3BlZWQpO1xyXG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2Ugc2NvcGUua2V5cy5CT1RUT006XHJcbiAgICAgICAgICAgIHBhbigwLCAtc2NvcGUua2V5UGFuU3BlZWQpO1xyXG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2Ugc2NvcGUua2V5cy5MRUZUOlxyXG4gICAgICAgICAgICBwYW4oc2NvcGUua2V5UGFuU3BlZWQsIDApO1xyXG4gICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2Ugc2NvcGUua2V5cy5SSUdIVDpcclxuICAgICAgICAgICAgcGFuKC1zY29wZS5rZXlQYW5TcGVlZCwgMCk7XHJcbiAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobmVlZHNVcGRhdGUpIHtcclxuICAgICAgICAgIC8vIHByZXZlbnQgdGhlIGJyb3dzZXIgZnJvbSBzY3JvbGxpbmcgb24gY3Vyc29yIGtleXNcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICBzY29wZS51cGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgcm90YXRlU3RhcnQuc2V0KGV2ZW50LnRvdWNoZXNbMF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zdCB4ID0gMC41ICogKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggKyBldmVudC50b3VjaGVzWzFdLnBhZ2VYKTtcclxuICAgICAgICAgIGNvbnN0IHkgPSAwLjUgKiAoZXZlbnQudG91Y2hlc1swXS5wYWdlWSArIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVkpO1xyXG4gICAgICAgICAgcm90YXRlU3RhcnQuc2V0KHgsIHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydFBhbihldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICBwYW5TdGFydC5zZXQoZXZlbnQudG91Y2hlc1swXS5wYWdlWCwgZXZlbnQudG91Y2hlc1swXS5wYWdlWSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHggPSAwLjUgKiAoZXZlbnQudG91Y2hlc1swXS5wYWdlWCArIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVgpO1xyXG4gICAgICAgICAgY29uc3QgeSA9IDAuNSAqIChldmVudC50b3VjaGVzWzBdLnBhZ2VZICsgZXZlbnQudG91Y2hlc1sxXS5wYWdlWSk7XHJcbiAgICAgICAgICBwYW5TdGFydC5zZXQoeCwgeSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBjb25zdCBkeCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVggLSBldmVudC50b3VjaGVzWzFdLnBhZ2VYO1xyXG4gICAgICAgIGNvbnN0IGR5ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVk7XHJcbiAgICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xyXG4gICAgICAgIGRvbGx5U3RhcnQuc2V0KDAsIGRpc3RhbmNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hTdGFydERvbGx5UGFuKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20pIGhhbmRsZVRvdWNoU3RhcnREb2xseShldmVudCk7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbikgaGFuZGxlVG91Y2hTdGFydFBhbihldmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseVJvdGF0ZShldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tKSBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoZXZlbnQpO1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUpIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVSb3RhdGUoZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgcm90YXRlRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgeCA9IDAuNSAqIChldmVudC50b3VjaGVzWzBdLnBhZ2VYICsgZXZlbnQudG91Y2hlc1sxXS5wYWdlWCk7XHJcbiAgICAgICAgICBjb25zdCB5ID0gMC41ICogKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgKyBldmVudC50b3VjaGVzWzFdLnBhZ2VZKTtcclxuICAgICAgICAgIHJvdGF0ZUVuZC5zZXQoeCwgeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByb3RhdGVEZWx0YVxyXG4gICAgICAgICAgLnN1YlZlY3RvcnMocm90YXRlRW5kLCByb3RhdGVTdGFydClcclxuICAgICAgICAgIC5tdWx0aXBseVNjYWxhcihzY29wZS5yb3RhdGVTcGVlZCk7XHJcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQ7XHJcbiAgICAgICAgcm90YXRlTGVmdCgoMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54KSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0KTsgLy8geWVzLCBoZWlnaHRcclxuXHJcbiAgICAgICAgcm90YXRlVXAoKDIgKiBNYXRoLlBJICogcm90YXRlRGVsdGEueSkgLyBlbGVtZW50LmNsaWVudEhlaWdodCk7XHJcbiAgICAgICAgcm90YXRlU3RhcnQuY29weShyb3RhdGVFbmQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVQYW4oZXZlbnQ6IFRvdWNoRXZlbnQpIHtcclxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xyXG4gICAgICAgICAgcGFuRW5kLnNldChldmVudC50b3VjaGVzWzBdLnBhZ2VYLCBldmVudC50b3VjaGVzWzBdLnBhZ2VZKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc3QgeCA9IDAuNSAqIChldmVudC50b3VjaGVzWzBdLnBhZ2VYICsgZXZlbnQudG91Y2hlc1sxXS5wYWdlWCk7XHJcbiAgICAgICAgICBjb25zdCB5ID0gMC41ICogKGV2ZW50LnRvdWNoZXNbMF0ucGFnZVkgKyBldmVudC50b3VjaGVzWzFdLnBhZ2VZKTtcclxuICAgICAgICAgIHBhbkVuZC5zZXQoeCwgeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYW5EZWx0YS5zdWJWZWN0b3JzKHBhbkVuZCwgcGFuU3RhcnQpLm11bHRpcGx5U2NhbGFyKHNjb3BlLnBhblNwZWVkKTtcclxuICAgICAgICBwYW4ocGFuRGVsdGEueCwgcGFuRGVsdGEueSk7XHJcbiAgICAgICAgcGFuU3RhcnQuY29weShwYW5FbmQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseShldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGNvbnN0IGR4ID0gZXZlbnQudG91Y2hlc1swXS5wYWdlWCAtIGV2ZW50LnRvdWNoZXNbMV0ucGFnZVg7XHJcbiAgICAgICAgY29uc3QgZHkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZIC0gZXZlbnQudG91Y2hlc1sxXS5wYWdlWTtcclxuICAgICAgICBjb25zdCBkaXN0YW5jZSA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XHJcbiAgICAgICAgZG9sbHlFbmQuc2V0KDAsIGRpc3RhbmNlKTtcclxuICAgICAgICBkb2xseURlbHRhLnNldCgwLCBNYXRoLnBvdyhkb2xseUVuZC55IC8gZG9sbHlTdGFydC55LCBzY29wZS56b29tU3BlZWQpKTtcclxuICAgICAgICBkb2xseU91dChkb2xseURlbHRhLnkpO1xyXG4gICAgICAgIGRvbGx5U3RhcnQuY29weShkb2xseUVuZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZURvbGx5UGFuKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20pIGhhbmRsZVRvdWNoTW92ZURvbGx5KGV2ZW50KTtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUGFuKSBoYW5kbGVUb3VjaE1vdmVQYW4oZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVEb2xseVJvdGF0ZShldmVudDogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVab29tKSBoYW5kbGVUb3VjaE1vdmVEb2xseShldmVudCk7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSkgaGFuZGxlVG91Y2hNb3ZlUm90YXRlKGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoZTogVG91Y2hFdmVudCkge1xyXG4gICAgICAgIC8vIG5vLW9wXHJcbiAgICAgIH0gLy9cclxuICAgICAgLy8gZXZlbnQgaGFuZGxlcnMgLSBGU006IGxpc3RlbiBmb3IgZXZlbnRzIGFuZCByZXNldCBzdGF0ZVxyXG4gICAgICAvL1xyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qb2ludGVyRG93bihldmVudDogUG9pbnRlckV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJtb3VzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBvbk1vdXNlRG93bihldmVudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgLy8gVE9ETyB0b3VjaFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qb2ludGVyTW92ZShldmVudDogUG9pbnRlckV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJtb3VzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBvbk1vdXNlTW92ZShldmVudCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgLy8gVE9ETyB0b3VjaFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qb2ludGVyVXAoZXZlbnQ6IFBvaW50ZXJFdmVudCkge1xyXG4gICAgICAgIHN3aXRjaCAoZXZlbnQucG9pbnRlclR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgXCJtb3VzZVwiOlxyXG4gICAgICAgICAgY2FzZSBcInBlblwiOlxyXG4gICAgICAgICAgICBvbk1vdXNlVXAoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIC8vIFRPRE8gdG91Y2hcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uTW91c2VEb3duKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgLy8gUHJldmVudCB0aGUgYnJvd3NlciBmcm9tIHNjcm9sbGluZy5cclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOyAvLyBNYW51YWxseSBzZXQgdGhlIGZvY3VzIHNpbmNlIGNhbGxpbmcgcHJldmVudERlZmF1bHQgYWJvdmVcclxuICAgICAgICAvLyBwcmV2ZW50cyB0aGUgYnJvd3NlciBmcm9tIHNldHRpbmcgaXQgYXV0b21hdGljYWxseS5cclxuXHJcbiAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5mb2N1cyA/IHNjb3BlLmRvbUVsZW1lbnQuZm9jdXMoKSA6IHdpbmRvdy5mb2N1cygpO1xyXG4gICAgICAgIGxldCBtb3VzZUFjdGlvbjtcclxuXHJcbiAgICAgICAgc3dpdGNoIChldmVudC5idXR0b24pIHtcclxuICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgbW91c2VBY3Rpb24gPSBzY29wZS5tb3VzZUJ1dHRvbnMuTEVGVDtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBtb3VzZUFjdGlvbiA9IHNjb3BlLm1vdXNlQnV0dG9ucy5NSURETEU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgbW91c2VBY3Rpb24gPSBzY29wZS5tb3VzZUJ1dHRvbnMuUklHSFQ7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIG1vdXNlQWN0aW9uID0gLTE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzd2l0Y2ggKG1vdXNlQWN0aW9uKSB7XHJcbiAgICAgICAgICBjYXNlIFRIUkVFLk1PVVNFLkRPTExZOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duRG9sbHkoZXZlbnQpO1xyXG4gICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLkRPTExZO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFRIUkVFLk1PVVNFLlJPVEFURTpcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSB8fCBldmVudC5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIGhhbmRsZU1vdXNlRG93blJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5ST1RBVEU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgVEhSRUUuTU9VU0UuUEFOOlxyXG4gICAgICAgICAgICBpZiAoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgICBoYW5kbGVNb3VzZURvd25Sb3RhdGUoZXZlbnQpO1xyXG4gICAgICAgICAgICAgIHN0YXRlID0gU1RBVEUuUk9UQVRFO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgaGFuZGxlTW91c2VEb3duUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSB7XHJcbiAgICAgICAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgICAgXCJwb2ludGVybW92ZVwiLFxyXG4gICAgICAgICAgICBvblBvaW50ZXJNb3ZlXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc2NvcGUuZG9tRWxlbWVudC5vd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIFwicG9pbnRlcnVwXCIsXHJcbiAgICAgICAgICAgIG9uUG9pbnRlclVwXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc2NvcGUuZGlzcGF0Y2hFdmVudChfc3RhcnRFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChzY29wZS5lbmFibGVkID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcclxuICAgICAgICAgIGNhc2UgU1RBVEUuUk9UQVRFOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLkRPTExZOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlRG9sbHkoZXZlbnQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLlBBTjpcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlTW91c2VNb3ZlUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlVXAoZXZlbnQ6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzY29wZS5kb21FbGVtZW50Lm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcclxuICAgICAgICAgIFwicG9pbnRlcm1vdmVcIixcclxuICAgICAgICAgIG9uUG9pbnRlck1vdmVcclxuICAgICAgICApO1xyXG4gICAgICAgIHNjb3BlLmRvbUVsZW1lbnQub3duZXJEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgXCJwb2ludGVydXBcIixcclxuICAgICAgICAgIG9uUG9pbnRlclVwXHJcbiAgICAgICAgKTtcclxuICAgICAgICBpZiAoc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBoYW5kbGVNb3VzZVVwKGV2ZW50KTtcclxuICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KF9lbmRFdmVudCk7XHJcbiAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbk1vdXNlV2hlZWwoZXZlbnQ6IFdoZWVsRXZlbnQpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICBzY29wZS5lbmFibGVkID09PSBmYWxzZSB8fFxyXG4gICAgICAgICAgc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgfHxcclxuICAgICAgICAgIChzdGF0ZSAhPT0gU1RBVEUuTk9ORSAmJiBzdGF0ZSAhPT0gU1RBVEUuUk9UQVRFKVxyXG4gICAgICAgIClcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX3N0YXJ0RXZlbnQpO1xyXG4gICAgICAgIGhhbmRsZU1vdXNlV2hlZWwoZXZlbnQpO1xyXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX2VuZEV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25LZXlEb3duKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlIHx8IHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICBoYW5kbGVLZXlEb3duKGV2ZW50KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gb25Ub3VjaFN0YXJ0KGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBzY3JvbGxpbmdcclxuXHJcbiAgICAgICAgc3dpdGNoIChldmVudC50b3VjaGVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBzd2l0Y2ggKHNjb3BlLnRvdWNoZXMuT05FKSB7XHJcbiAgICAgICAgICAgICAgY2FzZSBUSFJFRS5UT1VDSC5ST1RBVEU6XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlVG91Y2hTdGFydFJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFRIUkVFLlRPVUNILlBBTjpcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaFN0YXJ0UGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gU1RBVEUuVE9VQ0hfUEFOO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgc3dpdGNoIChzY29wZS50b3VjaGVzLlRXTykge1xyXG4gICAgICAgICAgICAgIGNhc2UgVEhSRUUuVE9VQ0guRE9MTFlfUEFOOlxyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVRvdWNoU3RhcnREb2xseVBhbihldmVudCk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX0RPTExZX1BBTjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIFRIUkVFLlRPVUNILkRPTExZX1JPVEFURTpcclxuICAgICAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVab29tID09PSBmYWxzZSAmJiBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKVxyXG4gICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVUb3VjaFN0YXJ0RG9sbHlSb3RhdGUoZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWV9ST1RBVEU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0YXRlICE9PSBTVEFURS5OT05FKSB7XHJcbiAgICAgICAgICBzY29wZS5kaXNwYXRjaEV2ZW50KF9zdGFydEV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uVG91Y2hNb3ZlKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gcHJldmVudCBzY3JvbGxpbmdcclxuXHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgY2FzZSBTVEFURS5UT1VDSF9ST1RBVEU6XHJcbiAgICAgICAgICAgIGlmIChzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgICAgIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLlRPVUNIX1BBTjpcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UpIHJldHVybjtcclxuICAgICAgICAgICAgaGFuZGxlVG91Y2hNb3ZlUGFuKGV2ZW50KTtcclxuICAgICAgICAgICAgc2NvcGUudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgU1RBVEUuVE9VQ0hfRE9MTFlfUEFOOlxyXG4gICAgICAgICAgICBpZiAoc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgJiYgc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBoYW5kbGVUb3VjaE1vdmVEb2xseVBhbihldmVudCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlIFNUQVRFLlRPVUNIX0RPTExZX1JPVEFURTpcclxuICAgICAgICAgICAgaWYgKHNjb3BlLmVuYWJsZVpvb20gPT09IGZhbHNlICYmIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBoYW5kbGVUb3VjaE1vdmVEb2xseVJvdGF0ZShldmVudCk7XHJcbiAgICAgICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvblRvdWNoRW5kKGV2ZW50OiBUb3VjaEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgaGFuZGxlVG91Y2hFbmQoZXZlbnQpO1xyXG4gICAgICAgIHNjb3BlLmRpc3BhdGNoRXZlbnQoX2VuZEV2ZW50KTtcclxuICAgICAgICBzdGF0ZSA9IFNUQVRFLk5PTkU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uQ29udGV4dE1lbnUoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlKSByZXR1cm47XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfSAvL1xyXG5cclxuICAgICAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY29udGV4dG1lbnVcIiwgb25Db250ZXh0TWVudSk7XHJcbiAgICAgIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJkb3duXCIsIG9uUG9pbnRlckRvd24pO1xyXG4gICAgICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBvbk1vdXNlV2hlZWwsIHtcclxuICAgICAgICBwYXNzaXZlOiBmYWxzZSxcclxuICAgICAgfSk7XHJcbiAgICAgIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgb25Ub3VjaFN0YXJ0LCB7XHJcbiAgICAgICAgcGFzc2l2ZTogZmFsc2UsXHJcbiAgICAgIH0pO1xyXG4gICAgICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBvblRvdWNoRW5kKTtcclxuICAgICAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIG9uVG91Y2hNb3ZlLCB7XHJcbiAgICAgICAgcGFzc2l2ZTogZmFsc2UsXHJcbiAgICAgIH0pOyAvLyBmb3JjZSBhbiB1cGRhdGUgYXQgc3RhcnRcclxuXHJcbiAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9XHJcbiAgfSAvLyBUaGlzIHNldCBvZiBjb250cm9scyBwZXJmb3JtcyBvcmJpdGluZywgZG9sbHlpbmcgKHpvb21pbmcpLCBhbmQgcGFubmluZy5cclxuICAvLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxyXG4gIC8vIFRoaXMgaXMgdmVyeSBzaW1pbGFyIHRvIE9yYml0Q29udHJvbHMsIGFub3RoZXIgc2V0IG9mIHRvdWNoIGJlaGF2aW9yXHJcbiAgLy9cclxuICAvLyAgICBPcmJpdCAtIHJpZ2h0IG1vdXNlLCBvciBsZWZ0IG1vdXNlICsgY3RybC9tZXRhL3NoaWZ0S2V5IC8gdG91Y2g6IHR3by1maW5nZXIgcm90YXRlXHJcbiAgLy8gICAgWm9vbSAtIG1pZGRsZSBtb3VzZSwgb3IgbW91c2V3aGVlbCAvIHRvdWNoOiB0d28tZmluZ2VyIHNwcmVhZCBvciBzcXVpc2hcclxuICAvLyAgICBQYW4gLSBsZWZ0IG1vdXNlLCBvciBhcnJvdyBrZXlzIC8gdG91Y2g6IG9uZS1maW5nZXIgbW92ZVxyXG5cclxuICBjbGFzcyBNYXBDb250cm9scyBleHRlbmRzIE9yYml0Q29udHJvbHMge1xyXG4gICAgY29uc3RydWN0b3Iob2JqZWN0OiBUSFJFRS5DYW1lcmEsIGRvbUVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgIHN1cGVyKG9iamVjdCwgZG9tRWxlbWVudCk7XHJcbiAgICAgIHRoaXMuc2NyZWVuU3BhY2VQYW5uaW5nID0gZmFsc2U7IC8vIHBhbiBvcnRob2dvbmFsIHRvIHdvcmxkLXNwYWNlIGRpcmVjdGlvbiBjYW1lcmEudXBcclxuXHJcbiAgICAgIHRoaXMubW91c2VCdXR0b25zLkxFRlQgPSBUSFJFRS5NT1VTRS5QQU47XHJcbiAgICAgIHRoaXMubW91c2VCdXR0b25zLlJJR0hUID0gVEhSRUUuTU9VU0UuUk9UQVRFO1xyXG4gICAgICB0aGlzLnRvdWNoZXMuT05FID0gVEhSRUUuVE9VQ0guUEFOO1xyXG4gICAgICB0aGlzLnRvdWNoZXMuVFdPID0gVEhSRUUuVE9VQ0guRE9MTFlfUk9UQVRFO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9AdHMtaWdub3JlXHJcbiAgVEhSRUUuTWFwQ29udHJvbHMgPSBNYXBDb250cm9scztcclxuICAvL0B0cy1pZ25vcmVcclxuICBUSFJFRS5PcmJpdENvbnRyb2xzID0gT3JiaXRDb250cm9scztcclxufSkoKTtcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==